// Automatically generated by odin 1.5.4 - do not edit
#include <float.h>
#include <R.h>
#include <Rmath.h>
#include <Rinternals.h>
#include <stdbool.h>
#include <R_ext/Rdynload.h>
typedef struct odin_model_2sp_internal {
  double aD;
  double *age;
  double age_20_factor;
  double *age_rate;
  int age05;
  int age20l;
  int age20u;
  int age59;
  double *av_human1;
  double *av_human2;
  double *av_mosq1;
  double *av_mosq2;
  double *b;
  double b_lambda;
  double b0;
  double b1;
  double betaL;
  double bites_Bed_species1;
  double bites_Bed_species2;
  double bites_Indoors_species1;
  double bites_Indoors_species2;
  double *cA;
  double cD;
  double chi_species1;
  double chi_species2;
  double *clin_inc;
  double *clin_inc0to5;
  double *cov;
  double *cov_;
  double cT;
  double cU;
  double *custom_seasonality;
  double d_IRS0_1;
  double d_IRS0_2;
  double d_ITN0_1;
  double d_ITN0_2;
  double d1;
  double dB;
  double dCA;
  double dCM;
  double dE;
  double dEL;
  double *delay_array_av_human1;
  double *delay_array_av_human2;
  double *delay_array_av_mosq1;
  double *delay_array_av_mosq2;
  double *delay_array_b;
  double *delay_array_cA;
  double *delay_array_EIR;
  double *delay_array_EIR_species1;
  double *delay_array_EIR_species2;
  double *delay_array_FOI_lag;
  double *delay_array_FOIvijk_species1;
  double *delay_array_FOIvijk_species2;
  double *delay_array_p_det;
  double *delay_array_w1;
  double *delay_array_w1_;
  double *delay_array_w2;
  double *delay_array_w2_;
  double *delay_array_whi1;
  double *delay_array_whi2;
  double *delay_array_yy1;
  double *delay_array_yy1_;
  double *delay_array_yy2;
  double *delay_array_yy2_;
  double *delay_array_z1;
  double *delay_array_z1_;
  double *delay_array_z2;
  double *delay_array_z2_;
  double *delay_array_zhi1;
  double *delay_array_zhi2;
  int *delay_index_FOI;
  int *delay_index_FOIv_species1;
  int *delay_index_FOIv_species2;
  int *delay_index_incv1;
  int *delay_index_incv2;
  double *delay_state_FOI;
  double *delay_state_FOIv_species1;
  double *delay_state_FOIv_species2;
  double *delay_state_incv1;
  double *delay_state_incv2;
  double delayGam;
  double delayMos;
  double *den;
  double *density_vec;
  double dID;
  int dim_A;
  int dim_A_1;
  int dim_A_12;
  int dim_A_2;
  int dim_A_3;
  int dim_age;
  int dim_age_rate;
  int dim_av_human1;
  int dim_av_human2;
  int dim_av_mosq1;
  int dim_av_mosq2;
  int dim_b;
  int dim_b_1;
  int dim_b_12;
  int dim_b_2;
  int dim_b_3;
  int dim_cA;
  int dim_cA_1;
  int dim_cA_12;
  int dim_cA_2;
  int dim_cA_3;
  int dim_clin_inc;
  int dim_clin_inc_1;
  int dim_clin_inc_12;
  int dim_clin_inc_2;
  int dim_clin_inc_3;
  int dim_clin_inc0to5;
  int dim_clin_inc0to5_1;
  int dim_clin_inc0to5_12;
  int dim_clin_inc0to5_2;
  int dim_clin_inc0to5_3;
  int dim_cov;
  int dim_cov_;
  int dim_custom_seasonality;
  int dim_D;
  int dim_D_1;
  int dim_D_12;
  int dim_D_2;
  int dim_D_3;
  int dim_delay_FOI;
  int dim_delay_FOIv_species1;
  int dim_delay_FOIv_species2;
  int dim_den;
  int dim_density_vec;
  int dim_EIR;
  int dim_EIR_1;
  int dim_EIR_12;
  int dim_EIR_2;
  int dim_EIR_3;
  int dim_EIR_species1;
  int dim_EIR_species1_1;
  int dim_EIR_species1_12;
  int dim_EIR_species1_2;
  int dim_EIR_species1_3;
  int dim_EIR_species2;
  int dim_EIR_species2_1;
  int dim_EIR_species2_12;
  int dim_EIR_species2_2;
  int dim_EIR_species2_3;
  int dim_fd;
  int dim_FOI;
  int dim_FOI_1;
  int dim_FOI_12;
  int dim_FOI_2;
  int dim_FOI_3;
  int dim_foi_age;
  int dim_FOI_lag;
  int dim_FOI_lag_1;
  int dim_FOI_lag_12;
  int dim_FOI_lag_2;
  int dim_FOI_lag_3;
  int dim_FOIvijk_species1;
  int dim_FOIvijk_species1_1;
  int dim_FOIvijk_species1_12;
  int dim_FOIvijk_species1_2;
  int dim_FOIvijk_species1_3;
  int dim_FOIvijk_species2;
  int dim_FOIvijk_species2_1;
  int dim_FOIvijk_species2_12;
  int dim_FOIvijk_species2_2;
  int dim_FOIvijk_species2_3;
  int dim_het_wt;
  int dim_IB;
  int dim_IB_1;
  int dim_IB_12;
  int dim_IB_2;
  int dim_IB_3;
  int dim_IC;
  int dim_IC_1;
  int dim_IC_12;
  int dim_IC_2;
  int dim_IC_3;
  int dim_ICA;
  int dim_ICA_1;
  int dim_ICA_12;
  int dim_ICA_2;
  int dim_ICA_3;
  int dim_ICM;
  int dim_ICM_1;
  int dim_ICM_12;
  int dim_ICM_2;
  int dim_ICM_3;
  int dim_ID;
  int dim_ID_1;
  int dim_ID_12;
  int dim_ID_2;
  int dim_ID_3;
  int dim_init_A;
  int dim_init_A_1;
  int dim_init_A_12;
  int dim_init_A_2;
  int dim_init_A_3;
  int dim_init_D;
  int dim_init_D_1;
  int dim_init_D_12;
  int dim_init_D_2;
  int dim_init_D_3;
  int dim_init_IB;
  int dim_init_IB_1;
  int dim_init_IB_12;
  int dim_init_IB_2;
  int dim_init_IB_3;
  int dim_init_ICA;
  int dim_init_ICA_1;
  int dim_init_ICA_12;
  int dim_init_ICA_2;
  int dim_init_ICA_3;
  int dim_init_ICM;
  int dim_init_ICM_1;
  int dim_init_ICM_12;
  int dim_init_ICM_2;
  int dim_init_ICM_3;
  int dim_init_ICM_pre;
  int dim_init_ICM_pre_1;
  int dim_init_ICM_pre_2;
  int dim_init_ID;
  int dim_init_ID_1;
  int dim_init_ID_12;
  int dim_init_ID_2;
  int dim_init_ID_3;
  int dim_init_P;
  int dim_init_P_1;
  int dim_init_P_12;
  int dim_init_P_2;
  int dim_init_P_3;
  int dim_init_S;
  int dim_init_S_1;
  int dim_init_S_12;
  int dim_init_S_2;
  int dim_init_S_3;
  int dim_init_T;
  int dim_init_T_1;
  int dim_init_T_12;
  int dim_init_T_2;
  int dim_init_T_3;
  int dim_init_U;
  int dim_init_U_1;
  int dim_init_U_12;
  int dim_init_U_2;
  int dim_init_U_3;
  int dim_P;
  int dim_P_1;
  int dim_P_12;
  int dim_P_2;
  int dim_P_3;
  int dim_p_det;
  int dim_p_det_1;
  int dim_p_det_12;
  int dim_p_det_2;
  int dim_p_det_3;
  int dim_phi;
  int dim_phi_1;
  int dim_phi_12;
  int dim_phi_2;
  int dim_phi_3;
  int dim_prev0to5;
  int dim_prev0to5_1;
  int dim_prev0to5_12;
  int dim_prev0to5_2;
  int dim_prev0to5_3;
  int dim_prev0to59;
  int dim_prev0to59_1;
  int dim_prev0to59_12;
  int dim_prev0to59_2;
  int dim_prev0to59_3;
  int dim_rel_foi;
  int dim_S;
  int dim_S_1;
  int dim_S_12;
  int dim_S_2;
  int dim_S_3;
  int dim_T;
  int dim_T_1;
  int dim_T_12;
  int dim_T_2;
  int dim_T_3;
  int dim_U;
  int dim_U_1;
  int dim_U_12;
  int dim_U_2;
  int dim_U_3;
  int dim_w1;
  int dim_w1_;
  int dim_w2;
  int dim_w2_;
  int dim_whi1;
  int dim_whi2;
  int dim_x_I;
  int dim_Y;
  int dim_Y_1;
  int dim_Y_12;
  int dim_Y_2;
  int dim_Y_3;
  int dim_yy1;
  int dim_yy1_;
  int dim_yy2;
  int dim_yy2_;
  int dim_z1;
  int dim_z1_;
  int dim_z2;
  int dim_z2_;
  int dim_zhi1;
  int dim_zhi2;
  double dLL;
  double dPL;
  double *EIR;
  double *EIR_species1;
  double *EIR_species2;
  double eta;
  double *fd;
  double fD0;
  double *FOI;
  double *foi_age;
  double *FOI_lag;
  double *FOIvijk_species1;
  double *FOIvijk_species2;
  double ft;
  double gamma1;
  double gammaD;
  double gammaL;
  double *het_wt;
  double IB0;
  double *IC;
  double IC0;
  double ID0;
  double *init_A;
  double *init_D;
  double init_EL;
  double init_Ev;
  double *init_IB;
  double *init_ICA;
  double *init_ICM;
  double *init_ICM_pre;
  double *init_ID;
  double init_Iv;
  double init_LL;
  double *init_P;
  double init_PL;
  double *init_S;
  double init_Sv;
  double *init_T;
  double *init_U;
  double *initial_A;
  double *initial_D;
  double initial_EL1;
  double initial_EL2;
  double initial_Ev1;
  double initial_Ev2;
  double *initial_IB;
  double *initial_ICA;
  double *initial_ICM;
  double *initial_ID;
  double initial_Iv1;
  double initial_Iv2;
  double initial_LL1;
  double initial_LL2;
  double *initial_P;
  double initial_PL1;
  double initial_PL2;
  double *initial_S;
  double initial_Sv1;
  double initial_Sv2;
  double initial_t;
  double *initial_T;
  double *initial_U;
  double irs_cov;
  double IRS_interval;
  double irs_loss;
  double itn_cov;
  double ITN_interval;
  double ITN_IRS_on;
  double itn_loss;
  double kB;
  double kC;
  double kD;
  double mu0;
  double muEL;
  double muLL;
  double muPL;
  double mv0;
  int na;
  int nh;
  int num_int;
  int offset_FOIv_species1_A;
  int offset_FOIv_species1_ID;
  int offset_FOIv_species1_U;
  int offset_FOIv_species2_A;
  int offset_FOIv_species2_ID;
  int offset_FOIv_species2_U;
  int offset_output_EIR;
  int offset_output_EIR_species1;
  int offset_output_EIR_species2;
  int offset_variable_A;
  int offset_variable_D;
  int offset_variable_IB;
  int offset_variable_ICA;
  int offset_variable_ICM;
  int offset_variable_ID;
  int offset_variable_P;
  int offset_variable_T;
  int offset_variable_U;
  double omega;
  double *p_det;
  double p10;
  double p2;
  double *phi;
  double phi0;
  double phi1;
  double pi;
  double PM;
  double *prev0to5;
  double *prev0to59;
  double Q0_species1;
  double Q0_species2;
  double r_IRS0_1;
  double r_IRS0_2;
  double r_ITN0_1;
  double r_ITN0_2;
  double r_ITN1;
  double r_ITN2;
  double rA;
  double rD;
  double *rel_foi;
  double rP;
  double rT;
  double rU;
  double ssa0;
  double ssa1;
  double ssa2;
  double ssa3;
  double ssb1;
  double ssb2;
  double ssb3;
  double tau1;
  double tau2;
  double theta_c;
  int time_length;
  double uB;
  double uCA;
  double uD;
  double *w1;
  double *w1_;
  double *w2;
  double *w2_;
  double *whi1;
  double *whi2;
  double *x_I;
  double *Y;
  double *yy1;
  double *yy1_;
  double *yy2;
  double *yy2_;
  double *z1;
  double *z1_;
  double *z2;
  double *z2_;
  double *zhi1;
  double *zhi2;
  bool odin_model_2sp_use_dde;
} odin_model_2sp_internal;
typedef struct odin_model_2sp_tv1_internal {
  double aD;
  double *age;
  double age_20_factor;
  double *age_rate;
  int age05;
  int age20l;
  int age20u;
  int age59;
  double *av_human1;
  double *av_human2;
  double *av_mosq1;
  double *av_mosq2;
  double *b;
  double b_lambda;
  double b0;
  double b1;
  double betaL;
  double bites_Bed_species1;
  double bites_Bed_species2;
  double bites_Indoors_species1;
  double bites_Indoors_species2;
  double *cA;
  double cD;
  double chi_species1;
  double chi_species2;
  double *clin_inc;
  double *clin_inc0to5;
  double *cov;
  double *cov_;
  double cT;
  double cU;
  double *custom_seasonality;
  double d_IRS0_1;
  double d_IRS0_2;
  double d_ITN0_1;
  double d_ITN0_2;
  double d1;
  double dB;
  double dCA;
  double dCM;
  double dE;
  double dEL;
  double *delay_array_av_human1;
  double *delay_array_av_human2;
  double *delay_array_av_mosq1;
  double *delay_array_av_mosq2;
  double *delay_array_b;
  double *delay_array_cA;
  double *delay_array_EIR;
  double *delay_array_EIR_species1;
  double *delay_array_EIR_species2;
  double *delay_array_FOI_lag;
  double *delay_array_FOIvijk_species1;
  double *delay_array_FOIvijk_species2;
  double *delay_array_p_det;
  double *delay_array_w1;
  double *delay_array_w1_;
  double *delay_array_w2;
  double *delay_array_w2_;
  double *delay_array_whi1;
  double *delay_array_whi2;
  double *delay_array_yy1;
  double *delay_array_yy1_;
  double *delay_array_yy2;
  double *delay_array_yy2_;
  double *delay_array_z1;
  double *delay_array_z1_;
  double *delay_array_z2;
  double *delay_array_z2_;
  double *delay_array_zhi1;
  double *delay_array_zhi2;
  int *delay_index_FOI;
  int *delay_index_FOIv_species1;
  int *delay_index_FOIv_species2;
  int *delay_index_incv1;
  int *delay_index_incv2;
  double *delay_state_FOI;
  double *delay_state_FOIv_species1;
  double *delay_state_FOIv_species2;
  double *delay_state_incv1;
  double *delay_state_incv2;
  double delayGam;
  double delayMos;
  double *den;
  double *density_vec;
  double *density_vec_sp1;
  double dID;
  int dim_A;
  int dim_A_1;
  int dim_A_12;
  int dim_A_2;
  int dim_A_3;
  int dim_age;
  int dim_age_rate;
  int dim_av_human1;
  int dim_av_human2;
  int dim_av_mosq1;
  int dim_av_mosq2;
  int dim_b;
  int dim_b_1;
  int dim_b_12;
  int dim_b_2;
  int dim_b_3;
  int dim_cA;
  int dim_cA_1;
  int dim_cA_12;
  int dim_cA_2;
  int dim_cA_3;
  int dim_clin_inc;
  int dim_clin_inc_1;
  int dim_clin_inc_12;
  int dim_clin_inc_2;
  int dim_clin_inc_3;
  int dim_clin_inc0to5;
  int dim_clin_inc0to5_1;
  int dim_clin_inc0to5_12;
  int dim_clin_inc0to5_2;
  int dim_clin_inc0to5_3;
  int dim_cov;
  int dim_cov_;
  int dim_custom_seasonality;
  int dim_D;
  int dim_D_1;
  int dim_D_12;
  int dim_D_2;
  int dim_D_3;
  int dim_delay_FOI;
  int dim_delay_FOIv_species1;
  int dim_delay_FOIv_species2;
  int dim_den;
  int dim_density_vec;
  int dim_density_vec_sp1;
  int dim_EIR;
  int dim_EIR_1;
  int dim_EIR_12;
  int dim_EIR_2;
  int dim_EIR_3;
  int dim_EIR_species1;
  int dim_EIR_species1_1;
  int dim_EIR_species1_12;
  int dim_EIR_species1_2;
  int dim_EIR_species1_3;
  int dim_EIR_species2;
  int dim_EIR_species2_1;
  int dim_EIR_species2_12;
  int dim_EIR_species2_2;
  int dim_EIR_species2_3;
  int dim_fd;
  int dim_FOI;
  int dim_FOI_1;
  int dim_FOI_12;
  int dim_FOI_2;
  int dim_FOI_3;
  int dim_foi_age;
  int dim_FOI_lag;
  int dim_FOI_lag_1;
  int dim_FOI_lag_12;
  int dim_FOI_lag_2;
  int dim_FOI_lag_3;
  int dim_FOIvijk_species1;
  int dim_FOIvijk_species1_1;
  int dim_FOIvijk_species1_12;
  int dim_FOIvijk_species1_2;
  int dim_FOIvijk_species1_3;
  int dim_FOIvijk_species2;
  int dim_FOIvijk_species2_1;
  int dim_FOIvijk_species2_12;
  int dim_FOIvijk_species2_2;
  int dim_FOIvijk_species2_3;
  int dim_het_wt;
  int dim_IB;
  int dim_IB_1;
  int dim_IB_12;
  int dim_IB_2;
  int dim_IB_3;
  int dim_IC;
  int dim_IC_1;
  int dim_IC_12;
  int dim_IC_2;
  int dim_IC_3;
  int dim_ICA;
  int dim_ICA_1;
  int dim_ICA_12;
  int dim_ICA_2;
  int dim_ICA_3;
  int dim_ICM;
  int dim_ICM_1;
  int dim_ICM_12;
  int dim_ICM_2;
  int dim_ICM_3;
  int dim_ID;
  int dim_ID_1;
  int dim_ID_12;
  int dim_ID_2;
  int dim_ID_3;
  int dim_init_A;
  int dim_init_A_1;
  int dim_init_A_12;
  int dim_init_A_2;
  int dim_init_A_3;
  int dim_init_D;
  int dim_init_D_1;
  int dim_init_D_12;
  int dim_init_D_2;
  int dim_init_D_3;
  int dim_init_IB;
  int dim_init_IB_1;
  int dim_init_IB_12;
  int dim_init_IB_2;
  int dim_init_IB_3;
  int dim_init_ICA;
  int dim_init_ICA_1;
  int dim_init_ICA_12;
  int dim_init_ICA_2;
  int dim_init_ICA_3;
  int dim_init_ICM;
  int dim_init_ICM_1;
  int dim_init_ICM_12;
  int dim_init_ICM_2;
  int dim_init_ICM_3;
  int dim_init_ICM_pre;
  int dim_init_ICM_pre_1;
  int dim_init_ICM_pre_2;
  int dim_init_ID;
  int dim_init_ID_1;
  int dim_init_ID_12;
  int dim_init_ID_2;
  int dim_init_ID_3;
  int dim_init_P;
  int dim_init_P_1;
  int dim_init_P_12;
  int dim_init_P_2;
  int dim_init_P_3;
  int dim_init_S;
  int dim_init_S_1;
  int dim_init_S_12;
  int dim_init_S_2;
  int dim_init_S_3;
  int dim_init_T;
  int dim_init_T_1;
  int dim_init_T_12;
  int dim_init_T_2;
  int dim_init_T_3;
  int dim_init_U;
  int dim_init_U_1;
  int dim_init_U_12;
  int dim_init_U_2;
  int dim_init_U_3;
  int dim_P;
  int dim_P_1;
  int dim_P_12;
  int dim_P_2;
  int dim_P_3;
  int dim_p_det;
  int dim_p_det_1;
  int dim_p_det_12;
  int dim_p_det_2;
  int dim_p_det_3;
  int dim_phi;
  int dim_phi_1;
  int dim_phi_12;
  int dim_phi_2;
  int dim_phi_3;
  int dim_prev0to5;
  int dim_prev0to5_1;
  int dim_prev0to5_12;
  int dim_prev0to5_2;
  int dim_prev0to5_3;
  int dim_prev0to59;
  int dim_prev0to59_1;
  int dim_prev0to59_12;
  int dim_prev0to59_2;
  int dim_prev0to59_3;
  int dim_rel_foi;
  int dim_S;
  int dim_S_1;
  int dim_S_12;
  int dim_S_2;
  int dim_S_3;
  int dim_T;
  int dim_T_1;
  int dim_T_12;
  int dim_T_2;
  int dim_T_3;
  int dim_U;
  int dim_U_1;
  int dim_U_12;
  int dim_U_2;
  int dim_U_3;
  int dim_w1;
  int dim_w1_;
  int dim_w2;
  int dim_w2_;
  int dim_whi1;
  int dim_whi2;
  int dim_x_I;
  int dim_Y;
  int dim_Y_1;
  int dim_Y_12;
  int dim_Y_2;
  int dim_Y_3;
  int dim_yy1;
  int dim_yy1_;
  int dim_yy2;
  int dim_yy2_;
  int dim_z1;
  int dim_z1_;
  int dim_z2;
  int dim_z2_;
  int dim_zhi1;
  int dim_zhi2;
  double dLL;
  double dPL;
  double *EIR;
  double *EIR_species1;
  double *EIR_species2;
  double eta;
  double *fd;
  double fD0;
  double *FOI;
  double *foi_age;
  double *FOI_lag;
  double *FOIvijk_species1;
  double *FOIvijk_species2;
  double ft;
  double gamma1;
  double gammaD;
  double gammaL;
  double *het_wt;
  double IB0;
  double *IC;
  double IC0;
  double ID0;
  double *init_A;
  double *init_D;
  double init_EL;
  double init_Ev;
  double *init_IB;
  double *init_ICA;
  double *init_ICM;
  double *init_ICM_pre;
  double *init_ID;
  double init_Iv;
  double init_LL;
  double *init_P;
  double init_PL;
  double *init_S;
  double init_Sv;
  double *init_T;
  double *init_U;
  double *initial_A;
  double *initial_D;
  double initial_EL1;
  double initial_EL2;
  double initial_Ev1;
  double initial_Ev2;
  double *initial_IB;
  double *initial_ICA;
  double *initial_ICM;
  double *initial_ID;
  double initial_Iv1;
  double initial_Iv2;
  double initial_LL1;
  double initial_LL2;
  double *initial_P;
  double initial_PL1;
  double initial_PL2;
  double *initial_S;
  double initial_Sv1;
  double initial_Sv2;
  double initial_t;
  double *initial_T;
  double *initial_U;
  double irs_cov;
  double IRS_interval;
  double irs_loss;
  double itn_cov;
  double ITN_interval;
  double ITN_IRS_on;
  double itn_loss;
  double kB;
  double kC;
  double kD;
  double mu0;
  double muEL;
  double muLL;
  double muPL;
  double mv0;
  int na;
  int nh;
  int num_int;
  int offset_FOIv_species1_A;
  int offset_FOIv_species1_ID;
  int offset_FOIv_species1_U;
  int offset_FOIv_species2_A;
  int offset_FOIv_species2_ID;
  int offset_FOIv_species2_U;
  int offset_output_EIR;
  int offset_output_EIR_species1;
  int offset_output_EIR_species2;
  int offset_variable_A;
  int offset_variable_D;
  int offset_variable_IB;
  int offset_variable_ICA;
  int offset_variable_ICM;
  int offset_variable_ID;
  int offset_variable_P;
  int offset_variable_T;
  int offset_variable_U;
  double omega;
  double *p_det;
  double p10;
  double p2;
  double *phi;
  double phi0;
  double phi1;
  double pi;
  double PM;
  double *prev0to5;
  double *prev0to59;
  double Q0_species1;
  double Q0_species2;
  double r_IRS0_1;
  double r_IRS0_2;
  double r_ITN0_1;
  double r_ITN0_2;
  double r_ITN1;
  double r_ITN2;
  double rA;
  double rD;
  double *rel_foi;
  double rP;
  double rT;
  double rU;
  double ssa0;
  double ssa1;
  double ssa2;
  double ssa3;
  double ssb1;
  double ssb2;
  double ssb3;
  double tau1;
  double tau2;
  double theta_c;
  int time_length;
  double uB;
  double uCA;
  double uD;
  double *w1;
  double *w1_;
  double *w2;
  double *w2_;
  double *whi1;
  double *whi2;
  double *x_I;
  double *Y;
  double *yy1;
  double *yy1_;
  double *yy2;
  double *yy2_;
  double *z1;
  double *z1_;
  double *z2;
  double *z2_;
  double *zhi1;
  double *zhi2;
  bool odin_model_2sp_tv1_use_dde;
} odin_model_2sp_tv1_internal;
odin_model_2sp_internal* odin_model_2sp_get_internal(SEXP internal_p, int closed_error);
static void odin_model_2sp_finalise(SEXP internal_p);
SEXP odin_model_2sp_create(SEXP user);
void odin_model_2sp_initmod_desolve(void(* odeparms) (int *, double *));
SEXP odin_model_2sp_contents(SEXP internal_p);
SEXP odin_model_2sp_set_user(SEXP internal_p, SEXP user);
SEXP odin_model_2sp_set_initial(SEXP internal_p, SEXP t_ptr, SEXP state_ptr, SEXP odin_model_2sp_use_dde_ptr);
SEXP odin_model_2sp_metadata(SEXP internal_p);
SEXP odin_model_2sp_initial_conditions(SEXP internal_p, SEXP t_ptr);
void odin_model_2sp_rhs(odin_model_2sp_internal* internal, double t, double * state, double * dstatedt, double * output);
void odin_model_2sp_rhs_dde(size_t neq, double t, double * state, double * dstatedt, void * internal);
void odin_model_2sp_rhs_desolve(int * neq, double * t, double * state, double * dstatedt, double * output, int * np);
void odin_model_2sp_output_dde(size_t n_eq, double t, double * state, size_t n_output, double * output, void * internal_p);
SEXP odin_model_2sp_rhs_r(SEXP internal_p, SEXP t, SEXP state);
odin_model_2sp_tv1_internal* odin_model_2sp_tv1_get_internal(SEXP internal_p, int closed_error);
static void odin_model_2sp_tv1_finalise(SEXP internal_p);
SEXP odin_model_2sp_tv1_create(SEXP user);
void odin_model_2sp_tv1_initmod_desolve(void(* odeparms) (int *, double *));
SEXP odin_model_2sp_tv1_contents(SEXP internal_p);
SEXP odin_model_2sp_tv1_set_user(SEXP internal_p, SEXP user);
SEXP odin_model_2sp_tv1_set_initial(SEXP internal_p, SEXP t_ptr, SEXP state_ptr, SEXP odin_model_2sp_tv1_use_dde_ptr);
SEXP odin_model_2sp_tv1_metadata(SEXP internal_p);
SEXP odin_model_2sp_tv1_initial_conditions(SEXP internal_p, SEXP t_ptr);
void odin_model_2sp_tv1_rhs(odin_model_2sp_tv1_internal* internal, double t, double * state, double * dstatedt, double * output);
void odin_model_2sp_tv1_rhs_dde(size_t neq, double t, double * state, double * dstatedt, void * internal);
void odin_model_2sp_tv1_rhs_desolve(int * neq, double * t, double * state, double * dstatedt, double * output, int * np);
void odin_model_2sp_tv1_output_dde(size_t n_eq, double t, double * state, size_t n_output, double * output, void * internal_p);
SEXP odin_model_2sp_tv1_rhs_r(SEXP internal_p, SEXP t, SEXP state);
double user_get_scalar_double(SEXP user, const char *name,
                              double default_value, double min, double max);
int user_get_scalar_int(SEXP user, const char *name,
                        int default_value, double min, double max);
void user_check_values_double(double * value, size_t len,
                                  double min, double max, const char *name);
void user_check_values_int(int * value, size_t len,
                               double min, double max, const char *name);
void user_check_values(SEXP value, double min, double max,
                           const char *name);
SEXP user_list_element(SEXP list, const char *name);
void odin_set_dim(SEXP target, int rank, ...);
void* user_get_array_dim(SEXP user, bool is_integer, void * previous,
                         const char *name, int rank,
                         double min, double max, int *dest_dim);
void* user_get_array(SEXP user, bool is_integer, void * previous,
                     const char *name, double min, double max,
                     int rank, ...);
SEXP user_get_array_check(SEXP el, bool is_integer, const char *name,
                          double min, double max);
SEXP user_get_array_check_rank(SEXP user, const char *name, int rank,
                               bool required);
void lagvalue(double t, bool use_dde, int *idx, int dim_idx, double *state);
void lagvalue_dde(double t, int *idx, size_t dim_idx, double *state);
void lagvalue_ds(double t, int *idx, int dim_idx, double *state);
double fmodr(double x, double y);
double odin_sum1(double *x, size_t from, size_t to);
int odin_isum1(int *x, size_t from, size_t to);
double scalar_real(SEXP x, const char * name);
double odin_sum2(double* x, int from_i, int to_i, int from_j, int to_j, int dim_x_1);
double odin_sum3(double* x, int from_i, int to_i, int from_j, int to_j, int from_k, int to_k, int dim_x_1, int dim_x_12);
odin_model_2sp_internal* odin_model_2sp_get_internal(SEXP internal_p, int closed_error) {
  odin_model_2sp_internal *internal = NULL;
  if (TYPEOF(internal_p) != EXTPTRSXP) {
    Rf_error("Expected an external pointer");
  }
  internal = (odin_model_2sp_internal*) R_ExternalPtrAddr(internal_p);
  if (!internal && closed_error) {
    Rf_error("Pointer has been invalidated");
  }
  return internal;
}
void odin_model_2sp_finalise(SEXP internal_p) {
  odin_model_2sp_internal *internal = odin_model_2sp_get_internal(internal_p, 0);
  if (internal_p) {
    R_Free(internal->age);
    R_Free(internal->age_rate);
    R_Free(internal->av_human1);
    R_Free(internal->av_human2);
    R_Free(internal->av_mosq1);
    R_Free(internal->av_mosq2);
    R_Free(internal->b);
    R_Free(internal->cA);
    R_Free(internal->clin_inc);
    R_Free(internal->clin_inc0to5);
    R_Free(internal->cov);
    R_Free(internal->cov_);
    R_Free(internal->custom_seasonality);
    R_Free(internal->delay_array_av_human1);
    R_Free(internal->delay_array_av_human2);
    R_Free(internal->delay_array_av_mosq1);
    R_Free(internal->delay_array_av_mosq2);
    R_Free(internal->delay_array_b);
    R_Free(internal->delay_array_cA);
    R_Free(internal->delay_array_EIR);
    R_Free(internal->delay_array_EIR_species1);
    R_Free(internal->delay_array_EIR_species2);
    R_Free(internal->delay_array_FOI_lag);
    R_Free(internal->delay_array_FOIvijk_species1);
    R_Free(internal->delay_array_FOIvijk_species2);
    R_Free(internal->delay_array_p_det);
    R_Free(internal->delay_array_w1);
    R_Free(internal->delay_array_w1_);
    R_Free(internal->delay_array_w2);
    R_Free(internal->delay_array_w2_);
    R_Free(internal->delay_array_whi1);
    R_Free(internal->delay_array_whi2);
    R_Free(internal->delay_array_yy1);
    R_Free(internal->delay_array_yy1_);
    R_Free(internal->delay_array_yy2);
    R_Free(internal->delay_array_yy2_);
    R_Free(internal->delay_array_z1);
    R_Free(internal->delay_array_z1_);
    R_Free(internal->delay_array_z2);
    R_Free(internal->delay_array_z2_);
    R_Free(internal->delay_array_zhi1);
    R_Free(internal->delay_array_zhi2);
    R_Free(internal->delay_index_FOI);
    R_Free(internal->delay_index_FOIv_species1);
    R_Free(internal->delay_index_FOIv_species2);
    R_Free(internal->delay_index_incv1);
    R_Free(internal->delay_index_incv2);
    R_Free(internal->delay_state_FOI);
    R_Free(internal->delay_state_FOIv_species1);
    R_Free(internal->delay_state_FOIv_species2);
    R_Free(internal->delay_state_incv1);
    R_Free(internal->delay_state_incv2);
    R_Free(internal->den);
    R_Free(internal->density_vec);
    R_Free(internal->EIR);
    R_Free(internal->EIR_species1);
    R_Free(internal->EIR_species2);
    R_Free(internal->fd);
    R_Free(internal->FOI);
    R_Free(internal->foi_age);
    R_Free(internal->FOI_lag);
    R_Free(internal->FOIvijk_species1);
    R_Free(internal->FOIvijk_species2);
    R_Free(internal->het_wt);
    R_Free(internal->IC);
    R_Free(internal->init_A);
    R_Free(internal->init_D);
    R_Free(internal->init_IB);
    R_Free(internal->init_ICA);
    R_Free(internal->init_ICM);
    R_Free(internal->init_ICM_pre);
    R_Free(internal->init_ID);
    R_Free(internal->init_P);
    R_Free(internal->init_S);
    R_Free(internal->init_T);
    R_Free(internal->init_U);
    R_Free(internal->initial_A);
    R_Free(internal->initial_D);
    R_Free(internal->initial_IB);
    R_Free(internal->initial_ICA);
    R_Free(internal->initial_ICM);
    R_Free(internal->initial_ID);
    R_Free(internal->initial_P);
    R_Free(internal->initial_S);
    R_Free(internal->initial_T);
    R_Free(internal->initial_U);
    R_Free(internal->p_det);
    R_Free(internal->phi);
    R_Free(internal->prev0to5);
    R_Free(internal->prev0to59);
    R_Free(internal->rel_foi);
    R_Free(internal->w1);
    R_Free(internal->w1_);
    R_Free(internal->w2);
    R_Free(internal->w2_);
    R_Free(internal->whi1);
    R_Free(internal->whi2);
    R_Free(internal->x_I);
    R_Free(internal->Y);
    R_Free(internal->yy1);
    R_Free(internal->yy1_);
    R_Free(internal->yy2);
    R_Free(internal->yy2_);
    R_Free(internal->z1);
    R_Free(internal->z1_);
    R_Free(internal->z2);
    R_Free(internal->z2_);
    R_Free(internal->zhi1);
    R_Free(internal->zhi2);
    R_Free(internal);
    R_ClearExternalPtr(internal_p);
  }
}
SEXP odin_model_2sp_create(SEXP user) {
  odin_model_2sp_internal *internal = (odin_model_2sp_internal*) R_Calloc(1, odin_model_2sp_internal);
  internal->age = NULL;
  internal->age_rate = NULL;
  internal->av_human1 = NULL;
  internal->av_human2 = NULL;
  internal->av_mosq1 = NULL;
  internal->av_mosq2 = NULL;
  internal->b = NULL;
  internal->cA = NULL;
  internal->clin_inc = NULL;
  internal->clin_inc0to5 = NULL;
  internal->cov = NULL;
  internal->cov_ = NULL;
  internal->custom_seasonality = NULL;
  internal->delay_array_av_human1 = NULL;
  internal->delay_array_av_human2 = NULL;
  internal->delay_array_av_mosq1 = NULL;
  internal->delay_array_av_mosq2 = NULL;
  internal->delay_array_b = NULL;
  internal->delay_array_cA = NULL;
  internal->delay_array_EIR = NULL;
  internal->delay_array_EIR_species1 = NULL;
  internal->delay_array_EIR_species2 = NULL;
  internal->delay_array_FOI_lag = NULL;
  internal->delay_array_FOIvijk_species1 = NULL;
  internal->delay_array_FOIvijk_species2 = NULL;
  internal->delay_array_p_det = NULL;
  internal->delay_array_w1 = NULL;
  internal->delay_array_w1_ = NULL;
  internal->delay_array_w2 = NULL;
  internal->delay_array_w2_ = NULL;
  internal->delay_array_whi1 = NULL;
  internal->delay_array_whi2 = NULL;
  internal->delay_array_yy1 = NULL;
  internal->delay_array_yy1_ = NULL;
  internal->delay_array_yy2 = NULL;
  internal->delay_array_yy2_ = NULL;
  internal->delay_array_z1 = NULL;
  internal->delay_array_z1_ = NULL;
  internal->delay_array_z2 = NULL;
  internal->delay_array_z2_ = NULL;
  internal->delay_array_zhi1 = NULL;
  internal->delay_array_zhi2 = NULL;
  internal->delay_index_FOI = NULL;
  internal->delay_index_FOIv_species1 = NULL;
  internal->delay_index_FOIv_species2 = NULL;
  internal->delay_index_incv1 = NULL;
  internal->delay_index_incv2 = NULL;
  internal->delay_state_FOI = NULL;
  internal->delay_state_FOIv_species1 = NULL;
  internal->delay_state_FOIv_species2 = NULL;
  internal->delay_state_incv1 = NULL;
  internal->delay_state_incv2 = NULL;
  internal->den = NULL;
  internal->density_vec = NULL;
  internal->EIR = NULL;
  internal->EIR_species1 = NULL;
  internal->EIR_species2 = NULL;
  internal->fd = NULL;
  internal->FOI = NULL;
  internal->foi_age = NULL;
  internal->FOI_lag = NULL;
  internal->FOIvijk_species1 = NULL;
  internal->FOIvijk_species2 = NULL;
  internal->het_wt = NULL;
  internal->IC = NULL;
  internal->init_A = NULL;
  internal->init_D = NULL;
  internal->init_IB = NULL;
  internal->init_ICA = NULL;
  internal->init_ICM = NULL;
  internal->init_ICM_pre = NULL;
  internal->init_ID = NULL;
  internal->init_P = NULL;
  internal->init_S = NULL;
  internal->init_T = NULL;
  internal->init_U = NULL;
  internal->initial_A = NULL;
  internal->initial_D = NULL;
  internal->initial_IB = NULL;
  internal->initial_ICA = NULL;
  internal->initial_ICM = NULL;
  internal->initial_ID = NULL;
  internal->initial_P = NULL;
  internal->initial_S = NULL;
  internal->initial_T = NULL;
  internal->initial_U = NULL;
  internal->p_det = NULL;
  internal->phi = NULL;
  internal->prev0to5 = NULL;
  internal->prev0to59 = NULL;
  internal->rel_foi = NULL;
  internal->w1 = NULL;
  internal->w1_ = NULL;
  internal->w2 = NULL;
  internal->w2_ = NULL;
  internal->whi1 = NULL;
  internal->whi2 = NULL;
  internal->x_I = NULL;
  internal->Y = NULL;
  internal->yy1 = NULL;
  internal->yy1_ = NULL;
  internal->yy2 = NULL;
  internal->yy2_ = NULL;
  internal->z1 = NULL;
  internal->z1_ = NULL;
  internal->z2 = NULL;
  internal->z2_ = NULL;
  internal->zhi1 = NULL;
  internal->zhi2 = NULL;
  R_Free(internal->delay_index_incv1);
  internal->delay_index_incv1 = R_Calloc(1, int);
  R_Free(internal->delay_state_incv1);
  internal->delay_state_incv1 = R_Calloc(1, double);
  internal->delay_index_incv1[0] = 0;
  R_Free(internal->delay_index_incv2);
  internal->delay_index_incv2 = R_Calloc(1, int);
  R_Free(internal->delay_state_incv2);
  internal->delay_state_incv2 = R_Calloc(1, double);
  internal->delay_index_incv2[0] = 3;
  internal->dim_cov_ = 4;
  internal->dim_w1_ = 4;
  internal->dim_w2_ = 4;
  internal->dim_yy1_ = 4;
  internal->dim_yy2_ = 4;
  internal->dim_z1_ = 4;
  internal->dim_z2_ = 4;
  R_Free(internal->cov_);
  internal->cov_ = (double*) R_Calloc(internal->dim_cov_, double);
  R_Free(internal->w1_);
  internal->w1_ = (double*) R_Calloc(internal->dim_w1_, double);
  R_Free(internal->w2_);
  internal->w2_ = (double*) R_Calloc(internal->dim_w2_, double);
  R_Free(internal->yy1_);
  internal->yy1_ = (double*) R_Calloc(internal->dim_yy1_, double);
  R_Free(internal->yy2_);
  internal->yy2_ = (double*) R_Calloc(internal->dim_yy2_, double);
  R_Free(internal->z1_);
  internal->z1_ = (double*) R_Calloc(internal->dim_z1_, double);
  R_Free(internal->z2_);
  internal->z2_ = (double*) R_Calloc(internal->dim_z2_, double);
  R_Free(internal->delay_array_w1_);
  internal->delay_array_w1_ = (double*) R_Calloc(internal->dim_w1_, double);
  R_Free(internal->delay_array_w2_);
  internal->delay_array_w2_ = (double*) R_Calloc(internal->dim_w2_, double);
  R_Free(internal->delay_array_yy1_);
  internal->delay_array_yy1_ = (double*) R_Calloc(internal->dim_yy1_, double);
  R_Free(internal->delay_array_yy2_);
  internal->delay_array_yy2_ = (double*) R_Calloc(internal->dim_yy2_, double);
  R_Free(internal->delay_array_z1_);
  internal->delay_array_z1_ = (double*) R_Calloc(internal->dim_z1_, double);
  R_Free(internal->delay_array_z2_);
  internal->delay_array_z2_ = (double*) R_Calloc(internal->dim_z2_, double);
  internal->aD = NA_REAL;
  internal->age = NULL;
  internal->age_20_factor = NA_REAL;
  internal->age_rate = NULL;
  internal->age05 = NA_INTEGER;
  internal->age20l = NA_INTEGER;
  internal->age20u = NA_INTEGER;
  internal->age59 = NA_INTEGER;
  internal->b0 = NA_REAL;
  internal->b1 = NA_REAL;
  internal->betaL = NA_REAL;
  internal->bites_Bed_species1 = NA_REAL;
  internal->bites_Bed_species2 = NA_REAL;
  internal->bites_Indoors_species1 = NA_REAL;
  internal->bites_Indoors_species2 = NA_REAL;
  internal->cD = NA_REAL;
  internal->chi_species1 = NA_REAL;
  internal->chi_species2 = NA_REAL;
  internal->cT = NA_REAL;
  internal->cU = NA_REAL;
  internal->custom_seasonality = NULL;
  internal->d_IRS0_1 = NA_REAL;
  internal->d_IRS0_2 = NA_REAL;
  internal->d_ITN0_1 = NA_REAL;
  internal->d_ITN0_2 = NA_REAL;
  internal->d1 = NA_REAL;
  internal->dB = NA_REAL;
  internal->dCA = NA_REAL;
  internal->dCM = NA_REAL;
  internal->dE = NA_REAL;
  internal->dEL = NA_REAL;
  internal->delayGam = NA_REAL;
  internal->delayMos = NA_REAL;
  internal->den = NULL;
  internal->density_vec = NULL;
  internal->dID = NA_REAL;
  internal->dLL = NA_REAL;
  internal->dPL = NA_REAL;
  internal->eta = NA_REAL;
  internal->fD0 = NA_REAL;
  internal->foi_age = NULL;
  internal->ft = NA_REAL;
  internal->gamma1 = NA_REAL;
  internal->gammaD = NA_REAL;
  internal->gammaL = NA_REAL;
  internal->het_wt = NULL;
  internal->IB0 = NA_REAL;
  internal->IC0 = NA_REAL;
  internal->ID0 = NA_REAL;
  internal->init_A = NULL;
  internal->init_D = NULL;
  internal->init_EL = NA_REAL;
  internal->init_Ev = NA_REAL;
  internal->init_IB = NULL;
  internal->init_ICA = NULL;
  internal->init_ICM = NULL;
  internal->init_ID = NULL;
  internal->init_Iv = NA_REAL;
  internal->init_LL = NA_REAL;
  internal->init_P = NULL;
  internal->init_PL = NA_REAL;
  internal->init_S = NULL;
  internal->init_Sv = NA_REAL;
  internal->init_T = NULL;
  internal->init_U = NULL;
  internal->irs_cov = NA_REAL;
  internal->IRS_interval = NA_REAL;
  internal->irs_loss = NA_REAL;
  internal->itn_cov = NA_REAL;
  internal->ITN_interval = NA_REAL;
  internal->ITN_IRS_on = NA_REAL;
  internal->itn_loss = NA_REAL;
  internal->kB = NA_REAL;
  internal->kC = NA_REAL;
  internal->kD = NA_REAL;
  internal->mu0 = NA_REAL;
  internal->muEL = NA_REAL;
  internal->muLL = NA_REAL;
  internal->muPL = NA_REAL;
  internal->mv0 = NA_REAL;
  internal->na = NA_INTEGER;
  internal->nh = NA_INTEGER;
  internal->num_int = NA_INTEGER;
  internal->omega = NA_REAL;
  internal->p10 = NA_REAL;
  internal->p2 = NA_REAL;
  internal->phi0 = NA_REAL;
  internal->phi1 = NA_REAL;
  internal->pi = NA_REAL;
  internal->PM = NA_REAL;
  internal->Q0_species1 = NA_REAL;
  internal->Q0_species2 = NA_REAL;
  internal->r_IRS0_1 = NA_REAL;
  internal->r_IRS0_2 = NA_REAL;
  internal->r_ITN0_1 = NA_REAL;
  internal->r_ITN0_2 = NA_REAL;
  internal->r_ITN1 = NA_REAL;
  internal->r_ITN2 = NA_REAL;
  internal->rA = NA_REAL;
  internal->rD = NA_REAL;
  internal->rel_foi = NULL;
  internal->rP = NA_REAL;
  internal->rT = NA_REAL;
  internal->rU = NA_REAL;
  internal->ssa0 = NA_REAL;
  internal->ssa1 = NA_REAL;
  internal->ssa2 = NA_REAL;
  internal->ssa3 = NA_REAL;
  internal->ssb1 = NA_REAL;
  internal->ssb2 = NA_REAL;
  internal->ssb3 = NA_REAL;
  internal->tau1 = NA_REAL;
  internal->tau2 = NA_REAL;
  internal->theta_c = NA_REAL;
  internal->time_length = NA_INTEGER;
  internal->uB = NA_REAL;
  internal->uCA = NA_REAL;
  internal->uD = NA_REAL;
  internal->x_I = NULL;
  internal->initial_t = NA_REAL;
  SEXP ptr = PROTECT(R_MakeExternalPtr(internal, R_NilValue, R_NilValue));
  R_RegisterCFinalizer(ptr, odin_model_2sp_finalise);
  UNPROTECT(1);
  return ptr;
}
static odin_model_2sp_internal *odin_model_2sp_internal_ds;
void odin_model_2sp_initmod_desolve(void(* odeparms) (int *, double *)) {
  static DL_FUNC get_desolve_gparms = NULL;
  if (get_desolve_gparms == NULL) {
    get_desolve_gparms =
      R_GetCCallable("deSolve", "get_deSolve_gparms");
  }
  odin_model_2sp_internal_ds = odin_model_2sp_get_internal(get_desolve_gparms(), 1);
}
SEXP odin_model_2sp_contents(SEXP internal_p) {
  odin_model_2sp_internal *internal = odin_model_2sp_get_internal(internal_p, 1);
  SEXP contents = PROTECT(allocVector(VECSXP, 465));
  SET_VECTOR_ELT(contents, 0, ScalarReal(internal->aD));
  SEXP age = PROTECT(allocVector(REALSXP, internal->dim_age));
  memcpy(REAL(age), internal->age, internal->dim_age * sizeof(double));
  SET_VECTOR_ELT(contents, 1, age);
  SET_VECTOR_ELT(contents, 2, ScalarReal(internal->age_20_factor));
  SEXP age_rate = PROTECT(allocVector(REALSXP, internal->dim_age_rate));
  memcpy(REAL(age_rate), internal->age_rate, internal->dim_age_rate * sizeof(double));
  SET_VECTOR_ELT(contents, 3, age_rate);
  SET_VECTOR_ELT(contents, 4, ScalarInteger(internal->age05));
  SET_VECTOR_ELT(contents, 5, ScalarInteger(internal->age20l));
  SET_VECTOR_ELT(contents, 6, ScalarInteger(internal->age20u));
  SET_VECTOR_ELT(contents, 7, ScalarInteger(internal->age59));
  SEXP av_human1 = PROTECT(allocVector(REALSXP, internal->dim_av_human1));
  memcpy(REAL(av_human1), internal->av_human1, internal->dim_av_human1 * sizeof(double));
  SET_VECTOR_ELT(contents, 8, av_human1);
  SEXP av_human2 = PROTECT(allocVector(REALSXP, internal->dim_av_human2));
  memcpy(REAL(av_human2), internal->av_human2, internal->dim_av_human2 * sizeof(double));
  SET_VECTOR_ELT(contents, 9, av_human2);
  SEXP av_mosq1 = PROTECT(allocVector(REALSXP, internal->dim_av_mosq1));
  memcpy(REAL(av_mosq1), internal->av_mosq1, internal->dim_av_mosq1 * sizeof(double));
  SET_VECTOR_ELT(contents, 10, av_mosq1);
  SEXP av_mosq2 = PROTECT(allocVector(REALSXP, internal->dim_av_mosq2));
  memcpy(REAL(av_mosq2), internal->av_mosq2, internal->dim_av_mosq2 * sizeof(double));
  SET_VECTOR_ELT(contents, 11, av_mosq2);
  SEXP b = PROTECT(allocVector(REALSXP, internal->dim_b));
  memcpy(REAL(b), internal->b, internal->dim_b * sizeof(double));
  odin_set_dim(b, 3, internal->dim_b_1, internal->dim_b_2, internal->dim_b_3);
  SET_VECTOR_ELT(contents, 12, b);
  SET_VECTOR_ELT(contents, 13, ScalarReal(internal->b_lambda));
  SET_VECTOR_ELT(contents, 14, ScalarReal(internal->b0));
  SET_VECTOR_ELT(contents, 15, ScalarReal(internal->b1));
  SET_VECTOR_ELT(contents, 16, ScalarReal(internal->betaL));
  SET_VECTOR_ELT(contents, 17, ScalarReal(internal->bites_Bed_species1));
  SET_VECTOR_ELT(contents, 18, ScalarReal(internal->bites_Bed_species2));
  SET_VECTOR_ELT(contents, 19, ScalarReal(internal->bites_Indoors_species1));
  SET_VECTOR_ELT(contents, 20, ScalarReal(internal->bites_Indoors_species2));
  SEXP cA = PROTECT(allocVector(REALSXP, internal->dim_cA));
  memcpy(REAL(cA), internal->cA, internal->dim_cA * sizeof(double));
  odin_set_dim(cA, 3, internal->dim_cA_1, internal->dim_cA_2, internal->dim_cA_3);
  SET_VECTOR_ELT(contents, 21, cA);
  SET_VECTOR_ELT(contents, 22, ScalarReal(internal->cD));
  SET_VECTOR_ELT(contents, 23, ScalarReal(internal->chi_species1));
  SET_VECTOR_ELT(contents, 24, ScalarReal(internal->chi_species2));
  SEXP clin_inc = PROTECT(allocVector(REALSXP, internal->dim_clin_inc));
  memcpy(REAL(clin_inc), internal->clin_inc, internal->dim_clin_inc * sizeof(double));
  odin_set_dim(clin_inc, 3, internal->dim_clin_inc_1, internal->dim_clin_inc_2, internal->dim_clin_inc_3);
  SET_VECTOR_ELT(contents, 25, clin_inc);
  SEXP clin_inc0to5 = PROTECT(allocVector(REALSXP, internal->dim_clin_inc0to5));
  memcpy(REAL(clin_inc0to5), internal->clin_inc0to5, internal->dim_clin_inc0to5 * sizeof(double));
  odin_set_dim(clin_inc0to5, 3, internal->dim_clin_inc0to5_1, internal->dim_clin_inc0to5_2, internal->dim_clin_inc0to5_3);
  SET_VECTOR_ELT(contents, 26, clin_inc0to5);
  SEXP cov = PROTECT(allocVector(REALSXP, internal->dim_cov));
  memcpy(REAL(cov), internal->cov, internal->dim_cov * sizeof(double));
  SET_VECTOR_ELT(contents, 27, cov);
  SEXP cov_ = PROTECT(allocVector(REALSXP, internal->dim_cov_));
  memcpy(REAL(cov_), internal->cov_, internal->dim_cov_ * sizeof(double));
  SET_VECTOR_ELT(contents, 28, cov_);
  SET_VECTOR_ELT(contents, 29, ScalarReal(internal->cT));
  SET_VECTOR_ELT(contents, 30, ScalarReal(internal->cU));
  SEXP custom_seasonality = PROTECT(allocVector(REALSXP, internal->dim_custom_seasonality));
  memcpy(REAL(custom_seasonality), internal->custom_seasonality, internal->dim_custom_seasonality * sizeof(double));
  SET_VECTOR_ELT(contents, 31, custom_seasonality);
  SET_VECTOR_ELT(contents, 32, ScalarReal(internal->d_IRS0_1));
  SET_VECTOR_ELT(contents, 33, ScalarReal(internal->d_IRS0_2));
  SET_VECTOR_ELT(contents, 34, ScalarReal(internal->d_ITN0_1));
  SET_VECTOR_ELT(contents, 35, ScalarReal(internal->d_ITN0_2));
  SET_VECTOR_ELT(contents, 36, ScalarReal(internal->d1));
  SET_VECTOR_ELT(contents, 37, ScalarReal(internal->dB));
  SET_VECTOR_ELT(contents, 38, ScalarReal(internal->dCA));
  SET_VECTOR_ELT(contents, 39, ScalarReal(internal->dCM));
  SET_VECTOR_ELT(contents, 40, ScalarReal(internal->dE));
  SET_VECTOR_ELT(contents, 41, ScalarReal(internal->dEL));
  SEXP delay_array_av_human1 = PROTECT(allocVector(REALSXP, internal->dim_av_human1));
  memcpy(REAL(delay_array_av_human1), internal->delay_array_av_human1, internal->dim_av_human1 * sizeof(double));
  SET_VECTOR_ELT(contents, 42, delay_array_av_human1);
  SEXP delay_array_av_human2 = PROTECT(allocVector(REALSXP, internal->dim_av_human2));
  memcpy(REAL(delay_array_av_human2), internal->delay_array_av_human2, internal->dim_av_human2 * sizeof(double));
  SET_VECTOR_ELT(contents, 43, delay_array_av_human2);
  SEXP delay_array_av_mosq1 = PROTECT(allocVector(REALSXP, internal->dim_av_mosq1));
  memcpy(REAL(delay_array_av_mosq1), internal->delay_array_av_mosq1, internal->dim_av_mosq1 * sizeof(double));
  SET_VECTOR_ELT(contents, 44, delay_array_av_mosq1);
  SEXP delay_array_av_mosq2 = PROTECT(allocVector(REALSXP, internal->dim_av_mosq2));
  memcpy(REAL(delay_array_av_mosq2), internal->delay_array_av_mosq2, internal->dim_av_mosq2 * sizeof(double));
  SET_VECTOR_ELT(contents, 45, delay_array_av_mosq2);
  SEXP delay_array_b = PROTECT(allocVector(REALSXP, internal->dim_b));
  memcpy(REAL(delay_array_b), internal->delay_array_b, internal->dim_b * sizeof(double));
  odin_set_dim(delay_array_b, 3, internal->dim_b_1, internal->dim_b_2, internal->dim_b_3);
  SET_VECTOR_ELT(contents, 46, delay_array_b);
  SEXP delay_array_cA = PROTECT(allocVector(REALSXP, internal->dim_cA));
  memcpy(REAL(delay_array_cA), internal->delay_array_cA, internal->dim_cA * sizeof(double));
  odin_set_dim(delay_array_cA, 3, internal->dim_cA_1, internal->dim_cA_2, internal->dim_cA_3);
  SET_VECTOR_ELT(contents, 47, delay_array_cA);
  SEXP delay_array_EIR = PROTECT(allocVector(REALSXP, internal->dim_EIR));
  memcpy(REAL(delay_array_EIR), internal->delay_array_EIR, internal->dim_EIR * sizeof(double));
  odin_set_dim(delay_array_EIR, 3, internal->dim_EIR_1, internal->dim_EIR_2, internal->dim_EIR_3);
  SET_VECTOR_ELT(contents, 48, delay_array_EIR);
  SEXP delay_array_EIR_species1 = PROTECT(allocVector(REALSXP, internal->dim_EIR_species1));
  memcpy(REAL(delay_array_EIR_species1), internal->delay_array_EIR_species1, internal->dim_EIR_species1 * sizeof(double));
  odin_set_dim(delay_array_EIR_species1, 3, internal->dim_EIR_species1_1, internal->dim_EIR_species1_2, internal->dim_EIR_species1_3);
  SET_VECTOR_ELT(contents, 49, delay_array_EIR_species1);
  SEXP delay_array_EIR_species2 = PROTECT(allocVector(REALSXP, internal->dim_EIR_species2));
  memcpy(REAL(delay_array_EIR_species2), internal->delay_array_EIR_species2, internal->dim_EIR_species2 * sizeof(double));
  odin_set_dim(delay_array_EIR_species2, 3, internal->dim_EIR_species2_1, internal->dim_EIR_species2_2, internal->dim_EIR_species2_3);
  SET_VECTOR_ELT(contents, 50, delay_array_EIR_species2);
  SEXP delay_array_FOI_lag = PROTECT(allocVector(REALSXP, internal->dim_FOI_lag));
  memcpy(REAL(delay_array_FOI_lag), internal->delay_array_FOI_lag, internal->dim_FOI_lag * sizeof(double));
  odin_set_dim(delay_array_FOI_lag, 3, internal->dim_FOI_lag_1, internal->dim_FOI_lag_2, internal->dim_FOI_lag_3);
  SET_VECTOR_ELT(contents, 51, delay_array_FOI_lag);
  SEXP delay_array_FOIvijk_species1 = PROTECT(allocVector(REALSXP, internal->dim_FOIvijk_species1));
  memcpy(REAL(delay_array_FOIvijk_species1), internal->delay_array_FOIvijk_species1, internal->dim_FOIvijk_species1 * sizeof(double));
  odin_set_dim(delay_array_FOIvijk_species1, 3, internal->dim_FOIvijk_species1_1, internal->dim_FOIvijk_species1_2, internal->dim_FOIvijk_species1_3);
  SET_VECTOR_ELT(contents, 52, delay_array_FOIvijk_species1);
  SEXP delay_array_FOIvijk_species2 = PROTECT(allocVector(REALSXP, internal->dim_FOIvijk_species2));
  memcpy(REAL(delay_array_FOIvijk_species2), internal->delay_array_FOIvijk_species2, internal->dim_FOIvijk_species2 * sizeof(double));
  odin_set_dim(delay_array_FOIvijk_species2, 3, internal->dim_FOIvijk_species2_1, internal->dim_FOIvijk_species2_2, internal->dim_FOIvijk_species2_3);
  SET_VECTOR_ELT(contents, 53, delay_array_FOIvijk_species2);
  SEXP delay_array_p_det = PROTECT(allocVector(REALSXP, internal->dim_p_det));
  memcpy(REAL(delay_array_p_det), internal->delay_array_p_det, internal->dim_p_det * sizeof(double));
  odin_set_dim(delay_array_p_det, 3, internal->dim_p_det_1, internal->dim_p_det_2, internal->dim_p_det_3);
  SET_VECTOR_ELT(contents, 54, delay_array_p_det);
  SEXP delay_array_w1 = PROTECT(allocVector(REALSXP, internal->dim_w1));
  memcpy(REAL(delay_array_w1), internal->delay_array_w1, internal->dim_w1 * sizeof(double));
  SET_VECTOR_ELT(contents, 55, delay_array_w1);
  SEXP delay_array_w1_ = PROTECT(allocVector(REALSXP, internal->dim_w1_));
  memcpy(REAL(delay_array_w1_), internal->delay_array_w1_, internal->dim_w1_ * sizeof(double));
  SET_VECTOR_ELT(contents, 56, delay_array_w1_);
  SEXP delay_array_w2 = PROTECT(allocVector(REALSXP, internal->dim_w2));
  memcpy(REAL(delay_array_w2), internal->delay_array_w2, internal->dim_w2 * sizeof(double));
  SET_VECTOR_ELT(contents, 57, delay_array_w2);
  SEXP delay_array_w2_ = PROTECT(allocVector(REALSXP, internal->dim_w2_));
  memcpy(REAL(delay_array_w2_), internal->delay_array_w2_, internal->dim_w2_ * sizeof(double));
  SET_VECTOR_ELT(contents, 58, delay_array_w2_);
  SEXP delay_array_whi1 = PROTECT(allocVector(REALSXP, internal->dim_whi1));
  memcpy(REAL(delay_array_whi1), internal->delay_array_whi1, internal->dim_whi1 * sizeof(double));
  SET_VECTOR_ELT(contents, 59, delay_array_whi1);
  SEXP delay_array_whi2 = PROTECT(allocVector(REALSXP, internal->dim_whi2));
  memcpy(REAL(delay_array_whi2), internal->delay_array_whi2, internal->dim_whi2 * sizeof(double));
  SET_VECTOR_ELT(contents, 60, delay_array_whi2);
  SEXP delay_array_yy1 = PROTECT(allocVector(REALSXP, internal->dim_yy1));
  memcpy(REAL(delay_array_yy1), internal->delay_array_yy1, internal->dim_yy1 * sizeof(double));
  SET_VECTOR_ELT(contents, 61, delay_array_yy1);
  SEXP delay_array_yy1_ = PROTECT(allocVector(REALSXP, internal->dim_yy1_));
  memcpy(REAL(delay_array_yy1_), internal->delay_array_yy1_, internal->dim_yy1_ * sizeof(double));
  SET_VECTOR_ELT(contents, 62, delay_array_yy1_);
  SEXP delay_array_yy2 = PROTECT(allocVector(REALSXP, internal->dim_yy2));
  memcpy(REAL(delay_array_yy2), internal->delay_array_yy2, internal->dim_yy2 * sizeof(double));
  SET_VECTOR_ELT(contents, 63, delay_array_yy2);
  SEXP delay_array_yy2_ = PROTECT(allocVector(REALSXP, internal->dim_yy2_));
  memcpy(REAL(delay_array_yy2_), internal->delay_array_yy2_, internal->dim_yy2_ * sizeof(double));
  SET_VECTOR_ELT(contents, 64, delay_array_yy2_);
  SEXP delay_array_z1 = PROTECT(allocVector(REALSXP, internal->dim_z1));
  memcpy(REAL(delay_array_z1), internal->delay_array_z1, internal->dim_z1 * sizeof(double));
  SET_VECTOR_ELT(contents, 65, delay_array_z1);
  SEXP delay_array_z1_ = PROTECT(allocVector(REALSXP, internal->dim_z1_));
  memcpy(REAL(delay_array_z1_), internal->delay_array_z1_, internal->dim_z1_ * sizeof(double));
  SET_VECTOR_ELT(contents, 66, delay_array_z1_);
  SEXP delay_array_z2 = PROTECT(allocVector(REALSXP, internal->dim_z2));
  memcpy(REAL(delay_array_z2), internal->delay_array_z2, internal->dim_z2 * sizeof(double));
  SET_VECTOR_ELT(contents, 67, delay_array_z2);
  SEXP delay_array_z2_ = PROTECT(allocVector(REALSXP, internal->dim_z2_));
  memcpy(REAL(delay_array_z2_), internal->delay_array_z2_, internal->dim_z2_ * sizeof(double));
  SET_VECTOR_ELT(contents, 68, delay_array_z2_);
  SEXP delay_array_zhi1 = PROTECT(allocVector(REALSXP, internal->dim_zhi1));
  memcpy(REAL(delay_array_zhi1), internal->delay_array_zhi1, internal->dim_zhi1 * sizeof(double));
  SET_VECTOR_ELT(contents, 69, delay_array_zhi1);
  SEXP delay_array_zhi2 = PROTECT(allocVector(REALSXP, internal->dim_zhi2));
  memcpy(REAL(delay_array_zhi2), internal->delay_array_zhi2, internal->dim_zhi2 * sizeof(double));
  SET_VECTOR_ELT(contents, 70, delay_array_zhi2);
  SEXP delay_index_FOI = PROTECT(allocVector(INTSXP, internal->dim_delay_FOI));
  memcpy(INTEGER(delay_index_FOI), internal->delay_index_FOI, internal->dim_delay_FOI * sizeof(int));
  SET_VECTOR_ELT(contents, 71, delay_index_FOI);
  SEXP delay_index_FOIv_species1 = PROTECT(allocVector(INTSXP, internal->dim_delay_FOIv_species1));
  memcpy(INTEGER(delay_index_FOIv_species1), internal->delay_index_FOIv_species1, internal->dim_delay_FOIv_species1 * sizeof(int));
  SET_VECTOR_ELT(contents, 72, delay_index_FOIv_species1);
  SEXP delay_index_FOIv_species2 = PROTECT(allocVector(INTSXP, internal->dim_delay_FOIv_species2));
  memcpy(INTEGER(delay_index_FOIv_species2), internal->delay_index_FOIv_species2, internal->dim_delay_FOIv_species2 * sizeof(int));
  SET_VECTOR_ELT(contents, 73, delay_index_FOIv_species2);
  SEXP delay_index_incv1 = PROTECT(allocVector(INTSXP, 1));
  memcpy(INTEGER(delay_index_incv1), internal->delay_index_incv1, 1 * sizeof(int));
  SET_VECTOR_ELT(contents, 74, delay_index_incv1);
  SEXP delay_index_incv2 = PROTECT(allocVector(INTSXP, 1));
  memcpy(INTEGER(delay_index_incv2), internal->delay_index_incv2, 1 * sizeof(int));
  SET_VECTOR_ELT(contents, 75, delay_index_incv2);
  SEXP delay_state_FOI = PROTECT(allocVector(REALSXP, internal->dim_delay_FOI));
  memcpy(REAL(delay_state_FOI), internal->delay_state_FOI, internal->dim_delay_FOI * sizeof(double));
  SET_VECTOR_ELT(contents, 76, delay_state_FOI);
  SEXP delay_state_FOIv_species1 = PROTECT(allocVector(REALSXP, internal->dim_delay_FOIv_species1));
  memcpy(REAL(delay_state_FOIv_species1), internal->delay_state_FOIv_species1, internal->dim_delay_FOIv_species1 * sizeof(double));
  SET_VECTOR_ELT(contents, 77, delay_state_FOIv_species1);
  SEXP delay_state_FOIv_species2 = PROTECT(allocVector(REALSXP, internal->dim_delay_FOIv_species2));
  memcpy(REAL(delay_state_FOIv_species2), internal->delay_state_FOIv_species2, internal->dim_delay_FOIv_species2 * sizeof(double));
  SET_VECTOR_ELT(contents, 78, delay_state_FOIv_species2);
  SEXP delay_state_incv1 = PROTECT(allocVector(REALSXP, 1));
  memcpy(REAL(delay_state_incv1), internal->delay_state_incv1, 1 * sizeof(double));
  SET_VECTOR_ELT(contents, 79, delay_state_incv1);
  SEXP delay_state_incv2 = PROTECT(allocVector(REALSXP, 1));
  memcpy(REAL(delay_state_incv2), internal->delay_state_incv2, 1 * sizeof(double));
  SET_VECTOR_ELT(contents, 80, delay_state_incv2);
  SET_VECTOR_ELT(contents, 81, ScalarReal(internal->delayGam));
  SET_VECTOR_ELT(contents, 82, ScalarReal(internal->delayMos));
  SEXP den = PROTECT(allocVector(REALSXP, internal->dim_den));
  memcpy(REAL(den), internal->den, internal->dim_den * sizeof(double));
  SET_VECTOR_ELT(contents, 83, den);
  SEXP density_vec = PROTECT(allocVector(REALSXP, internal->dim_density_vec));
  memcpy(REAL(density_vec), internal->density_vec, internal->dim_density_vec * sizeof(double));
  SET_VECTOR_ELT(contents, 84, density_vec);
  SET_VECTOR_ELT(contents, 85, ScalarReal(internal->dID));
  SET_VECTOR_ELT(contents, 86, ScalarInteger(internal->dim_A));
  SET_VECTOR_ELT(contents, 87, ScalarInteger(internal->dim_A_1));
  SET_VECTOR_ELT(contents, 88, ScalarInteger(internal->dim_A_12));
  SET_VECTOR_ELT(contents, 89, ScalarInteger(internal->dim_A_2));
  SET_VECTOR_ELT(contents, 90, ScalarInteger(internal->dim_A_3));
  SET_VECTOR_ELT(contents, 91, ScalarInteger(internal->dim_age));
  SET_VECTOR_ELT(contents, 92, ScalarInteger(internal->dim_age_rate));
  SET_VECTOR_ELT(contents, 93, ScalarInteger(internal->dim_av_human1));
  SET_VECTOR_ELT(contents, 94, ScalarInteger(internal->dim_av_human2));
  SET_VECTOR_ELT(contents, 95, ScalarInteger(internal->dim_av_mosq1));
  SET_VECTOR_ELT(contents, 96, ScalarInteger(internal->dim_av_mosq2));
  SET_VECTOR_ELT(contents, 97, ScalarInteger(internal->dim_b));
  SET_VECTOR_ELT(contents, 98, ScalarInteger(internal->dim_b_1));
  SET_VECTOR_ELT(contents, 99, ScalarInteger(internal->dim_b_12));
  SET_VECTOR_ELT(contents, 100, ScalarInteger(internal->dim_b_2));
  SET_VECTOR_ELT(contents, 101, ScalarInteger(internal->dim_b_3));
  SET_VECTOR_ELT(contents, 102, ScalarInteger(internal->dim_cA));
  SET_VECTOR_ELT(contents, 103, ScalarInteger(internal->dim_cA_1));
  SET_VECTOR_ELT(contents, 104, ScalarInteger(internal->dim_cA_12));
  SET_VECTOR_ELT(contents, 105, ScalarInteger(internal->dim_cA_2));
  SET_VECTOR_ELT(contents, 106, ScalarInteger(internal->dim_cA_3));
  SET_VECTOR_ELT(contents, 107, ScalarInteger(internal->dim_clin_inc));
  SET_VECTOR_ELT(contents, 108, ScalarInteger(internal->dim_clin_inc_1));
  SET_VECTOR_ELT(contents, 109, ScalarInteger(internal->dim_clin_inc_12));
  SET_VECTOR_ELT(contents, 110, ScalarInteger(internal->dim_clin_inc_2));
  SET_VECTOR_ELT(contents, 111, ScalarInteger(internal->dim_clin_inc_3));
  SET_VECTOR_ELT(contents, 112, ScalarInteger(internal->dim_clin_inc0to5));
  SET_VECTOR_ELT(contents, 113, ScalarInteger(internal->dim_clin_inc0to5_1));
  SET_VECTOR_ELT(contents, 114, ScalarInteger(internal->dim_clin_inc0to5_12));
  SET_VECTOR_ELT(contents, 115, ScalarInteger(internal->dim_clin_inc0to5_2));
  SET_VECTOR_ELT(contents, 116, ScalarInteger(internal->dim_clin_inc0to5_3));
  SET_VECTOR_ELT(contents, 117, ScalarInteger(internal->dim_cov));
  SET_VECTOR_ELT(contents, 118, ScalarInteger(internal->dim_cov_));
  SET_VECTOR_ELT(contents, 119, ScalarInteger(internal->dim_custom_seasonality));
  SET_VECTOR_ELT(contents, 120, ScalarInteger(internal->dim_D));
  SET_VECTOR_ELT(contents, 121, ScalarInteger(internal->dim_D_1));
  SET_VECTOR_ELT(contents, 122, ScalarInteger(internal->dim_D_12));
  SET_VECTOR_ELT(contents, 123, ScalarInteger(internal->dim_D_2));
  SET_VECTOR_ELT(contents, 124, ScalarInteger(internal->dim_D_3));
  SET_VECTOR_ELT(contents, 125, ScalarInteger(internal->dim_delay_FOI));
  SET_VECTOR_ELT(contents, 126, ScalarInteger(internal->dim_delay_FOIv_species1));
  SET_VECTOR_ELT(contents, 127, ScalarInteger(internal->dim_delay_FOIv_species2));
  SET_VECTOR_ELT(contents, 128, ScalarInteger(internal->dim_den));
  SET_VECTOR_ELT(contents, 129, ScalarInteger(internal->dim_density_vec));
  SET_VECTOR_ELT(contents, 130, ScalarInteger(internal->dim_EIR));
  SET_VECTOR_ELT(contents, 131, ScalarInteger(internal->dim_EIR_1));
  SET_VECTOR_ELT(contents, 132, ScalarInteger(internal->dim_EIR_12));
  SET_VECTOR_ELT(contents, 133, ScalarInteger(internal->dim_EIR_2));
  SET_VECTOR_ELT(contents, 134, ScalarInteger(internal->dim_EIR_3));
  SET_VECTOR_ELT(contents, 135, ScalarInteger(internal->dim_EIR_species1));
  SET_VECTOR_ELT(contents, 136, ScalarInteger(internal->dim_EIR_species1_1));
  SET_VECTOR_ELT(contents, 137, ScalarInteger(internal->dim_EIR_species1_12));
  SET_VECTOR_ELT(contents, 138, ScalarInteger(internal->dim_EIR_species1_2));
  SET_VECTOR_ELT(contents, 139, ScalarInteger(internal->dim_EIR_species1_3));
  SET_VECTOR_ELT(contents, 140, ScalarInteger(internal->dim_EIR_species2));
  SET_VECTOR_ELT(contents, 141, ScalarInteger(internal->dim_EIR_species2_1));
  SET_VECTOR_ELT(contents, 142, ScalarInteger(internal->dim_EIR_species2_12));
  SET_VECTOR_ELT(contents, 143, ScalarInteger(internal->dim_EIR_species2_2));
  SET_VECTOR_ELT(contents, 144, ScalarInteger(internal->dim_EIR_species2_3));
  SET_VECTOR_ELT(contents, 145, ScalarInteger(internal->dim_fd));
  SET_VECTOR_ELT(contents, 146, ScalarInteger(internal->dim_FOI));
  SET_VECTOR_ELT(contents, 147, ScalarInteger(internal->dim_FOI_1));
  SET_VECTOR_ELT(contents, 148, ScalarInteger(internal->dim_FOI_12));
  SET_VECTOR_ELT(contents, 149, ScalarInteger(internal->dim_FOI_2));
  SET_VECTOR_ELT(contents, 150, ScalarInteger(internal->dim_FOI_3));
  SET_VECTOR_ELT(contents, 151, ScalarInteger(internal->dim_foi_age));
  SET_VECTOR_ELT(contents, 152, ScalarInteger(internal->dim_FOI_lag));
  SET_VECTOR_ELT(contents, 153, ScalarInteger(internal->dim_FOI_lag_1));
  SET_VECTOR_ELT(contents, 154, ScalarInteger(internal->dim_FOI_lag_12));
  SET_VECTOR_ELT(contents, 155, ScalarInteger(internal->dim_FOI_lag_2));
  SET_VECTOR_ELT(contents, 156, ScalarInteger(internal->dim_FOI_lag_3));
  SET_VECTOR_ELT(contents, 157, ScalarInteger(internal->dim_FOIvijk_species1));
  SET_VECTOR_ELT(contents, 158, ScalarInteger(internal->dim_FOIvijk_species1_1));
  SET_VECTOR_ELT(contents, 159, ScalarInteger(internal->dim_FOIvijk_species1_12));
  SET_VECTOR_ELT(contents, 160, ScalarInteger(internal->dim_FOIvijk_species1_2));
  SET_VECTOR_ELT(contents, 161, ScalarInteger(internal->dim_FOIvijk_species1_3));
  SET_VECTOR_ELT(contents, 162, ScalarInteger(internal->dim_FOIvijk_species2));
  SET_VECTOR_ELT(contents, 163, ScalarInteger(internal->dim_FOIvijk_species2_1));
  SET_VECTOR_ELT(contents, 164, ScalarInteger(internal->dim_FOIvijk_species2_12));
  SET_VECTOR_ELT(contents, 165, ScalarInteger(internal->dim_FOIvijk_species2_2));
  SET_VECTOR_ELT(contents, 166, ScalarInteger(internal->dim_FOIvijk_species2_3));
  SET_VECTOR_ELT(contents, 167, ScalarInteger(internal->dim_het_wt));
  SET_VECTOR_ELT(contents, 168, ScalarInteger(internal->dim_IB));
  SET_VECTOR_ELT(contents, 169, ScalarInteger(internal->dim_IB_1));
  SET_VECTOR_ELT(contents, 170, ScalarInteger(internal->dim_IB_12));
  SET_VECTOR_ELT(contents, 171, ScalarInteger(internal->dim_IB_2));
  SET_VECTOR_ELT(contents, 172, ScalarInteger(internal->dim_IB_3));
  SET_VECTOR_ELT(contents, 173, ScalarInteger(internal->dim_IC));
  SET_VECTOR_ELT(contents, 174, ScalarInteger(internal->dim_IC_1));
  SET_VECTOR_ELT(contents, 175, ScalarInteger(internal->dim_IC_12));
  SET_VECTOR_ELT(contents, 176, ScalarInteger(internal->dim_IC_2));
  SET_VECTOR_ELT(contents, 177, ScalarInteger(internal->dim_IC_3));
  SET_VECTOR_ELT(contents, 178, ScalarInteger(internal->dim_ICA));
  SET_VECTOR_ELT(contents, 179, ScalarInteger(internal->dim_ICA_1));
  SET_VECTOR_ELT(contents, 180, ScalarInteger(internal->dim_ICA_12));
  SET_VECTOR_ELT(contents, 181, ScalarInteger(internal->dim_ICA_2));
  SET_VECTOR_ELT(contents, 182, ScalarInteger(internal->dim_ICA_3));
  SET_VECTOR_ELT(contents, 183, ScalarInteger(internal->dim_ICM));
  SET_VECTOR_ELT(contents, 184, ScalarInteger(internal->dim_ICM_1));
  SET_VECTOR_ELT(contents, 185, ScalarInteger(internal->dim_ICM_12));
  SET_VECTOR_ELT(contents, 186, ScalarInteger(internal->dim_ICM_2));
  SET_VECTOR_ELT(contents, 187, ScalarInteger(internal->dim_ICM_3));
  SET_VECTOR_ELT(contents, 188, ScalarInteger(internal->dim_ID));
  SET_VECTOR_ELT(contents, 189, ScalarInteger(internal->dim_ID_1));
  SET_VECTOR_ELT(contents, 190, ScalarInteger(internal->dim_ID_12));
  SET_VECTOR_ELT(contents, 191, ScalarInteger(internal->dim_ID_2));
  SET_VECTOR_ELT(contents, 192, ScalarInteger(internal->dim_ID_3));
  SET_VECTOR_ELT(contents, 193, ScalarInteger(internal->dim_init_A));
  SET_VECTOR_ELT(contents, 194, ScalarInteger(internal->dim_init_A_1));
  SET_VECTOR_ELT(contents, 195, ScalarInteger(internal->dim_init_A_12));
  SET_VECTOR_ELT(contents, 196, ScalarInteger(internal->dim_init_A_2));
  SET_VECTOR_ELT(contents, 197, ScalarInteger(internal->dim_init_A_3));
  SET_VECTOR_ELT(contents, 198, ScalarInteger(internal->dim_init_D));
  SET_VECTOR_ELT(contents, 199, ScalarInteger(internal->dim_init_D_1));
  SET_VECTOR_ELT(contents, 200, ScalarInteger(internal->dim_init_D_12));
  SET_VECTOR_ELT(contents, 201, ScalarInteger(internal->dim_init_D_2));
  SET_VECTOR_ELT(contents, 202, ScalarInteger(internal->dim_init_D_3));
  SET_VECTOR_ELT(contents, 203, ScalarInteger(internal->dim_init_IB));
  SET_VECTOR_ELT(contents, 204, ScalarInteger(internal->dim_init_IB_1));
  SET_VECTOR_ELT(contents, 205, ScalarInteger(internal->dim_init_IB_12));
  SET_VECTOR_ELT(contents, 206, ScalarInteger(internal->dim_init_IB_2));
  SET_VECTOR_ELT(contents, 207, ScalarInteger(internal->dim_init_IB_3));
  SET_VECTOR_ELT(contents, 208, ScalarInteger(internal->dim_init_ICA));
  SET_VECTOR_ELT(contents, 209, ScalarInteger(internal->dim_init_ICA_1));
  SET_VECTOR_ELT(contents, 210, ScalarInteger(internal->dim_init_ICA_12));
  SET_VECTOR_ELT(contents, 211, ScalarInteger(internal->dim_init_ICA_2));
  SET_VECTOR_ELT(contents, 212, ScalarInteger(internal->dim_init_ICA_3));
  SET_VECTOR_ELT(contents, 213, ScalarInteger(internal->dim_init_ICM));
  SET_VECTOR_ELT(contents, 214, ScalarInteger(internal->dim_init_ICM_1));
  SET_VECTOR_ELT(contents, 215, ScalarInteger(internal->dim_init_ICM_12));
  SET_VECTOR_ELT(contents, 216, ScalarInteger(internal->dim_init_ICM_2));
  SET_VECTOR_ELT(contents, 217, ScalarInteger(internal->dim_init_ICM_3));
  SET_VECTOR_ELT(contents, 218, ScalarInteger(internal->dim_init_ICM_pre));
  SET_VECTOR_ELT(contents, 219, ScalarInteger(internal->dim_init_ICM_pre_1));
  SET_VECTOR_ELT(contents, 220, ScalarInteger(internal->dim_init_ICM_pre_2));
  SET_VECTOR_ELT(contents, 221, ScalarInteger(internal->dim_init_ID));
  SET_VECTOR_ELT(contents, 222, ScalarInteger(internal->dim_init_ID_1));
  SET_VECTOR_ELT(contents, 223, ScalarInteger(internal->dim_init_ID_12));
  SET_VECTOR_ELT(contents, 224, ScalarInteger(internal->dim_init_ID_2));
  SET_VECTOR_ELT(contents, 225, ScalarInteger(internal->dim_init_ID_3));
  SET_VECTOR_ELT(contents, 226, ScalarInteger(internal->dim_init_P));
  SET_VECTOR_ELT(contents, 227, ScalarInteger(internal->dim_init_P_1));
  SET_VECTOR_ELT(contents, 228, ScalarInteger(internal->dim_init_P_12));
  SET_VECTOR_ELT(contents, 229, ScalarInteger(internal->dim_init_P_2));
  SET_VECTOR_ELT(contents, 230, ScalarInteger(internal->dim_init_P_3));
  SET_VECTOR_ELT(contents, 231, ScalarInteger(internal->dim_init_S));
  SET_VECTOR_ELT(contents, 232, ScalarInteger(internal->dim_init_S_1));
  SET_VECTOR_ELT(contents, 233, ScalarInteger(internal->dim_init_S_12));
  SET_VECTOR_ELT(contents, 234, ScalarInteger(internal->dim_init_S_2));
  SET_VECTOR_ELT(contents, 235, ScalarInteger(internal->dim_init_S_3));
  SET_VECTOR_ELT(contents, 236, ScalarInteger(internal->dim_init_T));
  SET_VECTOR_ELT(contents, 237, ScalarInteger(internal->dim_init_T_1));
  SET_VECTOR_ELT(contents, 238, ScalarInteger(internal->dim_init_T_12));
  SET_VECTOR_ELT(contents, 239, ScalarInteger(internal->dim_init_T_2));
  SET_VECTOR_ELT(contents, 240, ScalarInteger(internal->dim_init_T_3));
  SET_VECTOR_ELT(contents, 241, ScalarInteger(internal->dim_init_U));
  SET_VECTOR_ELT(contents, 242, ScalarInteger(internal->dim_init_U_1));
  SET_VECTOR_ELT(contents, 243, ScalarInteger(internal->dim_init_U_12));
  SET_VECTOR_ELT(contents, 244, ScalarInteger(internal->dim_init_U_2));
  SET_VECTOR_ELT(contents, 245, ScalarInteger(internal->dim_init_U_3));
  SET_VECTOR_ELT(contents, 246, ScalarInteger(internal->dim_P));
  SET_VECTOR_ELT(contents, 247, ScalarInteger(internal->dim_P_1));
  SET_VECTOR_ELT(contents, 248, ScalarInteger(internal->dim_P_12));
  SET_VECTOR_ELT(contents, 249, ScalarInteger(internal->dim_P_2));
  SET_VECTOR_ELT(contents, 250, ScalarInteger(internal->dim_P_3));
  SET_VECTOR_ELT(contents, 251, ScalarInteger(internal->dim_p_det));
  SET_VECTOR_ELT(contents, 252, ScalarInteger(internal->dim_p_det_1));
  SET_VECTOR_ELT(contents, 253, ScalarInteger(internal->dim_p_det_12));
  SET_VECTOR_ELT(contents, 254, ScalarInteger(internal->dim_p_det_2));
  SET_VECTOR_ELT(contents, 255, ScalarInteger(internal->dim_p_det_3));
  SET_VECTOR_ELT(contents, 256, ScalarInteger(internal->dim_phi));
  SET_VECTOR_ELT(contents, 257, ScalarInteger(internal->dim_phi_1));
  SET_VECTOR_ELT(contents, 258, ScalarInteger(internal->dim_phi_12));
  SET_VECTOR_ELT(contents, 259, ScalarInteger(internal->dim_phi_2));
  SET_VECTOR_ELT(contents, 260, ScalarInteger(internal->dim_phi_3));
  SET_VECTOR_ELT(contents, 261, ScalarInteger(internal->dim_prev0to5));
  SET_VECTOR_ELT(contents, 262, ScalarInteger(internal->dim_prev0to5_1));
  SET_VECTOR_ELT(contents, 263, ScalarInteger(internal->dim_prev0to5_12));
  SET_VECTOR_ELT(contents, 264, ScalarInteger(internal->dim_prev0to5_2));
  SET_VECTOR_ELT(contents, 265, ScalarInteger(internal->dim_prev0to5_3));
  SET_VECTOR_ELT(contents, 266, ScalarInteger(internal->dim_prev0to59));
  SET_VECTOR_ELT(contents, 267, ScalarInteger(internal->dim_prev0to59_1));
  SET_VECTOR_ELT(contents, 268, ScalarInteger(internal->dim_prev0to59_12));
  SET_VECTOR_ELT(contents, 269, ScalarInteger(internal->dim_prev0to59_2));
  SET_VECTOR_ELT(contents, 270, ScalarInteger(internal->dim_prev0to59_3));
  SET_VECTOR_ELT(contents, 271, ScalarInteger(internal->dim_rel_foi));
  SET_VECTOR_ELT(contents, 272, ScalarInteger(internal->dim_S));
  SET_VECTOR_ELT(contents, 273, ScalarInteger(internal->dim_S_1));
  SET_VECTOR_ELT(contents, 274, ScalarInteger(internal->dim_S_12));
  SET_VECTOR_ELT(contents, 275, ScalarInteger(internal->dim_S_2));
  SET_VECTOR_ELT(contents, 276, ScalarInteger(internal->dim_S_3));
  SET_VECTOR_ELT(contents, 277, ScalarInteger(internal->dim_T));
  SET_VECTOR_ELT(contents, 278, ScalarInteger(internal->dim_T_1));
  SET_VECTOR_ELT(contents, 279, ScalarInteger(internal->dim_T_12));
  SET_VECTOR_ELT(contents, 280, ScalarInteger(internal->dim_T_2));
  SET_VECTOR_ELT(contents, 281, ScalarInteger(internal->dim_T_3));
  SET_VECTOR_ELT(contents, 282, ScalarInteger(internal->dim_U));
  SET_VECTOR_ELT(contents, 283, ScalarInteger(internal->dim_U_1));
  SET_VECTOR_ELT(contents, 284, ScalarInteger(internal->dim_U_12));
  SET_VECTOR_ELT(contents, 285, ScalarInteger(internal->dim_U_2));
  SET_VECTOR_ELT(contents, 286, ScalarInteger(internal->dim_U_3));
  SET_VECTOR_ELT(contents, 287, ScalarInteger(internal->dim_w1));
  SET_VECTOR_ELT(contents, 288, ScalarInteger(internal->dim_w1_));
  SET_VECTOR_ELT(contents, 289, ScalarInteger(internal->dim_w2));
  SET_VECTOR_ELT(contents, 290, ScalarInteger(internal->dim_w2_));
  SET_VECTOR_ELT(contents, 291, ScalarInteger(internal->dim_whi1));
  SET_VECTOR_ELT(contents, 292, ScalarInteger(internal->dim_whi2));
  SET_VECTOR_ELT(contents, 293, ScalarInteger(internal->dim_x_I));
  SET_VECTOR_ELT(contents, 294, ScalarInteger(internal->dim_Y));
  SET_VECTOR_ELT(contents, 295, ScalarInteger(internal->dim_Y_1));
  SET_VECTOR_ELT(contents, 296, ScalarInteger(internal->dim_Y_12));
  SET_VECTOR_ELT(contents, 297, ScalarInteger(internal->dim_Y_2));
  SET_VECTOR_ELT(contents, 298, ScalarInteger(internal->dim_Y_3));
  SET_VECTOR_ELT(contents, 299, ScalarInteger(internal->dim_yy1));
  SET_VECTOR_ELT(contents, 300, ScalarInteger(internal->dim_yy1_));
  SET_VECTOR_ELT(contents, 301, ScalarInteger(internal->dim_yy2));
  SET_VECTOR_ELT(contents, 302, ScalarInteger(internal->dim_yy2_));
  SET_VECTOR_ELT(contents, 303, ScalarInteger(internal->dim_z1));
  SET_VECTOR_ELT(contents, 304, ScalarInteger(internal->dim_z1_));
  SET_VECTOR_ELT(contents, 305, ScalarInteger(internal->dim_z2));
  SET_VECTOR_ELT(contents, 306, ScalarInteger(internal->dim_z2_));
  SET_VECTOR_ELT(contents, 307, ScalarInteger(internal->dim_zhi1));
  SET_VECTOR_ELT(contents, 308, ScalarInteger(internal->dim_zhi2));
  SET_VECTOR_ELT(contents, 309, ScalarReal(internal->dLL));
  SET_VECTOR_ELT(contents, 310, ScalarReal(internal->dPL));
  SEXP EIR = PROTECT(allocVector(REALSXP, internal->dim_EIR));
  memcpy(REAL(EIR), internal->EIR, internal->dim_EIR * sizeof(double));
  odin_set_dim(EIR, 3, internal->dim_EIR_1, internal->dim_EIR_2, internal->dim_EIR_3);
  SET_VECTOR_ELT(contents, 311, EIR);
  SEXP EIR_species1 = PROTECT(allocVector(REALSXP, internal->dim_EIR_species1));
  memcpy(REAL(EIR_species1), internal->EIR_species1, internal->dim_EIR_species1 * sizeof(double));
  odin_set_dim(EIR_species1, 3, internal->dim_EIR_species1_1, internal->dim_EIR_species1_2, internal->dim_EIR_species1_3);
  SET_VECTOR_ELT(contents, 312, EIR_species1);
  SEXP EIR_species2 = PROTECT(allocVector(REALSXP, internal->dim_EIR_species2));
  memcpy(REAL(EIR_species2), internal->EIR_species2, internal->dim_EIR_species2 * sizeof(double));
  odin_set_dim(EIR_species2, 3, internal->dim_EIR_species2_1, internal->dim_EIR_species2_2, internal->dim_EIR_species2_3);
  SET_VECTOR_ELT(contents, 313, EIR_species2);
  SET_VECTOR_ELT(contents, 314, ScalarReal(internal->eta));
  SEXP fd = PROTECT(allocVector(REALSXP, internal->dim_fd));
  memcpy(REAL(fd), internal->fd, internal->dim_fd * sizeof(double));
  SET_VECTOR_ELT(contents, 315, fd);
  SET_VECTOR_ELT(contents, 316, ScalarReal(internal->fD0));
  SEXP FOI = PROTECT(allocVector(REALSXP, internal->dim_FOI));
  memcpy(REAL(FOI), internal->FOI, internal->dim_FOI * sizeof(double));
  odin_set_dim(FOI, 3, internal->dim_FOI_1, internal->dim_FOI_2, internal->dim_FOI_3);
  SET_VECTOR_ELT(contents, 317, FOI);
  SEXP foi_age = PROTECT(allocVector(REALSXP, internal->dim_foi_age));
  memcpy(REAL(foi_age), internal->foi_age, internal->dim_foi_age * sizeof(double));
  SET_VECTOR_ELT(contents, 318, foi_age);
  SEXP FOI_lag = PROTECT(allocVector(REALSXP, internal->dim_FOI_lag));
  memcpy(REAL(FOI_lag), internal->FOI_lag, internal->dim_FOI_lag * sizeof(double));
  odin_set_dim(FOI_lag, 3, internal->dim_FOI_lag_1, internal->dim_FOI_lag_2, internal->dim_FOI_lag_3);
  SET_VECTOR_ELT(contents, 319, FOI_lag);
  SEXP FOIvijk_species1 = PROTECT(allocVector(REALSXP, internal->dim_FOIvijk_species1));
  memcpy(REAL(FOIvijk_species1), internal->FOIvijk_species1, internal->dim_FOIvijk_species1 * sizeof(double));
  odin_set_dim(FOIvijk_species1, 3, internal->dim_FOIvijk_species1_1, internal->dim_FOIvijk_species1_2, internal->dim_FOIvijk_species1_3);
  SET_VECTOR_ELT(contents, 320, FOIvijk_species1);
  SEXP FOIvijk_species2 = PROTECT(allocVector(REALSXP, internal->dim_FOIvijk_species2));
  memcpy(REAL(FOIvijk_species2), internal->FOIvijk_species2, internal->dim_FOIvijk_species2 * sizeof(double));
  odin_set_dim(FOIvijk_species2, 3, internal->dim_FOIvijk_species2_1, internal->dim_FOIvijk_species2_2, internal->dim_FOIvijk_species2_3);
  SET_VECTOR_ELT(contents, 321, FOIvijk_species2);
  SET_VECTOR_ELT(contents, 322, ScalarReal(internal->ft));
  SET_VECTOR_ELT(contents, 323, ScalarReal(internal->gamma1));
  SET_VECTOR_ELT(contents, 324, ScalarReal(internal->gammaD));
  SET_VECTOR_ELT(contents, 325, ScalarReal(internal->gammaL));
  SEXP het_wt = PROTECT(allocVector(REALSXP, internal->dim_het_wt));
  memcpy(REAL(het_wt), internal->het_wt, internal->dim_het_wt * sizeof(double));
  SET_VECTOR_ELT(contents, 326, het_wt);
  SET_VECTOR_ELT(contents, 327, ScalarReal(internal->IB0));
  SEXP IC = PROTECT(allocVector(REALSXP, internal->dim_IC));
  memcpy(REAL(IC), internal->IC, internal->dim_IC * sizeof(double));
  odin_set_dim(IC, 3, internal->dim_IC_1, internal->dim_IC_2, internal->dim_IC_3);
  SET_VECTOR_ELT(contents, 328, IC);
  SET_VECTOR_ELT(contents, 329, ScalarReal(internal->IC0));
  SET_VECTOR_ELT(contents, 330, ScalarReal(internal->ID0));
  SEXP init_A = PROTECT(allocVector(REALSXP, internal->dim_init_A));
  memcpy(REAL(init_A), internal->init_A, internal->dim_init_A * sizeof(double));
  odin_set_dim(init_A, 3, internal->dim_init_A_1, internal->dim_init_A_2, internal->dim_init_A_3);
  SET_VECTOR_ELT(contents, 331, init_A);
  SEXP init_D = PROTECT(allocVector(REALSXP, internal->dim_init_D));
  memcpy(REAL(init_D), internal->init_D, internal->dim_init_D * sizeof(double));
  odin_set_dim(init_D, 3, internal->dim_init_D_1, internal->dim_init_D_2, internal->dim_init_D_3);
  SET_VECTOR_ELT(contents, 332, init_D);
  SET_VECTOR_ELT(contents, 333, ScalarReal(internal->init_EL));
  SET_VECTOR_ELT(contents, 334, ScalarReal(internal->init_Ev));
  SEXP init_IB = PROTECT(allocVector(REALSXP, internal->dim_init_IB));
  memcpy(REAL(init_IB), internal->init_IB, internal->dim_init_IB * sizeof(double));
  odin_set_dim(init_IB, 3, internal->dim_init_IB_1, internal->dim_init_IB_2, internal->dim_init_IB_3);
  SET_VECTOR_ELT(contents, 335, init_IB);
  SEXP init_ICA = PROTECT(allocVector(REALSXP, internal->dim_init_ICA));
  memcpy(REAL(init_ICA), internal->init_ICA, internal->dim_init_ICA * sizeof(double));
  odin_set_dim(init_ICA, 3, internal->dim_init_ICA_1, internal->dim_init_ICA_2, internal->dim_init_ICA_3);
  SET_VECTOR_ELT(contents, 336, init_ICA);
  SEXP init_ICM = PROTECT(allocVector(REALSXP, internal->dim_init_ICM));
  memcpy(REAL(init_ICM), internal->init_ICM, internal->dim_init_ICM * sizeof(double));
  odin_set_dim(init_ICM, 3, internal->dim_init_ICM_1, internal->dim_init_ICM_2, internal->dim_init_ICM_3);
  SET_VECTOR_ELT(contents, 337, init_ICM);
  SEXP init_ICM_pre = PROTECT(allocVector(REALSXP, internal->dim_init_ICM_pre));
  memcpy(REAL(init_ICM_pre), internal->init_ICM_pre, internal->dim_init_ICM_pre * sizeof(double));
  odin_set_dim(init_ICM_pre, 2, internal->dim_init_ICM_pre_1, internal->dim_init_ICM_pre_2);
  SET_VECTOR_ELT(contents, 338, init_ICM_pre);
  SEXP init_ID = PROTECT(allocVector(REALSXP, internal->dim_init_ID));
  memcpy(REAL(init_ID), internal->init_ID, internal->dim_init_ID * sizeof(double));
  odin_set_dim(init_ID, 3, internal->dim_init_ID_1, internal->dim_init_ID_2, internal->dim_init_ID_3);
  SET_VECTOR_ELT(contents, 339, init_ID);
  SET_VECTOR_ELT(contents, 340, ScalarReal(internal->init_Iv));
  SET_VECTOR_ELT(contents, 341, ScalarReal(internal->init_LL));
  SEXP init_P = PROTECT(allocVector(REALSXP, internal->dim_init_P));
  memcpy(REAL(init_P), internal->init_P, internal->dim_init_P * sizeof(double));
  odin_set_dim(init_P, 3, internal->dim_init_P_1, internal->dim_init_P_2, internal->dim_init_P_3);
  SET_VECTOR_ELT(contents, 342, init_P);
  SET_VECTOR_ELT(contents, 343, ScalarReal(internal->init_PL));
  SEXP init_S = PROTECT(allocVector(REALSXP, internal->dim_init_S));
  memcpy(REAL(init_S), internal->init_S, internal->dim_init_S * sizeof(double));
  odin_set_dim(init_S, 3, internal->dim_init_S_1, internal->dim_init_S_2, internal->dim_init_S_3);
  SET_VECTOR_ELT(contents, 344, init_S);
  SET_VECTOR_ELT(contents, 345, ScalarReal(internal->init_Sv));
  SEXP init_T = PROTECT(allocVector(REALSXP, internal->dim_init_T));
  memcpy(REAL(init_T), internal->init_T, internal->dim_init_T * sizeof(double));
  odin_set_dim(init_T, 3, internal->dim_init_T_1, internal->dim_init_T_2, internal->dim_init_T_3);
  SET_VECTOR_ELT(contents, 346, init_T);
  SEXP init_U = PROTECT(allocVector(REALSXP, internal->dim_init_U));
  memcpy(REAL(init_U), internal->init_U, internal->dim_init_U * sizeof(double));
  odin_set_dim(init_U, 3, internal->dim_init_U_1, internal->dim_init_U_2, internal->dim_init_U_3);
  SET_VECTOR_ELT(contents, 347, init_U);
  SEXP initial_A = PROTECT(allocVector(REALSXP, internal->dim_A));
  memcpy(REAL(initial_A), internal->initial_A, internal->dim_A * sizeof(double));
  odin_set_dim(initial_A, 3, internal->dim_A_1, internal->dim_A_2, internal->dim_A_3);
  SET_VECTOR_ELT(contents, 348, initial_A);
  SEXP initial_D = PROTECT(allocVector(REALSXP, internal->dim_D));
  memcpy(REAL(initial_D), internal->initial_D, internal->dim_D * sizeof(double));
  odin_set_dim(initial_D, 3, internal->dim_D_1, internal->dim_D_2, internal->dim_D_3);
  SET_VECTOR_ELT(contents, 349, initial_D);
  SET_VECTOR_ELT(contents, 350, ScalarReal(internal->initial_EL1));
  SET_VECTOR_ELT(contents, 351, ScalarReal(internal->initial_EL2));
  SET_VECTOR_ELT(contents, 352, ScalarReal(internal->initial_Ev1));
  SET_VECTOR_ELT(contents, 353, ScalarReal(internal->initial_Ev2));
  SEXP initial_IB = PROTECT(allocVector(REALSXP, internal->dim_IB));
  memcpy(REAL(initial_IB), internal->initial_IB, internal->dim_IB * sizeof(double));
  odin_set_dim(initial_IB, 3, internal->dim_IB_1, internal->dim_IB_2, internal->dim_IB_3);
  SET_VECTOR_ELT(contents, 354, initial_IB);
  SEXP initial_ICA = PROTECT(allocVector(REALSXP, internal->dim_ICA));
  memcpy(REAL(initial_ICA), internal->initial_ICA, internal->dim_ICA * sizeof(double));
  odin_set_dim(initial_ICA, 3, internal->dim_ICA_1, internal->dim_ICA_2, internal->dim_ICA_3);
  SET_VECTOR_ELT(contents, 355, initial_ICA);
  SEXP initial_ICM = PROTECT(allocVector(REALSXP, internal->dim_ICM));
  memcpy(REAL(initial_ICM), internal->initial_ICM, internal->dim_ICM * sizeof(double));
  odin_set_dim(initial_ICM, 3, internal->dim_ICM_1, internal->dim_ICM_2, internal->dim_ICM_3);
  SET_VECTOR_ELT(contents, 356, initial_ICM);
  SEXP initial_ID = PROTECT(allocVector(REALSXP, internal->dim_ID));
  memcpy(REAL(initial_ID), internal->initial_ID, internal->dim_ID * sizeof(double));
  odin_set_dim(initial_ID, 3, internal->dim_ID_1, internal->dim_ID_2, internal->dim_ID_3);
  SET_VECTOR_ELT(contents, 357, initial_ID);
  SET_VECTOR_ELT(contents, 358, ScalarReal(internal->initial_Iv1));
  SET_VECTOR_ELT(contents, 359, ScalarReal(internal->initial_Iv2));
  SET_VECTOR_ELT(contents, 360, ScalarReal(internal->initial_LL1));
  SET_VECTOR_ELT(contents, 361, ScalarReal(internal->initial_LL2));
  SEXP initial_P = PROTECT(allocVector(REALSXP, internal->dim_P));
  memcpy(REAL(initial_P), internal->initial_P, internal->dim_P * sizeof(double));
  odin_set_dim(initial_P, 3, internal->dim_P_1, internal->dim_P_2, internal->dim_P_3);
  SET_VECTOR_ELT(contents, 362, initial_P);
  SET_VECTOR_ELT(contents, 363, ScalarReal(internal->initial_PL1));
  SET_VECTOR_ELT(contents, 364, ScalarReal(internal->initial_PL2));
  SEXP initial_S = PROTECT(allocVector(REALSXP, internal->dim_S));
  memcpy(REAL(initial_S), internal->initial_S, internal->dim_S * sizeof(double));
  odin_set_dim(initial_S, 3, internal->dim_S_1, internal->dim_S_2, internal->dim_S_3);
  SET_VECTOR_ELT(contents, 365, initial_S);
  SET_VECTOR_ELT(contents, 366, ScalarReal(internal->initial_Sv1));
  SET_VECTOR_ELT(contents, 367, ScalarReal(internal->initial_Sv2));
  SET_VECTOR_ELT(contents, 368, ScalarReal(internal->initial_t));
  SEXP initial_T = PROTECT(allocVector(REALSXP, internal->dim_T));
  memcpy(REAL(initial_T), internal->initial_T, internal->dim_T * sizeof(double));
  odin_set_dim(initial_T, 3, internal->dim_T_1, internal->dim_T_2, internal->dim_T_3);
  SET_VECTOR_ELT(contents, 369, initial_T);
  SEXP initial_U = PROTECT(allocVector(REALSXP, internal->dim_U));
  memcpy(REAL(initial_U), internal->initial_U, internal->dim_U * sizeof(double));
  odin_set_dim(initial_U, 3, internal->dim_U_1, internal->dim_U_2, internal->dim_U_3);
  SET_VECTOR_ELT(contents, 370, initial_U);
  SET_VECTOR_ELT(contents, 371, ScalarReal(internal->irs_cov));
  SET_VECTOR_ELT(contents, 372, ScalarReal(internal->IRS_interval));
  SET_VECTOR_ELT(contents, 373, ScalarReal(internal->irs_loss));
  SET_VECTOR_ELT(contents, 374, ScalarReal(internal->itn_cov));
  SET_VECTOR_ELT(contents, 375, ScalarReal(internal->ITN_interval));
  SET_VECTOR_ELT(contents, 376, ScalarReal(internal->ITN_IRS_on));
  SET_VECTOR_ELT(contents, 377, ScalarReal(internal->itn_loss));
  SET_VECTOR_ELT(contents, 378, ScalarReal(internal->kB));
  SET_VECTOR_ELT(contents, 379, ScalarReal(internal->kC));
  SET_VECTOR_ELT(contents, 380, ScalarReal(internal->kD));
  SET_VECTOR_ELT(contents, 381, ScalarReal(internal->mu0));
  SET_VECTOR_ELT(contents, 382, ScalarReal(internal->muEL));
  SET_VECTOR_ELT(contents, 383, ScalarReal(internal->muLL));
  SET_VECTOR_ELT(contents, 384, ScalarReal(internal->muPL));
  SET_VECTOR_ELT(contents, 385, ScalarReal(internal->mv0));
  SET_VECTOR_ELT(contents, 386, ScalarInteger(internal->na));
  SET_VECTOR_ELT(contents, 387, ScalarInteger(internal->nh));
  SET_VECTOR_ELT(contents, 388, ScalarInteger(internal->num_int));
  SET_VECTOR_ELT(contents, 389, ScalarInteger(internal->offset_FOIv_species1_A));
  SET_VECTOR_ELT(contents, 390, ScalarInteger(internal->offset_FOIv_species1_ID));
  SET_VECTOR_ELT(contents, 391, ScalarInteger(internal->offset_FOIv_species1_U));
  SET_VECTOR_ELT(contents, 392, ScalarInteger(internal->offset_FOIv_species2_A));
  SET_VECTOR_ELT(contents, 393, ScalarInteger(internal->offset_FOIv_species2_ID));
  SET_VECTOR_ELT(contents, 394, ScalarInteger(internal->offset_FOIv_species2_U));
  SET_VECTOR_ELT(contents, 395, ScalarInteger(internal->offset_output_EIR));
  SET_VECTOR_ELT(contents, 396, ScalarInteger(internal->offset_output_EIR_species1));
  SET_VECTOR_ELT(contents, 397, ScalarInteger(internal->offset_output_EIR_species2));
  SET_VECTOR_ELT(contents, 398, ScalarInteger(internal->offset_variable_A));
  SET_VECTOR_ELT(contents, 399, ScalarInteger(internal->offset_variable_D));
  SET_VECTOR_ELT(contents, 400, ScalarInteger(internal->offset_variable_IB));
  SET_VECTOR_ELT(contents, 401, ScalarInteger(internal->offset_variable_ICA));
  SET_VECTOR_ELT(contents, 402, ScalarInteger(internal->offset_variable_ICM));
  SET_VECTOR_ELT(contents, 403, ScalarInteger(internal->offset_variable_ID));
  SET_VECTOR_ELT(contents, 404, ScalarInteger(internal->offset_variable_P));
  SET_VECTOR_ELT(contents, 405, ScalarInteger(internal->offset_variable_T));
  SET_VECTOR_ELT(contents, 406, ScalarInteger(internal->offset_variable_U));
  SET_VECTOR_ELT(contents, 407, ScalarReal(internal->omega));
  SEXP p_det = PROTECT(allocVector(REALSXP, internal->dim_p_det));
  memcpy(REAL(p_det), internal->p_det, internal->dim_p_det * sizeof(double));
  odin_set_dim(p_det, 3, internal->dim_p_det_1, internal->dim_p_det_2, internal->dim_p_det_3);
  SET_VECTOR_ELT(contents, 408, p_det);
  SET_VECTOR_ELT(contents, 409, ScalarReal(internal->p10));
  SET_VECTOR_ELT(contents, 410, ScalarReal(internal->p2));
  SEXP phi = PROTECT(allocVector(REALSXP, internal->dim_phi));
  memcpy(REAL(phi), internal->phi, internal->dim_phi * sizeof(double));
  odin_set_dim(phi, 3, internal->dim_phi_1, internal->dim_phi_2, internal->dim_phi_3);
  SET_VECTOR_ELT(contents, 411, phi);
  SET_VECTOR_ELT(contents, 412, ScalarReal(internal->phi0));
  SET_VECTOR_ELT(contents, 413, ScalarReal(internal->phi1));
  SET_VECTOR_ELT(contents, 414, ScalarReal(internal->pi));
  SET_VECTOR_ELT(contents, 415, ScalarReal(internal->PM));
  SEXP prev0to5 = PROTECT(allocVector(REALSXP, internal->dim_prev0to5));
  memcpy(REAL(prev0to5), internal->prev0to5, internal->dim_prev0to5 * sizeof(double));
  odin_set_dim(prev0to5, 3, internal->dim_prev0to5_1, internal->dim_prev0to5_2, internal->dim_prev0to5_3);
  SET_VECTOR_ELT(contents, 416, prev0to5);
  SEXP prev0to59 = PROTECT(allocVector(REALSXP, internal->dim_prev0to59));
  memcpy(REAL(prev0to59), internal->prev0to59, internal->dim_prev0to59 * sizeof(double));
  odin_set_dim(prev0to59, 3, internal->dim_prev0to59_1, internal->dim_prev0to59_2, internal->dim_prev0to59_3);
  SET_VECTOR_ELT(contents, 417, prev0to59);
  SET_VECTOR_ELT(contents, 418, ScalarReal(internal->Q0_species1));
  SET_VECTOR_ELT(contents, 419, ScalarReal(internal->Q0_species2));
  SET_VECTOR_ELT(contents, 420, ScalarReal(internal->r_IRS0_1));
  SET_VECTOR_ELT(contents, 421, ScalarReal(internal->r_IRS0_2));
  SET_VECTOR_ELT(contents, 422, ScalarReal(internal->r_ITN0_1));
  SET_VECTOR_ELT(contents, 423, ScalarReal(internal->r_ITN0_2));
  SET_VECTOR_ELT(contents, 424, ScalarReal(internal->r_ITN1));
  SET_VECTOR_ELT(contents, 425, ScalarReal(internal->r_ITN2));
  SET_VECTOR_ELT(contents, 426, ScalarReal(internal->rA));
  SET_VECTOR_ELT(contents, 427, ScalarReal(internal->rD));
  SEXP rel_foi = PROTECT(allocVector(REALSXP, internal->dim_rel_foi));
  memcpy(REAL(rel_foi), internal->rel_foi, internal->dim_rel_foi * sizeof(double));
  SET_VECTOR_ELT(contents, 428, rel_foi);
  SET_VECTOR_ELT(contents, 429, ScalarReal(internal->rP));
  SET_VECTOR_ELT(contents, 430, ScalarReal(internal->rT));
  SET_VECTOR_ELT(contents, 431, ScalarReal(internal->rU));
  SET_VECTOR_ELT(contents, 432, ScalarReal(internal->ssa0));
  SET_VECTOR_ELT(contents, 433, ScalarReal(internal->ssa1));
  SET_VECTOR_ELT(contents, 434, ScalarReal(internal->ssa2));
  SET_VECTOR_ELT(contents, 435, ScalarReal(internal->ssa3));
  SET_VECTOR_ELT(contents, 436, ScalarReal(internal->ssb1));
  SET_VECTOR_ELT(contents, 437, ScalarReal(internal->ssb2));
  SET_VECTOR_ELT(contents, 438, ScalarReal(internal->ssb3));
  SET_VECTOR_ELT(contents, 439, ScalarReal(internal->tau1));
  SET_VECTOR_ELT(contents, 440, ScalarReal(internal->tau2));
  SET_VECTOR_ELT(contents, 441, ScalarReal(internal->theta_c));
  SET_VECTOR_ELT(contents, 442, ScalarInteger(internal->time_length));
  SET_VECTOR_ELT(contents, 443, ScalarReal(internal->uB));
  SET_VECTOR_ELT(contents, 444, ScalarReal(internal->uCA));
  SET_VECTOR_ELT(contents, 445, ScalarReal(internal->uD));
  SEXP w1 = PROTECT(allocVector(REALSXP, internal->dim_w1));
  memcpy(REAL(w1), internal->w1, internal->dim_w1 * sizeof(double));
  SET_VECTOR_ELT(contents, 446, w1);
  SEXP w1_ = PROTECT(allocVector(REALSXP, internal->dim_w1_));
  memcpy(REAL(w1_), internal->w1_, internal->dim_w1_ * sizeof(double));
  SET_VECTOR_ELT(contents, 447, w1_);
  SEXP w2 = PROTECT(allocVector(REALSXP, internal->dim_w2));
  memcpy(REAL(w2), internal->w2, internal->dim_w2 * sizeof(double));
  SET_VECTOR_ELT(contents, 448, w2);
  SEXP w2_ = PROTECT(allocVector(REALSXP, internal->dim_w2_));
  memcpy(REAL(w2_), internal->w2_, internal->dim_w2_ * sizeof(double));
  SET_VECTOR_ELT(contents, 449, w2_);
  SEXP whi1 = PROTECT(allocVector(REALSXP, internal->dim_whi1));
  memcpy(REAL(whi1), internal->whi1, internal->dim_whi1 * sizeof(double));
  SET_VECTOR_ELT(contents, 450, whi1);
  SEXP whi2 = PROTECT(allocVector(REALSXP, internal->dim_whi2));
  memcpy(REAL(whi2), internal->whi2, internal->dim_whi2 * sizeof(double));
  SET_VECTOR_ELT(contents, 451, whi2);
  SEXP x_I = PROTECT(allocVector(REALSXP, internal->dim_x_I));
  memcpy(REAL(x_I), internal->x_I, internal->dim_x_I * sizeof(double));
  SET_VECTOR_ELT(contents, 452, x_I);
  SEXP Y = PROTECT(allocVector(REALSXP, internal->dim_Y));
  memcpy(REAL(Y), internal->Y, internal->dim_Y * sizeof(double));
  odin_set_dim(Y, 3, internal->dim_Y_1, internal->dim_Y_2, internal->dim_Y_3);
  SET_VECTOR_ELT(contents, 453, Y);
  SEXP yy1 = PROTECT(allocVector(REALSXP, internal->dim_yy1));
  memcpy(REAL(yy1), internal->yy1, internal->dim_yy1 * sizeof(double));
  SET_VECTOR_ELT(contents, 454, yy1);
  SEXP yy1_ = PROTECT(allocVector(REALSXP, internal->dim_yy1_));
  memcpy(REAL(yy1_), internal->yy1_, internal->dim_yy1_ * sizeof(double));
  SET_VECTOR_ELT(contents, 455, yy1_);
  SEXP yy2 = PROTECT(allocVector(REALSXP, internal->dim_yy2));
  memcpy(REAL(yy2), internal->yy2, internal->dim_yy2 * sizeof(double));
  SET_VECTOR_ELT(contents, 456, yy2);
  SEXP yy2_ = PROTECT(allocVector(REALSXP, internal->dim_yy2_));
  memcpy(REAL(yy2_), internal->yy2_, internal->dim_yy2_ * sizeof(double));
  SET_VECTOR_ELT(contents, 457, yy2_);
  SEXP z1 = PROTECT(allocVector(REALSXP, internal->dim_z1));
  memcpy(REAL(z1), internal->z1, internal->dim_z1 * sizeof(double));
  SET_VECTOR_ELT(contents, 458, z1);
  SEXP z1_ = PROTECT(allocVector(REALSXP, internal->dim_z1_));
  memcpy(REAL(z1_), internal->z1_, internal->dim_z1_ * sizeof(double));
  SET_VECTOR_ELT(contents, 459, z1_);
  SEXP z2 = PROTECT(allocVector(REALSXP, internal->dim_z2));
  memcpy(REAL(z2), internal->z2, internal->dim_z2 * sizeof(double));
  SET_VECTOR_ELT(contents, 460, z2);
  SEXP z2_ = PROTECT(allocVector(REALSXP, internal->dim_z2_));
  memcpy(REAL(z2_), internal->z2_, internal->dim_z2_ * sizeof(double));
  SET_VECTOR_ELT(contents, 461, z2_);
  SEXP zhi1 = PROTECT(allocVector(REALSXP, internal->dim_zhi1));
  memcpy(REAL(zhi1), internal->zhi1, internal->dim_zhi1 * sizeof(double));
  SET_VECTOR_ELT(contents, 462, zhi1);
  SEXP zhi2 = PROTECT(allocVector(REALSXP, internal->dim_zhi2));
  memcpy(REAL(zhi2), internal->zhi2, internal->dim_zhi2 * sizeof(double));
  SET_VECTOR_ELT(contents, 463, zhi2);
  SET_VECTOR_ELT(contents, 464, ScalarLogical(internal->odin_model_2sp_use_dde));
  SEXP nms = PROTECT(allocVector(STRSXP, 465));
  SET_STRING_ELT(nms, 0, mkChar("aD"));
  SET_STRING_ELT(nms, 1, mkChar("age"));
  SET_STRING_ELT(nms, 2, mkChar("age_20_factor"));
  SET_STRING_ELT(nms, 3, mkChar("age_rate"));
  SET_STRING_ELT(nms, 4, mkChar("age05"));
  SET_STRING_ELT(nms, 5, mkChar("age20l"));
  SET_STRING_ELT(nms, 6, mkChar("age20u"));
  SET_STRING_ELT(nms, 7, mkChar("age59"));
  SET_STRING_ELT(nms, 8, mkChar("av_human1"));
  SET_STRING_ELT(nms, 9, mkChar("av_human2"));
  SET_STRING_ELT(nms, 10, mkChar("av_mosq1"));
  SET_STRING_ELT(nms, 11, mkChar("av_mosq2"));
  SET_STRING_ELT(nms, 12, mkChar("b"));
  SET_STRING_ELT(nms, 13, mkChar("b_lambda"));
  SET_STRING_ELT(nms, 14, mkChar("b0"));
  SET_STRING_ELT(nms, 15, mkChar("b1"));
  SET_STRING_ELT(nms, 16, mkChar("betaL"));
  SET_STRING_ELT(nms, 17, mkChar("bites_Bed_species1"));
  SET_STRING_ELT(nms, 18, mkChar("bites_Bed_species2"));
  SET_STRING_ELT(nms, 19, mkChar("bites_Indoors_species1"));
  SET_STRING_ELT(nms, 20, mkChar("bites_Indoors_species2"));
  SET_STRING_ELT(nms, 21, mkChar("cA"));
  SET_STRING_ELT(nms, 22, mkChar("cD"));
  SET_STRING_ELT(nms, 23, mkChar("chi_species1"));
  SET_STRING_ELT(nms, 24, mkChar("chi_species2"));
  SET_STRING_ELT(nms, 25, mkChar("clin_inc"));
  SET_STRING_ELT(nms, 26, mkChar("clin_inc0to5"));
  SET_STRING_ELT(nms, 27, mkChar("cov"));
  SET_STRING_ELT(nms, 28, mkChar("cov_"));
  SET_STRING_ELT(nms, 29, mkChar("cT"));
  SET_STRING_ELT(nms, 30, mkChar("cU"));
  SET_STRING_ELT(nms, 31, mkChar("custom_seasonality"));
  SET_STRING_ELT(nms, 32, mkChar("d_IRS0_1"));
  SET_STRING_ELT(nms, 33, mkChar("d_IRS0_2"));
  SET_STRING_ELT(nms, 34, mkChar("d_ITN0_1"));
  SET_STRING_ELT(nms, 35, mkChar("d_ITN0_2"));
  SET_STRING_ELT(nms, 36, mkChar("d1"));
  SET_STRING_ELT(nms, 37, mkChar("dB"));
  SET_STRING_ELT(nms, 38, mkChar("dCA"));
  SET_STRING_ELT(nms, 39, mkChar("dCM"));
  SET_STRING_ELT(nms, 40, mkChar("dE"));
  SET_STRING_ELT(nms, 41, mkChar("dEL"));
  SET_STRING_ELT(nms, 42, mkChar("delay_array_av_human1"));
  SET_STRING_ELT(nms, 43, mkChar("delay_array_av_human2"));
  SET_STRING_ELT(nms, 44, mkChar("delay_array_av_mosq1"));
  SET_STRING_ELT(nms, 45, mkChar("delay_array_av_mosq2"));
  SET_STRING_ELT(nms, 46, mkChar("delay_array_b"));
  SET_STRING_ELT(nms, 47, mkChar("delay_array_cA"));
  SET_STRING_ELT(nms, 48, mkChar("delay_array_EIR"));
  SET_STRING_ELT(nms, 49, mkChar("delay_array_EIR_species1"));
  SET_STRING_ELT(nms, 50, mkChar("delay_array_EIR_species2"));
  SET_STRING_ELT(nms, 51, mkChar("delay_array_FOI_lag"));
  SET_STRING_ELT(nms, 52, mkChar("delay_array_FOIvijk_species1"));
  SET_STRING_ELT(nms, 53, mkChar("delay_array_FOIvijk_species2"));
  SET_STRING_ELT(nms, 54, mkChar("delay_array_p_det"));
  SET_STRING_ELT(nms, 55, mkChar("delay_array_w1"));
  SET_STRING_ELT(nms, 56, mkChar("delay_array_w1_"));
  SET_STRING_ELT(nms, 57, mkChar("delay_array_w2"));
  SET_STRING_ELT(nms, 58, mkChar("delay_array_w2_"));
  SET_STRING_ELT(nms, 59, mkChar("delay_array_whi1"));
  SET_STRING_ELT(nms, 60, mkChar("delay_array_whi2"));
  SET_STRING_ELT(nms, 61, mkChar("delay_array_yy1"));
  SET_STRING_ELT(nms, 62, mkChar("delay_array_yy1_"));
  SET_STRING_ELT(nms, 63, mkChar("delay_array_yy2"));
  SET_STRING_ELT(nms, 64, mkChar("delay_array_yy2_"));
  SET_STRING_ELT(nms, 65, mkChar("delay_array_z1"));
  SET_STRING_ELT(nms, 66, mkChar("delay_array_z1_"));
  SET_STRING_ELT(nms, 67, mkChar("delay_array_z2"));
  SET_STRING_ELT(nms, 68, mkChar("delay_array_z2_"));
  SET_STRING_ELT(nms, 69, mkChar("delay_array_zhi1"));
  SET_STRING_ELT(nms, 70, mkChar("delay_array_zhi2"));
  SET_STRING_ELT(nms, 71, mkChar("delay_index_FOI"));
  SET_STRING_ELT(nms, 72, mkChar("delay_index_FOIv_species1"));
  SET_STRING_ELT(nms, 73, mkChar("delay_index_FOIv_species2"));
  SET_STRING_ELT(nms, 74, mkChar("delay_index_incv1"));
  SET_STRING_ELT(nms, 75, mkChar("delay_index_incv2"));
  SET_STRING_ELT(nms, 76, mkChar("delay_state_FOI"));
  SET_STRING_ELT(nms, 77, mkChar("delay_state_FOIv_species1"));
  SET_STRING_ELT(nms, 78, mkChar("delay_state_FOIv_species2"));
  SET_STRING_ELT(nms, 79, mkChar("delay_state_incv1"));
  SET_STRING_ELT(nms, 80, mkChar("delay_state_incv2"));
  SET_STRING_ELT(nms, 81, mkChar("delayGam"));
  SET_STRING_ELT(nms, 82, mkChar("delayMos"));
  SET_STRING_ELT(nms, 83, mkChar("den"));
  SET_STRING_ELT(nms, 84, mkChar("density_vec"));
  SET_STRING_ELT(nms, 85, mkChar("dID"));
  SET_STRING_ELT(nms, 86, mkChar("dim_A"));
  SET_STRING_ELT(nms, 87, mkChar("dim_A_1"));
  SET_STRING_ELT(nms, 88, mkChar("dim_A_12"));
  SET_STRING_ELT(nms, 89, mkChar("dim_A_2"));
  SET_STRING_ELT(nms, 90, mkChar("dim_A_3"));
  SET_STRING_ELT(nms, 91, mkChar("dim_age"));
  SET_STRING_ELT(nms, 92, mkChar("dim_age_rate"));
  SET_STRING_ELT(nms, 93, mkChar("dim_av_human1"));
  SET_STRING_ELT(nms, 94, mkChar("dim_av_human2"));
  SET_STRING_ELT(nms, 95, mkChar("dim_av_mosq1"));
  SET_STRING_ELT(nms, 96, mkChar("dim_av_mosq2"));
  SET_STRING_ELT(nms, 97, mkChar("dim_b"));
  SET_STRING_ELT(nms, 98, mkChar("dim_b_1"));
  SET_STRING_ELT(nms, 99, mkChar("dim_b_12"));
  SET_STRING_ELT(nms, 100, mkChar("dim_b_2"));
  SET_STRING_ELT(nms, 101, mkChar("dim_b_3"));
  SET_STRING_ELT(nms, 102, mkChar("dim_cA"));
  SET_STRING_ELT(nms, 103, mkChar("dim_cA_1"));
  SET_STRING_ELT(nms, 104, mkChar("dim_cA_12"));
  SET_STRING_ELT(nms, 105, mkChar("dim_cA_2"));
  SET_STRING_ELT(nms, 106, mkChar("dim_cA_3"));
  SET_STRING_ELT(nms, 107, mkChar("dim_clin_inc"));
  SET_STRING_ELT(nms, 108, mkChar("dim_clin_inc_1"));
  SET_STRING_ELT(nms, 109, mkChar("dim_clin_inc_12"));
  SET_STRING_ELT(nms, 110, mkChar("dim_clin_inc_2"));
  SET_STRING_ELT(nms, 111, mkChar("dim_clin_inc_3"));
  SET_STRING_ELT(nms, 112, mkChar("dim_clin_inc0to5"));
  SET_STRING_ELT(nms, 113, mkChar("dim_clin_inc0to5_1"));
  SET_STRING_ELT(nms, 114, mkChar("dim_clin_inc0to5_12"));
  SET_STRING_ELT(nms, 115, mkChar("dim_clin_inc0to5_2"));
  SET_STRING_ELT(nms, 116, mkChar("dim_clin_inc0to5_3"));
  SET_STRING_ELT(nms, 117, mkChar("dim_cov"));
  SET_STRING_ELT(nms, 118, mkChar("dim_cov_"));
  SET_STRING_ELT(nms, 119, mkChar("dim_custom_seasonality"));
  SET_STRING_ELT(nms, 120, mkChar("dim_D"));
  SET_STRING_ELT(nms, 121, mkChar("dim_D_1"));
  SET_STRING_ELT(nms, 122, mkChar("dim_D_12"));
  SET_STRING_ELT(nms, 123, mkChar("dim_D_2"));
  SET_STRING_ELT(nms, 124, mkChar("dim_D_3"));
  SET_STRING_ELT(nms, 125, mkChar("dim_delay_FOI"));
  SET_STRING_ELT(nms, 126, mkChar("dim_delay_FOIv_species1"));
  SET_STRING_ELT(nms, 127, mkChar("dim_delay_FOIv_species2"));
  SET_STRING_ELT(nms, 128, mkChar("dim_den"));
  SET_STRING_ELT(nms, 129, mkChar("dim_density_vec"));
  SET_STRING_ELT(nms, 130, mkChar("dim_EIR"));
  SET_STRING_ELT(nms, 131, mkChar("dim_EIR_1"));
  SET_STRING_ELT(nms, 132, mkChar("dim_EIR_12"));
  SET_STRING_ELT(nms, 133, mkChar("dim_EIR_2"));
  SET_STRING_ELT(nms, 134, mkChar("dim_EIR_3"));
  SET_STRING_ELT(nms, 135, mkChar("dim_EIR_species1"));
  SET_STRING_ELT(nms, 136, mkChar("dim_EIR_species1_1"));
  SET_STRING_ELT(nms, 137, mkChar("dim_EIR_species1_12"));
  SET_STRING_ELT(nms, 138, mkChar("dim_EIR_species1_2"));
  SET_STRING_ELT(nms, 139, mkChar("dim_EIR_species1_3"));
  SET_STRING_ELT(nms, 140, mkChar("dim_EIR_species2"));
  SET_STRING_ELT(nms, 141, mkChar("dim_EIR_species2_1"));
  SET_STRING_ELT(nms, 142, mkChar("dim_EIR_species2_12"));
  SET_STRING_ELT(nms, 143, mkChar("dim_EIR_species2_2"));
  SET_STRING_ELT(nms, 144, mkChar("dim_EIR_species2_3"));
  SET_STRING_ELT(nms, 145, mkChar("dim_fd"));
  SET_STRING_ELT(nms, 146, mkChar("dim_FOI"));
  SET_STRING_ELT(nms, 147, mkChar("dim_FOI_1"));
  SET_STRING_ELT(nms, 148, mkChar("dim_FOI_12"));
  SET_STRING_ELT(nms, 149, mkChar("dim_FOI_2"));
  SET_STRING_ELT(nms, 150, mkChar("dim_FOI_3"));
  SET_STRING_ELT(nms, 151, mkChar("dim_foi_age"));
  SET_STRING_ELT(nms, 152, mkChar("dim_FOI_lag"));
  SET_STRING_ELT(nms, 153, mkChar("dim_FOI_lag_1"));
  SET_STRING_ELT(nms, 154, mkChar("dim_FOI_lag_12"));
  SET_STRING_ELT(nms, 155, mkChar("dim_FOI_lag_2"));
  SET_STRING_ELT(nms, 156, mkChar("dim_FOI_lag_3"));
  SET_STRING_ELT(nms, 157, mkChar("dim_FOIvijk_species1"));
  SET_STRING_ELT(nms, 158, mkChar("dim_FOIvijk_species1_1"));
  SET_STRING_ELT(nms, 159, mkChar("dim_FOIvijk_species1_12"));
  SET_STRING_ELT(nms, 160, mkChar("dim_FOIvijk_species1_2"));
  SET_STRING_ELT(nms, 161, mkChar("dim_FOIvijk_species1_3"));
  SET_STRING_ELT(nms, 162, mkChar("dim_FOIvijk_species2"));
  SET_STRING_ELT(nms, 163, mkChar("dim_FOIvijk_species2_1"));
  SET_STRING_ELT(nms, 164, mkChar("dim_FOIvijk_species2_12"));
  SET_STRING_ELT(nms, 165, mkChar("dim_FOIvijk_species2_2"));
  SET_STRING_ELT(nms, 166, mkChar("dim_FOIvijk_species2_3"));
  SET_STRING_ELT(nms, 167, mkChar("dim_het_wt"));
  SET_STRING_ELT(nms, 168, mkChar("dim_IB"));
  SET_STRING_ELT(nms, 169, mkChar("dim_IB_1"));
  SET_STRING_ELT(nms, 170, mkChar("dim_IB_12"));
  SET_STRING_ELT(nms, 171, mkChar("dim_IB_2"));
  SET_STRING_ELT(nms, 172, mkChar("dim_IB_3"));
  SET_STRING_ELT(nms, 173, mkChar("dim_IC"));
  SET_STRING_ELT(nms, 174, mkChar("dim_IC_1"));
  SET_STRING_ELT(nms, 175, mkChar("dim_IC_12"));
  SET_STRING_ELT(nms, 176, mkChar("dim_IC_2"));
  SET_STRING_ELT(nms, 177, mkChar("dim_IC_3"));
  SET_STRING_ELT(nms, 178, mkChar("dim_ICA"));
  SET_STRING_ELT(nms, 179, mkChar("dim_ICA_1"));
  SET_STRING_ELT(nms, 180, mkChar("dim_ICA_12"));
  SET_STRING_ELT(nms, 181, mkChar("dim_ICA_2"));
  SET_STRING_ELT(nms, 182, mkChar("dim_ICA_3"));
  SET_STRING_ELT(nms, 183, mkChar("dim_ICM"));
  SET_STRING_ELT(nms, 184, mkChar("dim_ICM_1"));
  SET_STRING_ELT(nms, 185, mkChar("dim_ICM_12"));
  SET_STRING_ELT(nms, 186, mkChar("dim_ICM_2"));
  SET_STRING_ELT(nms, 187, mkChar("dim_ICM_3"));
  SET_STRING_ELT(nms, 188, mkChar("dim_ID"));
  SET_STRING_ELT(nms, 189, mkChar("dim_ID_1"));
  SET_STRING_ELT(nms, 190, mkChar("dim_ID_12"));
  SET_STRING_ELT(nms, 191, mkChar("dim_ID_2"));
  SET_STRING_ELT(nms, 192, mkChar("dim_ID_3"));
  SET_STRING_ELT(nms, 193, mkChar("dim_init_A"));
  SET_STRING_ELT(nms, 194, mkChar("dim_init_A_1"));
  SET_STRING_ELT(nms, 195, mkChar("dim_init_A_12"));
  SET_STRING_ELT(nms, 196, mkChar("dim_init_A_2"));
  SET_STRING_ELT(nms, 197, mkChar("dim_init_A_3"));
  SET_STRING_ELT(nms, 198, mkChar("dim_init_D"));
  SET_STRING_ELT(nms, 199, mkChar("dim_init_D_1"));
  SET_STRING_ELT(nms, 200, mkChar("dim_init_D_12"));
  SET_STRING_ELT(nms, 201, mkChar("dim_init_D_2"));
  SET_STRING_ELT(nms, 202, mkChar("dim_init_D_3"));
  SET_STRING_ELT(nms, 203, mkChar("dim_init_IB"));
  SET_STRING_ELT(nms, 204, mkChar("dim_init_IB_1"));
  SET_STRING_ELT(nms, 205, mkChar("dim_init_IB_12"));
  SET_STRING_ELT(nms, 206, mkChar("dim_init_IB_2"));
  SET_STRING_ELT(nms, 207, mkChar("dim_init_IB_3"));
  SET_STRING_ELT(nms, 208, mkChar("dim_init_ICA"));
  SET_STRING_ELT(nms, 209, mkChar("dim_init_ICA_1"));
  SET_STRING_ELT(nms, 210, mkChar("dim_init_ICA_12"));
  SET_STRING_ELT(nms, 211, mkChar("dim_init_ICA_2"));
  SET_STRING_ELT(nms, 212, mkChar("dim_init_ICA_3"));
  SET_STRING_ELT(nms, 213, mkChar("dim_init_ICM"));
  SET_STRING_ELT(nms, 214, mkChar("dim_init_ICM_1"));
  SET_STRING_ELT(nms, 215, mkChar("dim_init_ICM_12"));
  SET_STRING_ELT(nms, 216, mkChar("dim_init_ICM_2"));
  SET_STRING_ELT(nms, 217, mkChar("dim_init_ICM_3"));
  SET_STRING_ELT(nms, 218, mkChar("dim_init_ICM_pre"));
  SET_STRING_ELT(nms, 219, mkChar("dim_init_ICM_pre_1"));
  SET_STRING_ELT(nms, 220, mkChar("dim_init_ICM_pre_2"));
  SET_STRING_ELT(nms, 221, mkChar("dim_init_ID"));
  SET_STRING_ELT(nms, 222, mkChar("dim_init_ID_1"));
  SET_STRING_ELT(nms, 223, mkChar("dim_init_ID_12"));
  SET_STRING_ELT(nms, 224, mkChar("dim_init_ID_2"));
  SET_STRING_ELT(nms, 225, mkChar("dim_init_ID_3"));
  SET_STRING_ELT(nms, 226, mkChar("dim_init_P"));
  SET_STRING_ELT(nms, 227, mkChar("dim_init_P_1"));
  SET_STRING_ELT(nms, 228, mkChar("dim_init_P_12"));
  SET_STRING_ELT(nms, 229, mkChar("dim_init_P_2"));
  SET_STRING_ELT(nms, 230, mkChar("dim_init_P_3"));
  SET_STRING_ELT(nms, 231, mkChar("dim_init_S"));
  SET_STRING_ELT(nms, 232, mkChar("dim_init_S_1"));
  SET_STRING_ELT(nms, 233, mkChar("dim_init_S_12"));
  SET_STRING_ELT(nms, 234, mkChar("dim_init_S_2"));
  SET_STRING_ELT(nms, 235, mkChar("dim_init_S_3"));
  SET_STRING_ELT(nms, 236, mkChar("dim_init_T"));
  SET_STRING_ELT(nms, 237, mkChar("dim_init_T_1"));
  SET_STRING_ELT(nms, 238, mkChar("dim_init_T_12"));
  SET_STRING_ELT(nms, 239, mkChar("dim_init_T_2"));
  SET_STRING_ELT(nms, 240, mkChar("dim_init_T_3"));
  SET_STRING_ELT(nms, 241, mkChar("dim_init_U"));
  SET_STRING_ELT(nms, 242, mkChar("dim_init_U_1"));
  SET_STRING_ELT(nms, 243, mkChar("dim_init_U_12"));
  SET_STRING_ELT(nms, 244, mkChar("dim_init_U_2"));
  SET_STRING_ELT(nms, 245, mkChar("dim_init_U_3"));
  SET_STRING_ELT(nms, 246, mkChar("dim_P"));
  SET_STRING_ELT(nms, 247, mkChar("dim_P_1"));
  SET_STRING_ELT(nms, 248, mkChar("dim_P_12"));
  SET_STRING_ELT(nms, 249, mkChar("dim_P_2"));
  SET_STRING_ELT(nms, 250, mkChar("dim_P_3"));
  SET_STRING_ELT(nms, 251, mkChar("dim_p_det"));
  SET_STRING_ELT(nms, 252, mkChar("dim_p_det_1"));
  SET_STRING_ELT(nms, 253, mkChar("dim_p_det_12"));
  SET_STRING_ELT(nms, 254, mkChar("dim_p_det_2"));
  SET_STRING_ELT(nms, 255, mkChar("dim_p_det_3"));
  SET_STRING_ELT(nms, 256, mkChar("dim_phi"));
  SET_STRING_ELT(nms, 257, mkChar("dim_phi_1"));
  SET_STRING_ELT(nms, 258, mkChar("dim_phi_12"));
  SET_STRING_ELT(nms, 259, mkChar("dim_phi_2"));
  SET_STRING_ELT(nms, 260, mkChar("dim_phi_3"));
  SET_STRING_ELT(nms, 261, mkChar("dim_prev0to5"));
  SET_STRING_ELT(nms, 262, mkChar("dim_prev0to5_1"));
  SET_STRING_ELT(nms, 263, mkChar("dim_prev0to5_12"));
  SET_STRING_ELT(nms, 264, mkChar("dim_prev0to5_2"));
  SET_STRING_ELT(nms, 265, mkChar("dim_prev0to5_3"));
  SET_STRING_ELT(nms, 266, mkChar("dim_prev0to59"));
  SET_STRING_ELT(nms, 267, mkChar("dim_prev0to59_1"));
  SET_STRING_ELT(nms, 268, mkChar("dim_prev0to59_12"));
  SET_STRING_ELT(nms, 269, mkChar("dim_prev0to59_2"));
  SET_STRING_ELT(nms, 270, mkChar("dim_prev0to59_3"));
  SET_STRING_ELT(nms, 271, mkChar("dim_rel_foi"));
  SET_STRING_ELT(nms, 272, mkChar("dim_S"));
  SET_STRING_ELT(nms, 273, mkChar("dim_S_1"));
  SET_STRING_ELT(nms, 274, mkChar("dim_S_12"));
  SET_STRING_ELT(nms, 275, mkChar("dim_S_2"));
  SET_STRING_ELT(nms, 276, mkChar("dim_S_3"));
  SET_STRING_ELT(nms, 277, mkChar("dim_T"));
  SET_STRING_ELT(nms, 278, mkChar("dim_T_1"));
  SET_STRING_ELT(nms, 279, mkChar("dim_T_12"));
  SET_STRING_ELT(nms, 280, mkChar("dim_T_2"));
  SET_STRING_ELT(nms, 281, mkChar("dim_T_3"));
  SET_STRING_ELT(nms, 282, mkChar("dim_U"));
  SET_STRING_ELT(nms, 283, mkChar("dim_U_1"));
  SET_STRING_ELT(nms, 284, mkChar("dim_U_12"));
  SET_STRING_ELT(nms, 285, mkChar("dim_U_2"));
  SET_STRING_ELT(nms, 286, mkChar("dim_U_3"));
  SET_STRING_ELT(nms, 287, mkChar("dim_w1"));
  SET_STRING_ELT(nms, 288, mkChar("dim_w1_"));
  SET_STRING_ELT(nms, 289, mkChar("dim_w2"));
  SET_STRING_ELT(nms, 290, mkChar("dim_w2_"));
  SET_STRING_ELT(nms, 291, mkChar("dim_whi1"));
  SET_STRING_ELT(nms, 292, mkChar("dim_whi2"));
  SET_STRING_ELT(nms, 293, mkChar("dim_x_I"));
  SET_STRING_ELT(nms, 294, mkChar("dim_Y"));
  SET_STRING_ELT(nms, 295, mkChar("dim_Y_1"));
  SET_STRING_ELT(nms, 296, mkChar("dim_Y_12"));
  SET_STRING_ELT(nms, 297, mkChar("dim_Y_2"));
  SET_STRING_ELT(nms, 298, mkChar("dim_Y_3"));
  SET_STRING_ELT(nms, 299, mkChar("dim_yy1"));
  SET_STRING_ELT(nms, 300, mkChar("dim_yy1_"));
  SET_STRING_ELT(nms, 301, mkChar("dim_yy2"));
  SET_STRING_ELT(nms, 302, mkChar("dim_yy2_"));
  SET_STRING_ELT(nms, 303, mkChar("dim_z1"));
  SET_STRING_ELT(nms, 304, mkChar("dim_z1_"));
  SET_STRING_ELT(nms, 305, mkChar("dim_z2"));
  SET_STRING_ELT(nms, 306, mkChar("dim_z2_"));
  SET_STRING_ELT(nms, 307, mkChar("dim_zhi1"));
  SET_STRING_ELT(nms, 308, mkChar("dim_zhi2"));
  SET_STRING_ELT(nms, 309, mkChar("dLL"));
  SET_STRING_ELT(nms, 310, mkChar("dPL"));
  SET_STRING_ELT(nms, 311, mkChar("EIR"));
  SET_STRING_ELT(nms, 312, mkChar("EIR_species1"));
  SET_STRING_ELT(nms, 313, mkChar("EIR_species2"));
  SET_STRING_ELT(nms, 314, mkChar("eta"));
  SET_STRING_ELT(nms, 315, mkChar("fd"));
  SET_STRING_ELT(nms, 316, mkChar("fD0"));
  SET_STRING_ELT(nms, 317, mkChar("FOI"));
  SET_STRING_ELT(nms, 318, mkChar("foi_age"));
  SET_STRING_ELT(nms, 319, mkChar("FOI_lag"));
  SET_STRING_ELT(nms, 320, mkChar("FOIvijk_species1"));
  SET_STRING_ELT(nms, 321, mkChar("FOIvijk_species2"));
  SET_STRING_ELT(nms, 322, mkChar("ft"));
  SET_STRING_ELT(nms, 323, mkChar("gamma1"));
  SET_STRING_ELT(nms, 324, mkChar("gammaD"));
  SET_STRING_ELT(nms, 325, mkChar("gammaL"));
  SET_STRING_ELT(nms, 326, mkChar("het_wt"));
  SET_STRING_ELT(nms, 327, mkChar("IB0"));
  SET_STRING_ELT(nms, 328, mkChar("IC"));
  SET_STRING_ELT(nms, 329, mkChar("IC0"));
  SET_STRING_ELT(nms, 330, mkChar("ID0"));
  SET_STRING_ELT(nms, 331, mkChar("init_A"));
  SET_STRING_ELT(nms, 332, mkChar("init_D"));
  SET_STRING_ELT(nms, 333, mkChar("init_EL"));
  SET_STRING_ELT(nms, 334, mkChar("init_Ev"));
  SET_STRING_ELT(nms, 335, mkChar("init_IB"));
  SET_STRING_ELT(nms, 336, mkChar("init_ICA"));
  SET_STRING_ELT(nms, 337, mkChar("init_ICM"));
  SET_STRING_ELT(nms, 338, mkChar("init_ICM_pre"));
  SET_STRING_ELT(nms, 339, mkChar("init_ID"));
  SET_STRING_ELT(nms, 340, mkChar("init_Iv"));
  SET_STRING_ELT(nms, 341, mkChar("init_LL"));
  SET_STRING_ELT(nms, 342, mkChar("init_P"));
  SET_STRING_ELT(nms, 343, mkChar("init_PL"));
  SET_STRING_ELT(nms, 344, mkChar("init_S"));
  SET_STRING_ELT(nms, 345, mkChar("init_Sv"));
  SET_STRING_ELT(nms, 346, mkChar("init_T"));
  SET_STRING_ELT(nms, 347, mkChar("init_U"));
  SET_STRING_ELT(nms, 348, mkChar("initial_A"));
  SET_STRING_ELT(nms, 349, mkChar("initial_D"));
  SET_STRING_ELT(nms, 350, mkChar("initial_EL1"));
  SET_STRING_ELT(nms, 351, mkChar("initial_EL2"));
  SET_STRING_ELT(nms, 352, mkChar("initial_Ev1"));
  SET_STRING_ELT(nms, 353, mkChar("initial_Ev2"));
  SET_STRING_ELT(nms, 354, mkChar("initial_IB"));
  SET_STRING_ELT(nms, 355, mkChar("initial_ICA"));
  SET_STRING_ELT(nms, 356, mkChar("initial_ICM"));
  SET_STRING_ELT(nms, 357, mkChar("initial_ID"));
  SET_STRING_ELT(nms, 358, mkChar("initial_Iv1"));
  SET_STRING_ELT(nms, 359, mkChar("initial_Iv2"));
  SET_STRING_ELT(nms, 360, mkChar("initial_LL1"));
  SET_STRING_ELT(nms, 361, mkChar("initial_LL2"));
  SET_STRING_ELT(nms, 362, mkChar("initial_P"));
  SET_STRING_ELT(nms, 363, mkChar("initial_PL1"));
  SET_STRING_ELT(nms, 364, mkChar("initial_PL2"));
  SET_STRING_ELT(nms, 365, mkChar("initial_S"));
  SET_STRING_ELT(nms, 366, mkChar("initial_Sv1"));
  SET_STRING_ELT(nms, 367, mkChar("initial_Sv2"));
  SET_STRING_ELT(nms, 368, mkChar("initial_t"));
  SET_STRING_ELT(nms, 369, mkChar("initial_T"));
  SET_STRING_ELT(nms, 370, mkChar("initial_U"));
  SET_STRING_ELT(nms, 371, mkChar("irs_cov"));
  SET_STRING_ELT(nms, 372, mkChar("IRS_interval"));
  SET_STRING_ELT(nms, 373, mkChar("irs_loss"));
  SET_STRING_ELT(nms, 374, mkChar("itn_cov"));
  SET_STRING_ELT(nms, 375, mkChar("ITN_interval"));
  SET_STRING_ELT(nms, 376, mkChar("ITN_IRS_on"));
  SET_STRING_ELT(nms, 377, mkChar("itn_loss"));
  SET_STRING_ELT(nms, 378, mkChar("kB"));
  SET_STRING_ELT(nms, 379, mkChar("kC"));
  SET_STRING_ELT(nms, 380, mkChar("kD"));
  SET_STRING_ELT(nms, 381, mkChar("mu0"));
  SET_STRING_ELT(nms, 382, mkChar("muEL"));
  SET_STRING_ELT(nms, 383, mkChar("muLL"));
  SET_STRING_ELT(nms, 384, mkChar("muPL"));
  SET_STRING_ELT(nms, 385, mkChar("mv0"));
  SET_STRING_ELT(nms, 386, mkChar("na"));
  SET_STRING_ELT(nms, 387, mkChar("nh"));
  SET_STRING_ELT(nms, 388, mkChar("num_int"));
  SET_STRING_ELT(nms, 389, mkChar("offset_FOIv_species1_A"));
  SET_STRING_ELT(nms, 390, mkChar("offset_FOIv_species1_ID"));
  SET_STRING_ELT(nms, 391, mkChar("offset_FOIv_species1_U"));
  SET_STRING_ELT(nms, 392, mkChar("offset_FOIv_species2_A"));
  SET_STRING_ELT(nms, 393, mkChar("offset_FOIv_species2_ID"));
  SET_STRING_ELT(nms, 394, mkChar("offset_FOIv_species2_U"));
  SET_STRING_ELT(nms, 395, mkChar("offset_output_EIR"));
  SET_STRING_ELT(nms, 396, mkChar("offset_output_EIR_species1"));
  SET_STRING_ELT(nms, 397, mkChar("offset_output_EIR_species2"));
  SET_STRING_ELT(nms, 398, mkChar("offset_variable_A"));
  SET_STRING_ELT(nms, 399, mkChar("offset_variable_D"));
  SET_STRING_ELT(nms, 400, mkChar("offset_variable_IB"));
  SET_STRING_ELT(nms, 401, mkChar("offset_variable_ICA"));
  SET_STRING_ELT(nms, 402, mkChar("offset_variable_ICM"));
  SET_STRING_ELT(nms, 403, mkChar("offset_variable_ID"));
  SET_STRING_ELT(nms, 404, mkChar("offset_variable_P"));
  SET_STRING_ELT(nms, 405, mkChar("offset_variable_T"));
  SET_STRING_ELT(nms, 406, mkChar("offset_variable_U"));
  SET_STRING_ELT(nms, 407, mkChar("omega"));
  SET_STRING_ELT(nms, 408, mkChar("p_det"));
  SET_STRING_ELT(nms, 409, mkChar("p10"));
  SET_STRING_ELT(nms, 410, mkChar("p2"));
  SET_STRING_ELT(nms, 411, mkChar("phi"));
  SET_STRING_ELT(nms, 412, mkChar("phi0"));
  SET_STRING_ELT(nms, 413, mkChar("phi1"));
  SET_STRING_ELT(nms, 414, mkChar("pi"));
  SET_STRING_ELT(nms, 415, mkChar("PM"));
  SET_STRING_ELT(nms, 416, mkChar("prev0to5"));
  SET_STRING_ELT(nms, 417, mkChar("prev0to59"));
  SET_STRING_ELT(nms, 418, mkChar("Q0_species1"));
  SET_STRING_ELT(nms, 419, mkChar("Q0_species2"));
  SET_STRING_ELT(nms, 420, mkChar("r_IRS0_1"));
  SET_STRING_ELT(nms, 421, mkChar("r_IRS0_2"));
  SET_STRING_ELT(nms, 422, mkChar("r_ITN0_1"));
  SET_STRING_ELT(nms, 423, mkChar("r_ITN0_2"));
  SET_STRING_ELT(nms, 424, mkChar("r_ITN1"));
  SET_STRING_ELT(nms, 425, mkChar("r_ITN2"));
  SET_STRING_ELT(nms, 426, mkChar("rA"));
  SET_STRING_ELT(nms, 427, mkChar("rD"));
  SET_STRING_ELT(nms, 428, mkChar("rel_foi"));
  SET_STRING_ELT(nms, 429, mkChar("rP"));
  SET_STRING_ELT(nms, 430, mkChar("rT"));
  SET_STRING_ELT(nms, 431, mkChar("rU"));
  SET_STRING_ELT(nms, 432, mkChar("ssa0"));
  SET_STRING_ELT(nms, 433, mkChar("ssa1"));
  SET_STRING_ELT(nms, 434, mkChar("ssa2"));
  SET_STRING_ELT(nms, 435, mkChar("ssa3"));
  SET_STRING_ELT(nms, 436, mkChar("ssb1"));
  SET_STRING_ELT(nms, 437, mkChar("ssb2"));
  SET_STRING_ELT(nms, 438, mkChar("ssb3"));
  SET_STRING_ELT(nms, 439, mkChar("tau1"));
  SET_STRING_ELT(nms, 440, mkChar("tau2"));
  SET_STRING_ELT(nms, 441, mkChar("theta_c"));
  SET_STRING_ELT(nms, 442, mkChar("time_length"));
  SET_STRING_ELT(nms, 443, mkChar("uB"));
  SET_STRING_ELT(nms, 444, mkChar("uCA"));
  SET_STRING_ELT(nms, 445, mkChar("uD"));
  SET_STRING_ELT(nms, 446, mkChar("w1"));
  SET_STRING_ELT(nms, 447, mkChar("w1_"));
  SET_STRING_ELT(nms, 448, mkChar("w2"));
  SET_STRING_ELT(nms, 449, mkChar("w2_"));
  SET_STRING_ELT(nms, 450, mkChar("whi1"));
  SET_STRING_ELT(nms, 451, mkChar("whi2"));
  SET_STRING_ELT(nms, 452, mkChar("x_I"));
  SET_STRING_ELT(nms, 453, mkChar("Y"));
  SET_STRING_ELT(nms, 454, mkChar("yy1"));
  SET_STRING_ELT(nms, 455, mkChar("yy1_"));
  SET_STRING_ELT(nms, 456, mkChar("yy2"));
  SET_STRING_ELT(nms, 457, mkChar("yy2_"));
  SET_STRING_ELT(nms, 458, mkChar("z1"));
  SET_STRING_ELT(nms, 459, mkChar("z1_"));
  SET_STRING_ELT(nms, 460, mkChar("z2"));
  SET_STRING_ELT(nms, 461, mkChar("z2_"));
  SET_STRING_ELT(nms, 462, mkChar("zhi1"));
  SET_STRING_ELT(nms, 463, mkChar("zhi2"));
  SET_STRING_ELT(nms, 464, mkChar("odin_model_2sp_use_dde"));
  setAttrib(contents, R_NamesSymbol, nms);
  UNPROTECT(111);
  return contents;
}
SEXP odin_model_2sp_set_user(SEXP internal_p, SEXP user) {
  odin_model_2sp_internal *internal = odin_model_2sp_get_internal(internal_p, 1);
  internal->aD = user_get_scalar_double(user, "aD", internal->aD, NA_REAL, NA_REAL);
  internal->age_20_factor = user_get_scalar_double(user, "age_20_factor", internal->age_20_factor, NA_REAL, NA_REAL);
  internal->age05 = user_get_scalar_int(user, "age05", internal->age05, NA_REAL, NA_REAL);
  internal->age20l = user_get_scalar_int(user, "age20l", internal->age20l, NA_REAL, NA_REAL);
  internal->age20u = user_get_scalar_int(user, "age20u", internal->age20u, NA_REAL, NA_REAL);
  internal->age59 = user_get_scalar_int(user, "age59", internal->age59, NA_REAL, NA_REAL);
  internal->b0 = user_get_scalar_double(user, "b0", internal->b0, NA_REAL, NA_REAL);
  internal->b1 = user_get_scalar_double(user, "b1", internal->b1, NA_REAL, NA_REAL);
  internal->betaL = user_get_scalar_double(user, "betaL", internal->betaL, NA_REAL, NA_REAL);
  internal->bites_Bed_species1 = user_get_scalar_double(user, "bites_Bed_species1", internal->bites_Bed_species1, NA_REAL, NA_REAL);
  internal->bites_Bed_species2 = user_get_scalar_double(user, "bites_Bed_species2", internal->bites_Bed_species2, NA_REAL, NA_REAL);
  internal->bites_Indoors_species1 = user_get_scalar_double(user, "bites_Indoors_species1", internal->bites_Indoors_species1, NA_REAL, NA_REAL);
  internal->bites_Indoors_species2 = user_get_scalar_double(user, "bites_Indoors_species2", internal->bites_Indoors_species2, NA_REAL, NA_REAL);
  internal->cD = user_get_scalar_double(user, "cD", internal->cD, NA_REAL, NA_REAL);
  internal->chi_species1 = user_get_scalar_double(user, "chi_species1", internal->chi_species1, NA_REAL, NA_REAL);
  internal->chi_species2 = user_get_scalar_double(user, "chi_species2", internal->chi_species2, NA_REAL, NA_REAL);
  internal->cT = user_get_scalar_double(user, "cT", internal->cT, NA_REAL, NA_REAL);
  internal->cU = user_get_scalar_double(user, "cU", internal->cU, NA_REAL, NA_REAL);
  internal->d_IRS0_1 = user_get_scalar_double(user, "d_IRS0_1", internal->d_IRS0_1, NA_REAL, NA_REAL);
  internal->d_IRS0_2 = user_get_scalar_double(user, "d_IRS0_2", internal->d_IRS0_2, NA_REAL, NA_REAL);
  internal->d_ITN0_1 = user_get_scalar_double(user, "d_ITN0_1", internal->d_ITN0_1, NA_REAL, NA_REAL);
  internal->d_ITN0_2 = user_get_scalar_double(user, "d_ITN0_2", internal->d_ITN0_2, NA_REAL, NA_REAL);
  internal->d1 = user_get_scalar_double(user, "d1", internal->d1, NA_REAL, NA_REAL);
  internal->dB = user_get_scalar_double(user, "dB", internal->dB, NA_REAL, NA_REAL);
  internal->dCA = user_get_scalar_double(user, "dCA", internal->dCA, NA_REAL, NA_REAL);
  internal->dCM = user_get_scalar_double(user, "dCM", internal->dCM, NA_REAL, NA_REAL);
  internal->dE = user_get_scalar_double(user, "dE", internal->dE, NA_REAL, NA_REAL);
  internal->dEL = user_get_scalar_double(user, "dEL", internal->dEL, NA_REAL, NA_REAL);
  internal->delayGam = user_get_scalar_double(user, "delayGam", internal->delayGam, NA_REAL, NA_REAL);
  internal->delayMos = user_get_scalar_double(user, "delayMos", internal->delayMos, NA_REAL, NA_REAL);
  internal->dID = user_get_scalar_double(user, "dID", internal->dID, NA_REAL, NA_REAL);
  internal->dLL = user_get_scalar_double(user, "dLL", internal->dLL, NA_REAL, NA_REAL);
  internal->dPL = user_get_scalar_double(user, "dPL", internal->dPL, NA_REAL, NA_REAL);
  internal->eta = user_get_scalar_double(user, "eta", internal->eta, NA_REAL, NA_REAL);
  internal->fD0 = user_get_scalar_double(user, "fD0", internal->fD0, NA_REAL, NA_REAL);
  internal->ft = user_get_scalar_double(user, "ft", internal->ft, NA_REAL, NA_REAL);
  internal->gamma1 = user_get_scalar_double(user, "gamma1", internal->gamma1, NA_REAL, NA_REAL);
  internal->gammaD = user_get_scalar_double(user, "gammaD", internal->gammaD, NA_REAL, NA_REAL);
  internal->gammaL = user_get_scalar_double(user, "gammaL", internal->gammaL, NA_REAL, NA_REAL);
  internal->IB0 = user_get_scalar_double(user, "IB0", internal->IB0, NA_REAL, NA_REAL);
  internal->IC0 = user_get_scalar_double(user, "IC0", internal->IC0, NA_REAL, NA_REAL);
  internal->ID0 = user_get_scalar_double(user, "ID0", internal->ID0, NA_REAL, NA_REAL);
  internal->init_EL = user_get_scalar_double(user, "init_EL", internal->init_EL, NA_REAL, NA_REAL);
  internal->init_Ev = user_get_scalar_double(user, "init_Ev", internal->init_Ev, NA_REAL, NA_REAL);
  internal->init_Iv = user_get_scalar_double(user, "init_Iv", internal->init_Iv, NA_REAL, NA_REAL);
  internal->init_LL = user_get_scalar_double(user, "init_LL", internal->init_LL, NA_REAL, NA_REAL);
  internal->init_PL = user_get_scalar_double(user, "init_PL", internal->init_PL, NA_REAL, NA_REAL);
  internal->init_Sv = user_get_scalar_double(user, "init_Sv", internal->init_Sv, NA_REAL, NA_REAL);
  internal->irs_cov = user_get_scalar_double(user, "irs_cov", internal->irs_cov, NA_REAL, NA_REAL);
  internal->IRS_interval = user_get_scalar_double(user, "IRS_interval", internal->IRS_interval, NA_REAL, NA_REAL);
  internal->irs_loss = user_get_scalar_double(user, "irs_loss", internal->irs_loss, NA_REAL, NA_REAL);
  internal->itn_cov = user_get_scalar_double(user, "itn_cov", internal->itn_cov, NA_REAL, NA_REAL);
  internal->ITN_interval = user_get_scalar_double(user, "ITN_interval", internal->ITN_interval, NA_REAL, NA_REAL);
  internal->ITN_IRS_on = user_get_scalar_double(user, "ITN_IRS_on", internal->ITN_IRS_on, NA_REAL, NA_REAL);
  internal->itn_loss = user_get_scalar_double(user, "itn_loss", internal->itn_loss, NA_REAL, NA_REAL);
  internal->kB = user_get_scalar_double(user, "kB", internal->kB, NA_REAL, NA_REAL);
  internal->kC = user_get_scalar_double(user, "kC", internal->kC, NA_REAL, NA_REAL);
  internal->kD = user_get_scalar_double(user, "kD", internal->kD, NA_REAL, NA_REAL);
  internal->mu0 = user_get_scalar_double(user, "mu0", internal->mu0, NA_REAL, NA_REAL);
  internal->muEL = user_get_scalar_double(user, "muEL", internal->muEL, NA_REAL, NA_REAL);
  internal->muLL = user_get_scalar_double(user, "muLL", internal->muLL, NA_REAL, NA_REAL);
  internal->muPL = user_get_scalar_double(user, "muPL", internal->muPL, NA_REAL, NA_REAL);
  internal->mv0 = user_get_scalar_double(user, "mv0", internal->mv0, NA_REAL, NA_REAL);
  internal->na = user_get_scalar_int(user, "na", internal->na, NA_REAL, NA_REAL);
  internal->nh = user_get_scalar_int(user, "nh", internal->nh, NA_REAL, NA_REAL);
  internal->num_int = user_get_scalar_int(user, "num_int", internal->num_int, NA_REAL, NA_REAL);
  internal->omega = user_get_scalar_double(user, "omega", internal->omega, NA_REAL, NA_REAL);
  internal->p10 = user_get_scalar_double(user, "p10", internal->p10, NA_REAL, NA_REAL);
  internal->p2 = user_get_scalar_double(user, "p2", internal->p2, NA_REAL, NA_REAL);
  internal->phi0 = user_get_scalar_double(user, "phi0", internal->phi0, NA_REAL, NA_REAL);
  internal->phi1 = user_get_scalar_double(user, "phi1", internal->phi1, NA_REAL, NA_REAL);
  internal->pi = user_get_scalar_double(user, "pi", internal->pi, NA_REAL, NA_REAL);
  internal->PM = user_get_scalar_double(user, "PM", internal->PM, NA_REAL, NA_REAL);
  internal->Q0_species1 = user_get_scalar_double(user, "Q0_species1", internal->Q0_species1, NA_REAL, NA_REAL);
  internal->Q0_species2 = user_get_scalar_double(user, "Q0_species2", internal->Q0_species2, NA_REAL, NA_REAL);
  internal->r_IRS0_1 = user_get_scalar_double(user, "r_IRS0_1", internal->r_IRS0_1, NA_REAL, NA_REAL);
  internal->r_IRS0_2 = user_get_scalar_double(user, "r_IRS0_2", internal->r_IRS0_2, NA_REAL, NA_REAL);
  internal->r_ITN0_1 = user_get_scalar_double(user, "r_ITN0_1", internal->r_ITN0_1, NA_REAL, NA_REAL);
  internal->r_ITN0_2 = user_get_scalar_double(user, "r_ITN0_2", internal->r_ITN0_2, NA_REAL, NA_REAL);
  internal->r_ITN1 = user_get_scalar_double(user, "r_ITN1", internal->r_ITN1, NA_REAL, NA_REAL);
  internal->r_ITN2 = user_get_scalar_double(user, "r_ITN2", internal->r_ITN2, NA_REAL, NA_REAL);
  internal->rA = user_get_scalar_double(user, "rA", internal->rA, NA_REAL, NA_REAL);
  internal->rD = user_get_scalar_double(user, "rD", internal->rD, NA_REAL, NA_REAL);
  internal->rP = user_get_scalar_double(user, "rP", internal->rP, NA_REAL, NA_REAL);
  internal->rT = user_get_scalar_double(user, "rT", internal->rT, NA_REAL, NA_REAL);
  internal->rU = user_get_scalar_double(user, "rU", internal->rU, NA_REAL, NA_REAL);
  internal->ssa0 = user_get_scalar_double(user, "ssa0", internal->ssa0, NA_REAL, NA_REAL);
  internal->ssa1 = user_get_scalar_double(user, "ssa1", internal->ssa1, NA_REAL, NA_REAL);
  internal->ssa2 = user_get_scalar_double(user, "ssa2", internal->ssa2, NA_REAL, NA_REAL);
  internal->ssa3 = user_get_scalar_double(user, "ssa3", internal->ssa3, NA_REAL, NA_REAL);
  internal->ssb1 = user_get_scalar_double(user, "ssb1", internal->ssb1, NA_REAL, NA_REAL);
  internal->ssb2 = user_get_scalar_double(user, "ssb2", internal->ssb2, NA_REAL, NA_REAL);
  internal->ssb3 = user_get_scalar_double(user, "ssb3", internal->ssb3, NA_REAL, NA_REAL);
  internal->tau1 = user_get_scalar_double(user, "tau1", internal->tau1, NA_REAL, NA_REAL);
  internal->tau2 = user_get_scalar_double(user, "tau2", internal->tau2, NA_REAL, NA_REAL);
  internal->theta_c = user_get_scalar_double(user, "theta_c", internal->theta_c, NA_REAL, NA_REAL);
  internal->time_length = user_get_scalar_int(user, "time_length", internal->time_length, NA_REAL, NA_REAL);
  internal->uB = user_get_scalar_double(user, "uB", internal->uB, NA_REAL, NA_REAL);
  internal->uCA = user_get_scalar_double(user, "uCA", internal->uCA, NA_REAL, NA_REAL);
  internal->uD = user_get_scalar_double(user, "uD", internal->uD, NA_REAL, NA_REAL);
  internal->b_lambda = (internal->gammaL * internal->muLL / (double) internal->muEL - internal->dEL / (double) internal->dLL + (internal->gammaL - 1) * internal->muLL * internal->dEL);
  internal->dim_A_1 = internal->na;
  internal->dim_A_2 = internal->nh;
  internal->dim_A_3 = internal->num_int;
  internal->dim_age = internal->na;
  internal->dim_age_rate = internal->na;
  internal->dim_av_human1 = internal->num_int;
  internal->dim_av_human2 = internal->num_int;
  internal->dim_av_mosq1 = internal->num_int;
  internal->dim_av_mosq2 = internal->num_int;
  internal->dim_b_1 = internal->na;
  internal->dim_b_2 = internal->nh;
  internal->dim_b_3 = internal->num_int;
  internal->dim_cA_1 = internal->na;
  internal->dim_cA_2 = internal->nh;
  internal->dim_cA_3 = internal->num_int;
  internal->dim_clin_inc_1 = internal->na;
  internal->dim_clin_inc_2 = internal->nh;
  internal->dim_clin_inc_3 = internal->num_int;
  internal->dim_clin_inc0to5_1 = internal->age05;
  internal->dim_clin_inc0to5_2 = internal->nh;
  internal->dim_clin_inc0to5_3 = internal->num_int;
  internal->dim_cov = internal->num_int;
  internal->dim_custom_seasonality = internal->time_length;
  internal->dim_D_1 = internal->na;
  internal->dim_D_2 = internal->nh;
  internal->dim_D_3 = internal->num_int;
  internal->dim_den = internal->na;
  internal->dim_density_vec = internal->time_length;
  internal->dim_EIR_1 = internal->na;
  internal->dim_EIR_2 = internal->nh;
  internal->dim_EIR_3 = internal->num_int;
  internal->dim_EIR_species1_1 = internal->na;
  internal->dim_EIR_species1_2 = internal->nh;
  internal->dim_EIR_species1_3 = internal->num_int;
  internal->dim_EIR_species2_1 = internal->na;
  internal->dim_EIR_species2_2 = internal->nh;
  internal->dim_EIR_species2_3 = internal->num_int;
  internal->dim_fd = internal->na;
  internal->dim_FOI_1 = internal->na;
  internal->dim_FOI_2 = internal->nh;
  internal->dim_FOI_3 = internal->num_int;
  internal->dim_foi_age = internal->na;
  internal->dim_FOI_lag_1 = internal->na;
  internal->dim_FOI_lag_2 = internal->nh;
  internal->dim_FOI_lag_3 = internal->num_int;
  internal->dim_FOIvijk_species1_1 = internal->na;
  internal->dim_FOIvijk_species1_2 = internal->nh;
  internal->dim_FOIvijk_species1_3 = internal->num_int;
  internal->dim_FOIvijk_species2_1 = internal->na;
  internal->dim_FOIvijk_species2_2 = internal->nh;
  internal->dim_FOIvijk_species2_3 = internal->num_int;
  internal->dim_het_wt = internal->nh;
  internal->dim_IB_1 = internal->na;
  internal->dim_IB_2 = internal->nh;
  internal->dim_IB_3 = internal->num_int;
  internal->dim_IC_1 = internal->na;
  internal->dim_IC_2 = internal->nh;
  internal->dim_IC_3 = internal->num_int;
  internal->dim_ICA_1 = internal->na;
  internal->dim_ICA_2 = internal->nh;
  internal->dim_ICA_3 = internal->num_int;
  internal->dim_ICM_1 = internal->na;
  internal->dim_ICM_2 = internal->nh;
  internal->dim_ICM_3 = internal->num_int;
  internal->dim_ID_1 = internal->na;
  internal->dim_ID_2 = internal->nh;
  internal->dim_ID_3 = internal->num_int;
  internal->dim_init_A_1 = internal->na;
  internal->dim_init_A_2 = internal->nh;
  internal->dim_init_A_3 = internal->num_int;
  internal->dim_init_D_1 = internal->na;
  internal->dim_init_D_2 = internal->nh;
  internal->dim_init_D_3 = internal->num_int;
  internal->dim_init_IB_1 = internal->na;
  internal->dim_init_IB_2 = internal->nh;
  internal->dim_init_IB_3 = internal->num_int;
  internal->dim_init_ICA_1 = internal->na;
  internal->dim_init_ICA_2 = internal->nh;
  internal->dim_init_ICA_3 = internal->num_int;
  internal->dim_init_ICM_1 = internal->na;
  internal->dim_init_ICM_2 = internal->nh;
  internal->dim_init_ICM_3 = internal->num_int;
  internal->dim_init_ICM_pre_1 = internal->nh;
  internal->dim_init_ICM_pre_2 = internal->num_int;
  internal->dim_init_ID_1 = internal->na;
  internal->dim_init_ID_2 = internal->nh;
  internal->dim_init_ID_3 = internal->num_int;
  internal->dim_init_P_1 = internal->na;
  internal->dim_init_P_2 = internal->nh;
  internal->dim_init_P_3 = internal->num_int;
  internal->dim_init_S_1 = internal->na;
  internal->dim_init_S_2 = internal->nh;
  internal->dim_init_S_3 = internal->num_int;
  internal->dim_init_T_1 = internal->na;
  internal->dim_init_T_2 = internal->nh;
  internal->dim_init_T_3 = internal->num_int;
  internal->dim_init_U_1 = internal->na;
  internal->dim_init_U_2 = internal->nh;
  internal->dim_init_U_3 = internal->num_int;
  internal->dim_P_1 = internal->na;
  internal->dim_P_2 = internal->nh;
  internal->dim_P_3 = internal->num_int;
  internal->dim_p_det_1 = internal->na;
  internal->dim_p_det_2 = internal->nh;
  internal->dim_p_det_3 = internal->num_int;
  internal->dim_phi_1 = internal->na;
  internal->dim_phi_2 = internal->nh;
  internal->dim_phi_3 = internal->num_int;
  internal->dim_prev0to5_1 = internal->age05;
  internal->dim_prev0to5_2 = internal->nh;
  internal->dim_prev0to5_3 = internal->num_int;
  internal->dim_prev0to59_1 = internal->age59;
  internal->dim_prev0to59_2 = internal->nh;
  internal->dim_prev0to59_3 = internal->num_int;
  internal->dim_rel_foi = internal->nh;
  internal->dim_S_1 = internal->na;
  internal->dim_S_2 = internal->nh;
  internal->dim_S_3 = internal->num_int;
  internal->dim_T_1 = internal->na;
  internal->dim_T_2 = internal->nh;
  internal->dim_T_3 = internal->num_int;
  internal->dim_U_1 = internal->na;
  internal->dim_U_2 = internal->nh;
  internal->dim_U_3 = internal->num_int;
  internal->dim_w1 = internal->num_int;
  internal->dim_w2 = internal->num_int;
  internal->dim_whi1 = internal->num_int;
  internal->dim_whi2 = internal->num_int;
  internal->dim_x_I = internal->na;
  internal->dim_Y_1 = internal->na;
  internal->dim_Y_2 = internal->nh;
  internal->dim_Y_3 = internal->num_int;
  internal->dim_yy1 = internal->num_int;
  internal->dim_yy2 = internal->num_int;
  internal->dim_z1 = internal->num_int;
  internal->dim_z2 = internal->num_int;
  internal->dim_zhi1 = internal->num_int;
  internal->dim_zhi2 = internal->num_int;
  internal->initial_EL1 = internal->init_EL;
  internal->initial_EL2 = internal->init_EL * 0.01;
  internal->initial_Ev1 = internal->init_Ev * internal->mv0;
  internal->initial_Ev2 = internal->init_Ev * internal->mv0 * 0.01;
  internal->initial_Iv1 = internal->init_Iv * internal->mv0;
  internal->initial_Iv2 = internal->init_Iv * internal->mv0 * 0.01;
  internal->initial_LL1 = internal->init_LL;
  internal->initial_LL2 = internal->init_LL * 0.01;
  internal->initial_PL1 = internal->init_PL;
  internal->initial_PL2 = internal->init_PL * 0.01;
  internal->initial_Sv1 = internal->init_Sv * internal->mv0;
  internal->initial_Sv2 = internal->init_Sv * internal->mv0 * 0.01;
  internal->age = (double*) user_get_array(user, false, internal->age, "age", NA_REAL, NA_REAL, 1, internal->dim_age);
  internal->age_rate = (double*) user_get_array(user, false, internal->age_rate, "age_rate", NA_REAL, NA_REAL, 1, internal->dim_age_rate);
  R_Free(internal->av_human1);
  internal->av_human1 = (double*) R_Calloc(internal->dim_av_human1, double);
  R_Free(internal->av_human2);
  internal->av_human2 = (double*) R_Calloc(internal->dim_av_human2, double);
  R_Free(internal->av_mosq1);
  internal->av_mosq1 = (double*) R_Calloc(internal->dim_av_mosq1, double);
  R_Free(internal->av_mosq2);
  internal->av_mosq2 = (double*) R_Calloc(internal->dim_av_mosq2, double);
  R_Free(internal->cov);
  internal->cov = (double*) R_Calloc(internal->dim_cov, double);
  R_Free(internal->fd);
  internal->fd = (double*) R_Calloc(internal->dim_fd, double);
  R_Free(internal->w1);
  internal->w1 = (double*) R_Calloc(internal->dim_w1, double);
  R_Free(internal->w2);
  internal->w2 = (double*) R_Calloc(internal->dim_w2, double);
  R_Free(internal->whi1);
  internal->whi1 = (double*) R_Calloc(internal->dim_whi1, double);
  R_Free(internal->whi2);
  internal->whi2 = (double*) R_Calloc(internal->dim_whi2, double);
  R_Free(internal->yy1);
  internal->yy1 = (double*) R_Calloc(internal->dim_yy1, double);
  R_Free(internal->yy2);
  internal->yy2 = (double*) R_Calloc(internal->dim_yy2, double);
  R_Free(internal->z1);
  internal->z1 = (double*) R_Calloc(internal->dim_z1, double);
  R_Free(internal->z2);
  internal->z2 = (double*) R_Calloc(internal->dim_z2, double);
  R_Free(internal->zhi1);
  internal->zhi1 = (double*) R_Calloc(internal->dim_zhi1, double);
  R_Free(internal->zhi2);
  internal->zhi2 = (double*) R_Calloc(internal->dim_zhi2, double);
  {
     int i = 1;
     internal->cov_[i - 1] = (1 - internal->itn_cov) * (1 - internal->irs_cov);
  }
  {
     int i = 2;
     internal->cov_[i - 1] = internal->itn_cov * (1 - internal->irs_cov);
  }
  {
     int i = 3;
     internal->cov_[i - 1] = (1 - internal->itn_cov) * internal->irs_cov;
  }
  {
     int i = 4;
     internal->cov_[i - 1] = internal->itn_cov * internal->irs_cov;
  }
  internal->custom_seasonality = (double*) user_get_array(user, false, internal->custom_seasonality, "custom_seasonality", NA_REAL, NA_REAL, 1, internal->dim_custom_seasonality);
  R_Free(internal->delay_array_av_human1);
  internal->delay_array_av_human1 = (double*) R_Calloc(internal->dim_av_human1, double);
  R_Free(internal->delay_array_av_human2);
  internal->delay_array_av_human2 = (double*) R_Calloc(internal->dim_av_human2, double);
  R_Free(internal->delay_array_av_mosq1);
  internal->delay_array_av_mosq1 = (double*) R_Calloc(internal->dim_av_mosq1, double);
  R_Free(internal->delay_array_av_mosq2);
  internal->delay_array_av_mosq2 = (double*) R_Calloc(internal->dim_av_mosq2, double);
  R_Free(internal->delay_array_w1);
  internal->delay_array_w1 = (double*) R_Calloc(internal->dim_w1, double);
  R_Free(internal->delay_array_w2);
  internal->delay_array_w2 = (double*) R_Calloc(internal->dim_w2, double);
  R_Free(internal->delay_array_whi1);
  internal->delay_array_whi1 = (double*) R_Calloc(internal->dim_whi1, double);
  R_Free(internal->delay_array_whi2);
  internal->delay_array_whi2 = (double*) R_Calloc(internal->dim_whi2, double);
  R_Free(internal->delay_array_yy1);
  internal->delay_array_yy1 = (double*) R_Calloc(internal->dim_yy1, double);
  R_Free(internal->delay_array_yy2);
  internal->delay_array_yy2 = (double*) R_Calloc(internal->dim_yy2, double);
  R_Free(internal->delay_array_z1);
  internal->delay_array_z1 = (double*) R_Calloc(internal->dim_z1, double);
  R_Free(internal->delay_array_z2);
  internal->delay_array_z2 = (double*) R_Calloc(internal->dim_z2, double);
  R_Free(internal->delay_array_zhi1);
  internal->delay_array_zhi1 = (double*) R_Calloc(internal->dim_zhi1, double);
  R_Free(internal->delay_array_zhi2);
  internal->delay_array_zhi2 = (double*) R_Calloc(internal->dim_zhi2, double);
  internal->den = (double*) user_get_array(user, false, internal->den, "den", NA_REAL, NA_REAL, 1, internal->dim_den);
  internal->density_vec = (double*) user_get_array(user, false, internal->density_vec, "density_vec", NA_REAL, NA_REAL, 1, internal->dim_density_vec);
  internal->dim_A = internal->dim_A_1 * internal->dim_A_2 * internal->dim_A_3;
  internal->dim_A_12 = internal->dim_A_1 * internal->dim_A_2;
  internal->dim_b = internal->dim_b_1 * internal->dim_b_2 * internal->dim_b_3;
  internal->dim_b_12 = internal->dim_b_1 * internal->dim_b_2;
  internal->dim_cA = internal->dim_cA_1 * internal->dim_cA_2 * internal->dim_cA_3;
  internal->dim_cA_12 = internal->dim_cA_1 * internal->dim_cA_2;
  internal->dim_clin_inc = internal->dim_clin_inc_1 * internal->dim_clin_inc_2 * internal->dim_clin_inc_3;
  internal->dim_clin_inc_12 = internal->dim_clin_inc_1 * internal->dim_clin_inc_2;
  internal->dim_clin_inc0to5 = internal->dim_clin_inc0to5_1 * internal->dim_clin_inc0to5_2 * internal->dim_clin_inc0to5_3;
  internal->dim_clin_inc0to5_12 = internal->dim_clin_inc0to5_1 * internal->dim_clin_inc0to5_2;
  internal->dim_D = internal->dim_D_1 * internal->dim_D_2 * internal->dim_D_3;
  internal->dim_D_12 = internal->dim_D_1 * internal->dim_D_2;
  internal->dim_EIR = internal->dim_EIR_1 * internal->dim_EIR_2 * internal->dim_EIR_3;
  internal->dim_EIR_12 = internal->dim_EIR_1 * internal->dim_EIR_2;
  internal->dim_EIR_species1 = internal->dim_EIR_species1_1 * internal->dim_EIR_species1_2 * internal->dim_EIR_species1_3;
  internal->dim_EIR_species1_12 = internal->dim_EIR_species1_1 * internal->dim_EIR_species1_2;
  internal->dim_EIR_species2 = internal->dim_EIR_species2_1 * internal->dim_EIR_species2_2 * internal->dim_EIR_species2_3;
  internal->dim_EIR_species2_12 = internal->dim_EIR_species2_1 * internal->dim_EIR_species2_2;
  internal->dim_FOI = internal->dim_FOI_1 * internal->dim_FOI_2 * internal->dim_FOI_3;
  internal->dim_FOI_12 = internal->dim_FOI_1 * internal->dim_FOI_2;
  internal->dim_FOI_lag = internal->dim_FOI_lag_1 * internal->dim_FOI_lag_2 * internal->dim_FOI_lag_3;
  internal->dim_FOI_lag_12 = internal->dim_FOI_lag_1 * internal->dim_FOI_lag_2;
  internal->dim_FOIvijk_species1 = internal->dim_FOIvijk_species1_1 * internal->dim_FOIvijk_species1_2 * internal->dim_FOIvijk_species1_3;
  internal->dim_FOIvijk_species1_12 = internal->dim_FOIvijk_species1_1 * internal->dim_FOIvijk_species1_2;
  internal->dim_FOIvijk_species2 = internal->dim_FOIvijk_species2_1 * internal->dim_FOIvijk_species2_2 * internal->dim_FOIvijk_species2_3;
  internal->dim_FOIvijk_species2_12 = internal->dim_FOIvijk_species2_1 * internal->dim_FOIvijk_species2_2;
  internal->dim_IB = internal->dim_IB_1 * internal->dim_IB_2 * internal->dim_IB_3;
  internal->dim_IB_12 = internal->dim_IB_1 * internal->dim_IB_2;
  internal->dim_IC = internal->dim_IC_1 * internal->dim_IC_2 * internal->dim_IC_3;
  internal->dim_IC_12 = internal->dim_IC_1 * internal->dim_IC_2;
  internal->dim_ICA = internal->dim_ICA_1 * internal->dim_ICA_2 * internal->dim_ICA_3;
  internal->dim_ICA_12 = internal->dim_ICA_1 * internal->dim_ICA_2;
  internal->dim_ICM = internal->dim_ICM_1 * internal->dim_ICM_2 * internal->dim_ICM_3;
  internal->dim_ICM_12 = internal->dim_ICM_1 * internal->dim_ICM_2;
  internal->dim_ID = internal->dim_ID_1 * internal->dim_ID_2 * internal->dim_ID_3;
  internal->dim_ID_12 = internal->dim_ID_1 * internal->dim_ID_2;
  internal->dim_init_A = internal->dim_init_A_1 * internal->dim_init_A_2 * internal->dim_init_A_3;
  internal->dim_init_A_12 = internal->dim_init_A_1 * internal->dim_init_A_2;
  internal->dim_init_D = internal->dim_init_D_1 * internal->dim_init_D_2 * internal->dim_init_D_3;
  internal->dim_init_D_12 = internal->dim_init_D_1 * internal->dim_init_D_2;
  internal->dim_init_IB = internal->dim_init_IB_1 * internal->dim_init_IB_2 * internal->dim_init_IB_3;
  internal->dim_init_IB_12 = internal->dim_init_IB_1 * internal->dim_init_IB_2;
  internal->dim_init_ICA = internal->dim_init_ICA_1 * internal->dim_init_ICA_2 * internal->dim_init_ICA_3;
  internal->dim_init_ICA_12 = internal->dim_init_ICA_1 * internal->dim_init_ICA_2;
  internal->dim_init_ICM = internal->dim_init_ICM_1 * internal->dim_init_ICM_2 * internal->dim_init_ICM_3;
  internal->dim_init_ICM_12 = internal->dim_init_ICM_1 * internal->dim_init_ICM_2;
  internal->dim_init_ICM_pre = internal->dim_init_ICM_pre_1 * internal->dim_init_ICM_pre_2;
  internal->dim_init_ID = internal->dim_init_ID_1 * internal->dim_init_ID_2 * internal->dim_init_ID_3;
  internal->dim_init_ID_12 = internal->dim_init_ID_1 * internal->dim_init_ID_2;
  internal->dim_init_P = internal->dim_init_P_1 * internal->dim_init_P_2 * internal->dim_init_P_3;
  internal->dim_init_P_12 = internal->dim_init_P_1 * internal->dim_init_P_2;
  internal->dim_init_S = internal->dim_init_S_1 * internal->dim_init_S_2 * internal->dim_init_S_3;
  internal->dim_init_S_12 = internal->dim_init_S_1 * internal->dim_init_S_2;
  internal->dim_init_T = internal->dim_init_T_1 * internal->dim_init_T_2 * internal->dim_init_T_3;
  internal->dim_init_T_12 = internal->dim_init_T_1 * internal->dim_init_T_2;
  internal->dim_init_U = internal->dim_init_U_1 * internal->dim_init_U_2 * internal->dim_init_U_3;
  internal->dim_init_U_12 = internal->dim_init_U_1 * internal->dim_init_U_2;
  internal->dim_P = internal->dim_P_1 * internal->dim_P_2 * internal->dim_P_3;
  internal->dim_P_12 = internal->dim_P_1 * internal->dim_P_2;
  internal->dim_p_det = internal->dim_p_det_1 * internal->dim_p_det_2 * internal->dim_p_det_3;
  internal->dim_p_det_12 = internal->dim_p_det_1 * internal->dim_p_det_2;
  internal->dim_phi = internal->dim_phi_1 * internal->dim_phi_2 * internal->dim_phi_3;
  internal->dim_phi_12 = internal->dim_phi_1 * internal->dim_phi_2;
  internal->dim_prev0to5 = internal->dim_prev0to5_1 * internal->dim_prev0to5_2 * internal->dim_prev0to5_3;
  internal->dim_prev0to5_12 = internal->dim_prev0to5_1 * internal->dim_prev0to5_2;
  internal->dim_prev0to59 = internal->dim_prev0to59_1 * internal->dim_prev0to59_2 * internal->dim_prev0to59_3;
  internal->dim_prev0to59_12 = internal->dim_prev0to59_1 * internal->dim_prev0to59_2;
  internal->dim_S = internal->dim_S_1 * internal->dim_S_2 * internal->dim_S_3;
  internal->dim_S_12 = internal->dim_S_1 * internal->dim_S_2;
  internal->dim_T = internal->dim_T_1 * internal->dim_T_2 * internal->dim_T_3;
  internal->dim_T_12 = internal->dim_T_1 * internal->dim_T_2;
  internal->dim_U = internal->dim_U_1 * internal->dim_U_2 * internal->dim_U_3;
  internal->dim_U_12 = internal->dim_U_1 * internal->dim_U_2;
  internal->dim_Y = internal->dim_Y_1 * internal->dim_Y_2 * internal->dim_Y_3;
  internal->dim_Y_12 = internal->dim_Y_1 * internal->dim_Y_2;
  internal->foi_age = (double*) user_get_array(user, false, internal->foi_age, "foi_age", NA_REAL, NA_REAL, 1, internal->dim_foi_age);
  internal->het_wt = (double*) user_get_array(user, false, internal->het_wt, "het_wt", NA_REAL, NA_REAL, 1, internal->dim_het_wt);
  internal->offset_output_EIR_species1 = internal->dim_cov + 56;
  internal->rel_foi = (double*) user_get_array(user, false, internal->rel_foi, "rel_foi", NA_REAL, NA_REAL, 1, internal->dim_rel_foi);
  internal->x_I = (double*) user_get_array(user, false, internal->x_I, "x_I", NA_REAL, NA_REAL, 1, internal->dim_x_I);
  R_Free(internal->b);
  internal->b = (double*) R_Calloc(internal->dim_b, double);
  R_Free(internal->cA);
  internal->cA = (double*) R_Calloc(internal->dim_cA, double);
  R_Free(internal->clin_inc);
  internal->clin_inc = (double*) R_Calloc(internal->dim_clin_inc, double);
  R_Free(internal->clin_inc0to5);
  internal->clin_inc0to5 = (double*) R_Calloc(internal->dim_clin_inc0to5, double);
  R_Free(internal->EIR);
  internal->EIR = (double*) R_Calloc(internal->dim_EIR, double);
  R_Free(internal->EIR_species1);
  internal->EIR_species1 = (double*) R_Calloc(internal->dim_EIR_species1, double);
  R_Free(internal->EIR_species2);
  internal->EIR_species2 = (double*) R_Calloc(internal->dim_EIR_species2, double);
  R_Free(internal->FOI);
  internal->FOI = (double*) R_Calloc(internal->dim_FOI, double);
  R_Free(internal->FOI_lag);
  internal->FOI_lag = (double*) R_Calloc(internal->dim_FOI_lag, double);
  R_Free(internal->FOIvijk_species1);
  internal->FOIvijk_species1 = (double*) R_Calloc(internal->dim_FOIvijk_species1, double);
  R_Free(internal->FOIvijk_species2);
  internal->FOIvijk_species2 = (double*) R_Calloc(internal->dim_FOIvijk_species2, double);
  R_Free(internal->IC);
  internal->IC = (double*) R_Calloc(internal->dim_IC, double);
  R_Free(internal->init_ICM_pre);
  internal->init_ICM_pre = (double*) R_Calloc(internal->dim_init_ICM_pre, double);
  R_Free(internal->initial_A);
  internal->initial_A = (double*) R_Calloc(internal->dim_A, double);
  R_Free(internal->initial_D);
  internal->initial_D = (double*) R_Calloc(internal->dim_D, double);
  R_Free(internal->initial_IB);
  internal->initial_IB = (double*) R_Calloc(internal->dim_IB, double);
  R_Free(internal->initial_ICA);
  internal->initial_ICA = (double*) R_Calloc(internal->dim_ICA, double);
  R_Free(internal->initial_ICM);
  internal->initial_ICM = (double*) R_Calloc(internal->dim_ICM, double);
  R_Free(internal->initial_ID);
  internal->initial_ID = (double*) R_Calloc(internal->dim_ID, double);
  R_Free(internal->initial_P);
  internal->initial_P = (double*) R_Calloc(internal->dim_P, double);
  R_Free(internal->initial_S);
  internal->initial_S = (double*) R_Calloc(internal->dim_S, double);
  R_Free(internal->initial_T);
  internal->initial_T = (double*) R_Calloc(internal->dim_T, double);
  R_Free(internal->initial_U);
  internal->initial_U = (double*) R_Calloc(internal->dim_U, double);
  R_Free(internal->p_det);
  internal->p_det = (double*) R_Calloc(internal->dim_p_det, double);
  R_Free(internal->phi);
  internal->phi = (double*) R_Calloc(internal->dim_phi, double);
  R_Free(internal->prev0to5);
  internal->prev0to5 = (double*) R_Calloc(internal->dim_prev0to5, double);
  R_Free(internal->prev0to59);
  internal->prev0to59 = (double*) R_Calloc(internal->dim_prev0to59, double);
  R_Free(internal->Y);
  internal->Y = (double*) R_Calloc(internal->dim_Y, double);
  for (int i = 1; i <= internal->dim_cov; ++i) {
    internal->cov[i - 1] = internal->cov_[i - 1];
  }
  R_Free(internal->delay_array_b);
  internal->delay_array_b = (double*) R_Calloc(internal->dim_b, double);
  R_Free(internal->delay_array_cA);
  internal->delay_array_cA = (double*) R_Calloc(internal->dim_cA, double);
  R_Free(internal->delay_array_EIR);
  internal->delay_array_EIR = (double*) R_Calloc(internal->dim_EIR, double);
  R_Free(internal->delay_array_EIR_species1);
  internal->delay_array_EIR_species1 = (double*) R_Calloc(internal->dim_EIR_species1, double);
  R_Free(internal->delay_array_EIR_species2);
  internal->delay_array_EIR_species2 = (double*) R_Calloc(internal->dim_EIR_species2, double);
  R_Free(internal->delay_array_FOI_lag);
  internal->delay_array_FOI_lag = (double*) R_Calloc(internal->dim_FOI_lag, double);
  R_Free(internal->delay_array_FOIvijk_species1);
  internal->delay_array_FOIvijk_species1 = (double*) R_Calloc(internal->dim_FOIvijk_species1, double);
  R_Free(internal->delay_array_FOIvijk_species2);
  internal->delay_array_FOIvijk_species2 = (double*) R_Calloc(internal->dim_FOIvijk_species2, double);
  R_Free(internal->delay_array_p_det);
  internal->delay_array_p_det = (double*) R_Calloc(internal->dim_p_det, double);
  internal->dim_delay_FOI = internal->dim_IB + 2;
  internal->dim_delay_FOIv_species1 = internal->dim_A + internal->dim_D + internal->dim_ID + internal->dim_T + internal->dim_U;
  internal->dim_delay_FOIv_species2 = internal->dim_A + internal->dim_D + internal->dim_ID + internal->dim_T + internal->dim_U;
  for (int i = 1; i <= internal->na; ++i) {
    internal->fd[i - 1] = 1 - (1 - internal->fD0) / (double) (1 + pow((internal->age[i - 1] / (double) internal->aD), internal->gammaD));
  }
  internal->init_A = (double*) user_get_array(user, false, internal->init_A, "init_A", NA_REAL, NA_REAL, 3, internal->dim_init_A_1, internal->dim_init_A_2, internal->dim_init_A_3);
  internal->init_D = (double*) user_get_array(user, false, internal->init_D, "init_D", NA_REAL, NA_REAL, 3, internal->dim_init_D_1, internal->dim_init_D_2, internal->dim_init_D_3);
  internal->init_IB = (double*) user_get_array(user, false, internal->init_IB, "init_IB", NA_REAL, NA_REAL, 3, internal->dim_init_IB_1, internal->dim_init_IB_2, internal->dim_init_IB_3);
  internal->init_ICA = (double*) user_get_array(user, false, internal->init_ICA, "init_ICA", NA_REAL, NA_REAL, 3, internal->dim_init_ICA_1, internal->dim_init_ICA_2, internal->dim_init_ICA_3);
  internal->init_ICM = (double*) user_get_array(user, false, internal->init_ICM, "init_ICM", NA_REAL, NA_REAL, 3, internal->dim_init_ICM_1, internal->dim_init_ICM_2, internal->dim_init_ICM_3);
  internal->init_ID = (double*) user_get_array(user, false, internal->init_ID, "init_ID", NA_REAL, NA_REAL, 3, internal->dim_init_ID_1, internal->dim_init_ID_2, internal->dim_init_ID_3);
  internal->init_P = (double*) user_get_array(user, false, internal->init_P, "init_P", NA_REAL, NA_REAL, 3, internal->dim_init_P_1, internal->dim_init_P_2, internal->dim_init_P_3);
  internal->init_S = (double*) user_get_array(user, false, internal->init_S, "init_S", NA_REAL, NA_REAL, 3, internal->dim_init_S_1, internal->dim_init_S_2, internal->dim_init_S_3);
  internal->init_T = (double*) user_get_array(user, false, internal->init_T, "init_T", NA_REAL, NA_REAL, 3, internal->dim_init_T_1, internal->dim_init_T_2, internal->dim_init_T_3);
  internal->init_U = (double*) user_get_array(user, false, internal->init_U, "init_U", NA_REAL, NA_REAL, 3, internal->dim_init_U_1, internal->dim_init_U_2, internal->dim_init_U_3);
  internal->offset_FOIv_species1_A = internal->dim_D + internal->dim_T;
  internal->offset_FOIv_species1_ID = internal->dim_A + internal->dim_D + internal->dim_T + internal->dim_U;
  internal->offset_FOIv_species1_U = internal->dim_A + internal->dim_D + internal->dim_T;
  internal->offset_FOIv_species2_A = internal->dim_D + internal->dim_T;
  internal->offset_FOIv_species2_ID = internal->dim_A + internal->dim_D + internal->dim_T + internal->dim_U;
  internal->offset_FOIv_species2_U = internal->dim_A + internal->dim_D + internal->dim_T;
  internal->offset_output_EIR = internal->dim_cov + internal->dim_EIR_species1 + internal->dim_EIR_species2 + 56;
  internal->offset_output_EIR_species2 = internal->dim_cov + internal->dim_EIR_species1 + 56;
  internal->offset_variable_A = internal->dim_D + internal->dim_S + internal->dim_T + 12;
  internal->offset_variable_D = internal->dim_S + internal->dim_T + 12;
  internal->offset_variable_IB = internal->dim_A + internal->dim_D + internal->dim_ICA + internal->dim_ICM + internal->dim_P + internal->dim_S + internal->dim_T + internal->dim_U + 12;
  internal->offset_variable_ICA = internal->dim_A + internal->dim_D + internal->dim_ICM + internal->dim_P + internal->dim_S + internal->dim_T + internal->dim_U + 12;
  internal->offset_variable_ICM = internal->dim_A + internal->dim_D + internal->dim_P + internal->dim_S + internal->dim_T + internal->dim_U + 12;
  internal->offset_variable_ID = internal->dim_A + internal->dim_D + internal->dim_IB + internal->dim_ICA + internal->dim_ICM + internal->dim_P + internal->dim_S + internal->dim_T + internal->dim_U + 12;
  internal->offset_variable_P = internal->dim_A + internal->dim_D + internal->dim_S + internal->dim_T + internal->dim_U + 12;
  internal->offset_variable_T = internal->dim_S + 12;
  internal->offset_variable_U = internal->dim_A + internal->dim_D + internal->dim_S + internal->dim_T + 12;
  R_Free(internal->delay_index_FOI);
  internal->delay_index_FOI = R_Calloc(internal->dim_delay_FOI, int);
  R_Free(internal->delay_state_FOI);
  internal->delay_state_FOI = R_Calloc(internal->dim_delay_FOI, double);
  internal->delay_index_FOI[0] = 2;
  internal->delay_index_FOI[1] = 5;
  for (int i = 0, j = internal->offset_variable_IB; i < internal->dim_IB; ++i, ++j) {
    internal->delay_index_FOI[2 + i] = j;
  }
  R_Free(internal->delay_index_FOIv_species1);
  internal->delay_index_FOIv_species1 = R_Calloc(internal->dim_delay_FOIv_species1, int);
  R_Free(internal->delay_state_FOIv_species1);
  internal->delay_state_FOIv_species1 = R_Calloc(internal->dim_delay_FOIv_species1, double);
  for (int i = 0, j = internal->offset_variable_T; i < internal->dim_T; ++i, ++j) {
    internal->delay_index_FOIv_species1[0 + i] = j;
  }
  for (int i = 0, j = internal->offset_variable_D; i < internal->dim_D; ++i, ++j) {
    internal->delay_index_FOIv_species1[internal->dim_T + i] = j;
  }
  for (int i = 0, j = internal->offset_variable_A; i < internal->dim_A; ++i, ++j) {
    internal->delay_index_FOIv_species1[internal->offset_FOIv_species1_A + i] = j;
  }
  for (int i = 0, j = internal->offset_variable_U; i < internal->dim_U; ++i, ++j) {
    internal->delay_index_FOIv_species1[internal->offset_FOIv_species1_U + i] = j;
  }
  for (int i = 0, j = internal->offset_variable_ID; i < internal->dim_ID; ++i, ++j) {
    internal->delay_index_FOIv_species1[internal->offset_FOIv_species1_ID + i] = j;
  }
  R_Free(internal->delay_index_FOIv_species2);
  internal->delay_index_FOIv_species2 = R_Calloc(internal->dim_delay_FOIv_species2, int);
  R_Free(internal->delay_state_FOIv_species2);
  internal->delay_state_FOIv_species2 = R_Calloc(internal->dim_delay_FOIv_species2, double);
  for (int i = 0, j = internal->offset_variable_T; i < internal->dim_T; ++i, ++j) {
    internal->delay_index_FOIv_species2[0 + i] = j;
  }
  for (int i = 0, j = internal->offset_variable_D; i < internal->dim_D; ++i, ++j) {
    internal->delay_index_FOIv_species2[internal->dim_T + i] = j;
  }
  for (int i = 0, j = internal->offset_variable_A; i < internal->dim_A; ++i, ++j) {
    internal->delay_index_FOIv_species2[internal->offset_FOIv_species2_A + i] = j;
  }
  for (int i = 0, j = internal->offset_variable_U; i < internal->dim_U; ++i, ++j) {
    internal->delay_index_FOIv_species2[internal->offset_FOIv_species2_U + i] = j;
  }
  for (int i = 0, j = internal->offset_variable_ID; i < internal->dim_ID; ++i, ++j) {
    internal->delay_index_FOIv_species2[internal->offset_FOIv_species2_ID + i] = j;
  }
  for (int i = 1; i <= internal->dim_A_1; ++i) {
    for (int j = 1; j <= internal->dim_A_2; ++j) {
      for (int k = 1; k <= internal->dim_A_3; ++k) {
        internal->initial_A[i - 1 + internal->dim_A_1 * (j - 1) + internal->dim_A_12 * (k - 1)] = internal->init_A[internal->dim_init_A_12 * (k - 1) + internal->dim_init_A_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_D_1; ++i) {
    for (int j = 1; j <= internal->dim_D_2; ++j) {
      for (int k = 1; k <= internal->dim_D_3; ++k) {
        internal->initial_D[i - 1 + internal->dim_D_1 * (j - 1) + internal->dim_D_12 * (k - 1)] = internal->init_D[internal->dim_init_D_12 * (k - 1) + internal->dim_init_D_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_IB_1; ++i) {
    for (int j = 1; j <= internal->dim_IB_2; ++j) {
      for (int k = 1; k <= internal->dim_IB_3; ++k) {
        internal->initial_IB[i - 1 + internal->dim_IB_1 * (j - 1) + internal->dim_IB_12 * (k - 1)] = internal->init_IB[internal->dim_init_IB_12 * (k - 1) + internal->dim_init_IB_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_ICA_1; ++i) {
    for (int j = 1; j <= internal->dim_ICA_2; ++j) {
      for (int k = 1; k <= internal->dim_ICA_3; ++k) {
        internal->initial_ICA[i - 1 + internal->dim_ICA_1 * (j - 1) + internal->dim_ICA_12 * (k - 1)] = internal->init_ICA[internal->dim_init_ICA_12 * (k - 1) + internal->dim_init_ICA_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_ICM_1; ++i) {
    for (int j = 1; j <= internal->dim_ICM_2; ++j) {
      for (int k = 1; k <= internal->dim_ICM_3; ++k) {
        internal->initial_ICM[i - 1 + internal->dim_ICM_1 * (j - 1) + internal->dim_ICM_12 * (k - 1)] = internal->init_ICM[internal->dim_init_ICM_12 * (k - 1) + internal->dim_init_ICM_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_ID_1; ++i) {
    for (int j = 1; j <= internal->dim_ID_2; ++j) {
      for (int k = 1; k <= internal->dim_ID_3; ++k) {
        internal->initial_ID[i - 1 + internal->dim_ID_1 * (j - 1) + internal->dim_ID_12 * (k - 1)] = internal->init_ID[internal->dim_init_ID_12 * (k - 1) + internal->dim_init_ID_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_P_1; ++i) {
    for (int j = 1; j <= internal->dim_P_2; ++j) {
      for (int k = 1; k <= internal->dim_P_3; ++k) {
        internal->initial_P[i - 1 + internal->dim_P_1 * (j - 1) + internal->dim_P_12 * (k - 1)] = internal->init_P[internal->dim_init_P_12 * (k - 1) + internal->dim_init_P_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_S_1; ++i) {
    for (int j = 1; j <= internal->dim_S_2; ++j) {
      for (int k = 1; k <= internal->dim_S_3; ++k) {
        internal->initial_S[i - 1 + internal->dim_S_1 * (j - 1) + internal->dim_S_12 * (k - 1)] = internal->init_S[internal->dim_init_S_12 * (k - 1) + internal->dim_init_S_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_T_1; ++i) {
    for (int j = 1; j <= internal->dim_T_2; ++j) {
      for (int k = 1; k <= internal->dim_T_3; ++k) {
        internal->initial_T[i - 1 + internal->dim_T_1 * (j - 1) + internal->dim_T_12 * (k - 1)] = internal->init_T[internal->dim_init_T_12 * (k - 1) + internal->dim_init_T_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_U_1; ++i) {
    for (int j = 1; j <= internal->dim_U_2; ++j) {
      for (int k = 1; k <= internal->dim_U_3; ++k) {
        internal->initial_U[i - 1 + internal->dim_U_1 * (j - 1) + internal->dim_U_12 * (k - 1)] = internal->init_U[internal->dim_init_U_12 * (k - 1) + internal->dim_init_U_1 * (j - 1) + i - 1];
      }
    }
  }
  return R_NilValue;
}
SEXP odin_model_2sp_set_initial(SEXP internal_p, SEXP t_ptr, SEXP state_ptr, SEXP odin_model_2sp_use_dde_ptr) {
  odin_model_2sp_internal *internal = odin_model_2sp_get_internal(internal_p, 1);
  const double t = REAL(t_ptr)[0];
  internal->initial_t = t;
  internal->odin_model_2sp_use_dde = INTEGER(odin_model_2sp_use_dde_ptr)[0];
  if (state_ptr != R_NilValue) {
    double * state = REAL(state_ptr);
    internal->initial_Sv1 = state[0];
    internal->initial_Ev1 = state[1];
    internal->initial_Iv1 = state[2];
    internal->initial_Sv2 = state[3];
    internal->initial_Ev2 = state[4];
    internal->initial_Iv2 = state[5];
    internal->initial_PL1 = state[6];
    internal->initial_LL1 = state[7];
    internal->initial_EL1 = state[8];
    internal->initial_PL2 = state[9];
    internal->initial_LL2 = state[10];
    internal->initial_EL2 = state[11];
    memcpy(internal->initial_S, state + 12, internal->dim_S * sizeof(double));
    memcpy(internal->initial_T, state + internal->offset_variable_T, internal->dim_T * sizeof(double));
    memcpy(internal->initial_D, state + internal->offset_variable_D, internal->dim_D * sizeof(double));
    memcpy(internal->initial_A, state + internal->offset_variable_A, internal->dim_A * sizeof(double));
    memcpy(internal->initial_U, state + internal->offset_variable_U, internal->dim_U * sizeof(double));
    memcpy(internal->initial_P, state + internal->offset_variable_P, internal->dim_P * sizeof(double));
    memcpy(internal->initial_ICM, state + internal->offset_variable_ICM, internal->dim_ICM * sizeof(double));
    memcpy(internal->initial_ICA, state + internal->offset_variable_ICA, internal->dim_ICA * sizeof(double));
    memcpy(internal->initial_IB, state + internal->offset_variable_IB, internal->dim_IB * sizeof(double));
    memcpy(internal->initial_ID, state + internal->offset_variable_ID, internal->dim_ID * sizeof(double));
  }
  return R_NilValue;
}
SEXP odin_model_2sp_metadata(SEXP internal_p) {
  odin_model_2sp_internal *internal = odin_model_2sp_get_internal(internal_p, 1);
  SEXP ret = PROTECT(allocVector(VECSXP, 4));
  SEXP nms = PROTECT(allocVector(STRSXP, 4));
  SET_STRING_ELT(nms, 0, mkChar("variable_order"));
  SET_STRING_ELT(nms, 1, mkChar("output_order"));
  SET_STRING_ELT(nms, 2, mkChar("n_out"));
  SET_STRING_ELT(nms, 3, mkChar("interpolate_t"));
  setAttrib(ret, R_NamesSymbol, nms);
  SEXP variable_length = PROTECT(allocVector(VECSXP, 22));
  SEXP variable_names = PROTECT(allocVector(STRSXP, 22));
  setAttrib(variable_length, R_NamesSymbol, variable_names);
  SET_VECTOR_ELT(variable_length, 0, R_NilValue);
  SET_VECTOR_ELT(variable_length, 1, R_NilValue);
  SET_VECTOR_ELT(variable_length, 2, R_NilValue);
  SET_VECTOR_ELT(variable_length, 3, R_NilValue);
  SET_VECTOR_ELT(variable_length, 4, R_NilValue);
  SET_VECTOR_ELT(variable_length, 5, R_NilValue);
  SET_VECTOR_ELT(variable_length, 6, R_NilValue);
  SET_VECTOR_ELT(variable_length, 7, R_NilValue);
  SET_VECTOR_ELT(variable_length, 8, R_NilValue);
  SET_VECTOR_ELT(variable_length, 9, R_NilValue);
  SET_VECTOR_ELT(variable_length, 10, R_NilValue);
  SET_VECTOR_ELT(variable_length, 11, R_NilValue);
  SET_VECTOR_ELT(variable_length, 12, allocVector(INTSXP, 3));
  int * dim_S = INTEGER(VECTOR_ELT(variable_length, 12));
  dim_S[0] = internal->dim_S_1;
  dim_S[1] = internal->dim_S_2;
  dim_S[2] = internal->dim_S_3;
  SET_VECTOR_ELT(variable_length, 13, allocVector(INTSXP, 3));
  int * dim_T = INTEGER(VECTOR_ELT(variable_length, 13));
  dim_T[0] = internal->dim_T_1;
  dim_T[1] = internal->dim_T_2;
  dim_T[2] = internal->dim_T_3;
  SET_VECTOR_ELT(variable_length, 14, allocVector(INTSXP, 3));
  int * dim_D = INTEGER(VECTOR_ELT(variable_length, 14));
  dim_D[0] = internal->dim_D_1;
  dim_D[1] = internal->dim_D_2;
  dim_D[2] = internal->dim_D_3;
  SET_VECTOR_ELT(variable_length, 15, allocVector(INTSXP, 3));
  int * dim_A = INTEGER(VECTOR_ELT(variable_length, 15));
  dim_A[0] = internal->dim_A_1;
  dim_A[1] = internal->dim_A_2;
  dim_A[2] = internal->dim_A_3;
  SET_VECTOR_ELT(variable_length, 16, allocVector(INTSXP, 3));
  int * dim_U = INTEGER(VECTOR_ELT(variable_length, 16));
  dim_U[0] = internal->dim_U_1;
  dim_U[1] = internal->dim_U_2;
  dim_U[2] = internal->dim_U_3;
  SET_VECTOR_ELT(variable_length, 17, allocVector(INTSXP, 3));
  int * dim_P = INTEGER(VECTOR_ELT(variable_length, 17));
  dim_P[0] = internal->dim_P_1;
  dim_P[1] = internal->dim_P_2;
  dim_P[2] = internal->dim_P_3;
  SET_VECTOR_ELT(variable_length, 18, allocVector(INTSXP, 3));
  int * dim_ICM = INTEGER(VECTOR_ELT(variable_length, 18));
  dim_ICM[0] = internal->dim_ICM_1;
  dim_ICM[1] = internal->dim_ICM_2;
  dim_ICM[2] = internal->dim_ICM_3;
  SET_VECTOR_ELT(variable_length, 19, allocVector(INTSXP, 3));
  int * dim_ICA = INTEGER(VECTOR_ELT(variable_length, 19));
  dim_ICA[0] = internal->dim_ICA_1;
  dim_ICA[1] = internal->dim_ICA_2;
  dim_ICA[2] = internal->dim_ICA_3;
  SET_VECTOR_ELT(variable_length, 20, allocVector(INTSXP, 3));
  int * dim_IB = INTEGER(VECTOR_ELT(variable_length, 20));
  dim_IB[0] = internal->dim_IB_1;
  dim_IB[1] = internal->dim_IB_2;
  dim_IB[2] = internal->dim_IB_3;
  SET_VECTOR_ELT(variable_length, 21, allocVector(INTSXP, 3));
  int * dim_ID = INTEGER(VECTOR_ELT(variable_length, 21));
  dim_ID[0] = internal->dim_ID_1;
  dim_ID[1] = internal->dim_ID_2;
  dim_ID[2] = internal->dim_ID_3;
  SET_STRING_ELT(variable_names, 0, mkChar("Sv1"));
  SET_STRING_ELT(variable_names, 1, mkChar("Ev1"));
  SET_STRING_ELT(variable_names, 2, mkChar("Iv1"));
  SET_STRING_ELT(variable_names, 3, mkChar("Sv2"));
  SET_STRING_ELT(variable_names, 4, mkChar("Ev2"));
  SET_STRING_ELT(variable_names, 5, mkChar("Iv2"));
  SET_STRING_ELT(variable_names, 6, mkChar("PL1"));
  SET_STRING_ELT(variable_names, 7, mkChar("LL1"));
  SET_STRING_ELT(variable_names, 8, mkChar("EL1"));
  SET_STRING_ELT(variable_names, 9, mkChar("PL2"));
  SET_STRING_ELT(variable_names, 10, mkChar("LL2"));
  SET_STRING_ELT(variable_names, 11, mkChar("EL2"));
  SET_STRING_ELT(variable_names, 12, mkChar("S"));
  SET_STRING_ELT(variable_names, 13, mkChar("T"));
  SET_STRING_ELT(variable_names, 14, mkChar("D"));
  SET_STRING_ELT(variable_names, 15, mkChar("A"));
  SET_STRING_ELT(variable_names, 16, mkChar("U"));
  SET_STRING_ELT(variable_names, 17, mkChar("P"));
  SET_STRING_ELT(variable_names, 18, mkChar("ICM"));
  SET_STRING_ELT(variable_names, 19, mkChar("ICA"));
  SET_STRING_ELT(variable_names, 20, mkChar("IB"));
  SET_STRING_ELT(variable_names, 21, mkChar("ID"));
  SET_VECTOR_ELT(ret, 0, variable_length);
  UNPROTECT(2);
  SEXP output_length = PROTECT(allocVector(VECSXP, 60));
  SEXP output_names = PROTECT(allocVector(STRSXP, 60));
  setAttrib(output_length, R_NamesSymbol, output_names);
  SET_VECTOR_ELT(output_length, 0, R_NilValue);
  SET_VECTOR_ELT(output_length, 1, R_NilValue);
  SET_VECTOR_ELT(output_length, 2, R_NilValue);
  SET_VECTOR_ELT(output_length, 3, R_NilValue);
  SET_VECTOR_ELT(output_length, 4, R_NilValue);
  SET_VECTOR_ELT(output_length, 5, R_NilValue);
  SET_VECTOR_ELT(output_length, 6, R_NilValue);
  SET_VECTOR_ELT(output_length, 7, R_NilValue);
  SET_VECTOR_ELT(output_length, 8, R_NilValue);
  SET_VECTOR_ELT(output_length, 9, R_NilValue);
  SET_VECTOR_ELT(output_length, 10, R_NilValue);
  SET_VECTOR_ELT(output_length, 11, R_NilValue);
  SET_VECTOR_ELT(output_length, 12, R_NilValue);
  SET_VECTOR_ELT(output_length, 13, R_NilValue);
  SET_VECTOR_ELT(output_length, 14, R_NilValue);
  SET_VECTOR_ELT(output_length, 15, R_NilValue);
  SET_VECTOR_ELT(output_length, 16, R_NilValue);
  SET_VECTOR_ELT(output_length, 17, R_NilValue);
  SET_VECTOR_ELT(output_length, 18, R_NilValue);
  SET_VECTOR_ELT(output_length, 19, R_NilValue);
  SET_VECTOR_ELT(output_length, 20, R_NilValue);
  SET_VECTOR_ELT(output_length, 21, R_NilValue);
  SET_VECTOR_ELT(output_length, 22, R_NilValue);
  SET_VECTOR_ELT(output_length, 23, R_NilValue);
  SET_VECTOR_ELT(output_length, 24, R_NilValue);
  SET_VECTOR_ELT(output_length, 25, R_NilValue);
  SET_VECTOR_ELT(output_length, 26, R_NilValue);
  SET_VECTOR_ELT(output_length, 27, R_NilValue);
  SET_VECTOR_ELT(output_length, 28, R_NilValue);
  SET_VECTOR_ELT(output_length, 29, R_NilValue);
  SET_VECTOR_ELT(output_length, 30, R_NilValue);
  SET_VECTOR_ELT(output_length, 31, R_NilValue);
  SET_VECTOR_ELT(output_length, 32, R_NilValue);
  SET_VECTOR_ELT(output_length, 33, R_NilValue);
  SET_VECTOR_ELT(output_length, 34, R_NilValue);
  SET_VECTOR_ELT(output_length, 35, R_NilValue);
  SET_VECTOR_ELT(output_length, 36, R_NilValue);
  SET_VECTOR_ELT(output_length, 37, R_NilValue);
  SET_VECTOR_ELT(output_length, 38, R_NilValue);
  SET_VECTOR_ELT(output_length, 39, R_NilValue);
  SET_VECTOR_ELT(output_length, 40, R_NilValue);
  SET_VECTOR_ELT(output_length, 41, R_NilValue);
  SET_VECTOR_ELT(output_length, 42, R_NilValue);
  SET_VECTOR_ELT(output_length, 43, R_NilValue);
  SET_VECTOR_ELT(output_length, 44, R_NilValue);
  SET_VECTOR_ELT(output_length, 45, R_NilValue);
  SET_VECTOR_ELT(output_length, 46, R_NilValue);
  SET_VECTOR_ELT(output_length, 47, R_NilValue);
  SET_VECTOR_ELT(output_length, 48, R_NilValue);
  SET_VECTOR_ELT(output_length, 49, R_NilValue);
  SET_VECTOR_ELT(output_length, 50, R_NilValue);
  SET_VECTOR_ELT(output_length, 51, R_NilValue);
  SET_VECTOR_ELT(output_length, 52, R_NilValue);
  SET_VECTOR_ELT(output_length, 53, R_NilValue);
  SET_VECTOR_ELT(output_length, 54, R_NilValue);
  SET_VECTOR_ELT(output_length, 55, R_NilValue);
  SET_VECTOR_ELT(output_length, 56, ScalarInteger(internal->dim_cov));
  SET_VECTOR_ELT(output_length, 57, allocVector(INTSXP, 3));
  int * dim_EIR_species1 = INTEGER(VECTOR_ELT(output_length, 57));
  dim_EIR_species1[0] = internal->dim_EIR_species1_1;
  dim_EIR_species1[1] = internal->dim_EIR_species1_2;
  dim_EIR_species1[2] = internal->dim_EIR_species1_3;
  SET_VECTOR_ELT(output_length, 58, allocVector(INTSXP, 3));
  int * dim_EIR_species2 = INTEGER(VECTOR_ELT(output_length, 58));
  dim_EIR_species2[0] = internal->dim_EIR_species2_1;
  dim_EIR_species2[1] = internal->dim_EIR_species2_2;
  dim_EIR_species2[2] = internal->dim_EIR_species2_3;
  SET_VECTOR_ELT(output_length, 59, allocVector(INTSXP, 3));
  int * dim_EIR = INTEGER(VECTOR_ELT(output_length, 59));
  dim_EIR[0] = internal->dim_EIR_1;
  dim_EIR[1] = internal->dim_EIR_2;
  dim_EIR[2] = internal->dim_EIR_3;
  SET_STRING_ELT(output_names, 0, mkChar("all_pop"));
  SET_STRING_ELT(output_names, 1, mkChar("Ivout1"));
  SET_STRING_ELT(output_names, 2, mkChar("Ivout2"));
  SET_STRING_ELT(output_names, 3, mkChar("omega"));
  SET_STRING_ELT(output_names, 4, mkChar("theta_species1"));
  SET_STRING_ELT(output_names, 5, mkChar("theta_species2"));
  SET_STRING_ELT(output_names, 6, mkChar("Iv"));
  SET_STRING_ELT(output_names, 7, mkChar("sporozoite_rate_species1"));
  SET_STRING_ELT(output_names, 8, mkChar("sporozoite_rate_species2"));
  SET_STRING_ELT(output_names, 9, mkChar("Sout"));
  SET_STRING_ELT(output_names, 10, mkChar("Tout"));
  SET_STRING_ELT(output_names, 11, mkChar("Dout"));
  SET_STRING_ELT(output_names, 12, mkChar("Aout"));
  SET_STRING_ELT(output_names, 13, mkChar("Uout"));
  SET_STRING_ELT(output_names, 14, mkChar("Pout"));
  SET_STRING_ELT(output_names, 15, mkChar("prev"));
  SET_STRING_ELT(output_names, 16, mkChar("prev05"));
  SET_STRING_ELT(output_names, 17, mkChar("inc05"));
  SET_STRING_ELT(output_names, 18, mkChar("inc"));
  SET_STRING_ELT(output_names, 19, mkChar("mu1"));
  SET_STRING_ELT(output_names, 20, mkChar("mu2"));
  SET_STRING_ELT(output_names, 21, mkChar("beta_larval1"));
  SET_STRING_ELT(output_names, 22, mkChar("beta_larval2"));
  SET_STRING_ELT(output_names, 23, mkChar("mv"));
  SET_STRING_ELT(output_names, 24, mkChar("mv1"));
  SET_STRING_ELT(output_names, 25, mkChar("mv2"));
  SET_STRING_ELT(output_names, 26, mkChar("wh1"));
  SET_STRING_ELT(output_names, 27, mkChar("wh2"));
  SET_STRING_ELT(output_names, 28, mkChar("d_ITN_1"));
  SET_STRING_ELT(output_names, 29, mkChar("r_ITN_1"));
  SET_STRING_ELT(output_names, 30, mkChar("s_ITN_1"));
  SET_STRING_ELT(output_names, 31, mkChar("d_ITN_2"));
  SET_STRING_ELT(output_names, 32, mkChar("r_ITN_2"));
  SET_STRING_ELT(output_names, 33, mkChar("s_ITN_2"));
  SET_STRING_ELT(output_names, 34, mkChar("d_IRS_1"));
  SET_STRING_ELT(output_names, 35, mkChar("r_IRS_1"));
  SET_STRING_ELT(output_names, 36, mkChar("s_IRS_1"));
  SET_STRING_ELT(output_names, 37, mkChar("d_IRS_2"));
  SET_STRING_ELT(output_names, 38, mkChar("r_IRS_2"));
  SET_STRING_ELT(output_names, 39, mkChar("s_IRS_2"));
  SET_STRING_ELT(output_names, 40, mkChar("p1_1"));
  SET_STRING_ELT(output_names, 41, mkChar("p1_2"));
  SET_STRING_ELT(output_names, 42, mkChar("wbar1"));
  SET_STRING_ELT(output_names, 43, mkChar("wbar2"));
  SET_STRING_ELT(output_names, 44, mkChar("zbar1"));
  SET_STRING_ELT(output_names, 45, mkChar("zbar2"));
  SET_STRING_ELT(output_names, 46, mkChar("Q_1"));
  SET_STRING_ELT(output_names, 47, mkChar("Q_2"));
  SET_STRING_ELT(output_names, 48, mkChar("av1"));
  SET_STRING_ELT(output_names, 49, mkChar("av2"));
  SET_STRING_ELT(output_names, 50, mkChar("K0_species1"));
  SET_STRING_ELT(output_names, 51, mkChar("K0_species2"));
  SET_STRING_ELT(output_names, 52, mkChar("KL_species1"));
  SET_STRING_ELT(output_names, 53, mkChar("KL_species2"));
  SET_STRING_ELT(output_names, 54, mkChar("FOIv_species1"));
  SET_STRING_ELT(output_names, 55, mkChar("FOIv_species2"));
  SET_STRING_ELT(output_names, 56, mkChar("cov"));
  SET_STRING_ELT(output_names, 57, mkChar("EIR_species1"));
  SET_STRING_ELT(output_names, 58, mkChar("EIR_species2"));
  SET_STRING_ELT(output_names, 59, mkChar("EIR"));
  SET_VECTOR_ELT(ret, 1, output_length);
  UNPROTECT(2);
  SET_VECTOR_ELT(ret, 2, ScalarInteger(internal->dim_cov + internal->dim_EIR + internal->dim_EIR_species1 + internal->dim_EIR_species2 + 56));
  UNPROTECT(2);
  return ret;
}
SEXP odin_model_2sp_initial_conditions(SEXP internal_p, SEXP t_ptr) {
  double t = scalar_real(t_ptr, "t");
  odin_model_2sp_internal *internal = odin_model_2sp_get_internal(internal_p, 1);
  SEXP r_state = PROTECT(allocVector(REALSXP, internal->dim_A + internal->dim_D + internal->dim_IB + internal->dim_ICA + internal->dim_ICM + internal->dim_ID + internal->dim_P + internal->dim_S + internal->dim_T + internal->dim_U + 12));
  double * state = REAL(r_state);
  state[0] = internal->initial_Sv1;
  state[1] = internal->initial_Ev1;
  state[2] = internal->initial_Iv1;
  state[3] = internal->initial_Sv2;
  state[4] = internal->initial_Ev2;
  state[5] = internal->initial_Iv2;
  state[6] = internal->initial_PL1;
  state[7] = internal->initial_LL1;
  state[8] = internal->initial_EL1;
  state[9] = internal->initial_PL2;
  state[10] = internal->initial_LL2;
  state[11] = internal->initial_EL2;
  memcpy(state + 12, internal->initial_S, internal->dim_S * sizeof(double));
  memcpy(state + internal->offset_variable_T, internal->initial_T, internal->dim_T * sizeof(double));
  memcpy(state + internal->offset_variable_D, internal->initial_D, internal->dim_D * sizeof(double));
  memcpy(state + internal->offset_variable_A, internal->initial_A, internal->dim_A * sizeof(double));
  memcpy(state + internal->offset_variable_U, internal->initial_U, internal->dim_U * sizeof(double));
  memcpy(state + internal->offset_variable_P, internal->initial_P, internal->dim_P * sizeof(double));
  memcpy(state + internal->offset_variable_ICM, internal->initial_ICM, internal->dim_ICM * sizeof(double));
  memcpy(state + internal->offset_variable_ICA, internal->initial_ICA, internal->dim_ICA * sizeof(double));
  memcpy(state + internal->offset_variable_IB, internal->initial_IB, internal->dim_IB * sizeof(double));
  memcpy(state + internal->offset_variable_ID, internal->initial_ID, internal->dim_ID * sizeof(double));
  UNPROTECT(1);
  return r_state;
}
void odin_model_2sp_rhs(odin_model_2sp_internal* internal, double t, double * state, double * dstatedt, double * output) {
  double * S = state + 12;
  double * T = state + internal->offset_variable_T;
  double * D = state + internal->offset_variable_D;
  double * A = state + internal->offset_variable_A;
  double * U = state + internal->offset_variable_U;
  double * P = state + internal->offset_variable_P;
  double * ICM = state + internal->offset_variable_ICM;
  double * ICA = state + internal->offset_variable_ICA;
  double * IB = state + internal->offset_variable_IB;
  double * ID = state + internal->offset_variable_ID;
  double Sv1 = state[0];
  double Ev1 = state[1];
  double Iv1 = state[2];
  double Sv2 = state[3];
  double Ev2 = state[4];
  double Iv2 = state[5];
  double EL1 = state[8];
  double LL1 = state[7];
  double PL1 = state[6];
  double EL2 = state[11];
  double LL2 = state[10];
  double PL2 = state[9];
  double betaa1 = 0.5 * PL1 / (double) internal->dPL;
  double betaa2 = 0.5 * PL2 / (double) internal->dPL;
  dstatedt[6] = LL1 / (double) internal->dLL - internal->muPL * PL1 - PL1 / (double) internal->dPL;
  dstatedt[9] = LL2 / (double) internal->dLL - internal->muPL * PL2 - PL2 / (double) internal->dPL;
  double IRS_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->IRS_interval))) * internal->irs_loss));
  double ITN_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->ITN_interval))) * internal->itn_loss));
  double mv1 = Sv1 + Ev1 + Iv1;
  double mv2 = Sv2 + Ev2 + Iv2;
  double theta_species1 = (internal->ssa0 == 0 && internal->ssa1 == 0 && internal->ssa2 == 0 && internal->ssb1 == 0 && internal->ssb2 == 0 && internal->ssb3 == 0 && internal->theta_c == 0 ? 1 : fmax((internal->ssa0 + internal->ssa1 * cos(2 * internal->pi * t / (double) 365) + internal->ssa2 * cos(2 * 2 * internal->pi * t / (double) 365) + internal->ssa3 * cos(3 * 2 * internal->pi * t / (double) 365) + internal->ssb1 * sin(2 * internal->pi * t / (double) 365) + internal->ssb2 * sin(2 * 2 * internal->pi * t / (double) 365) + internal->ssb3 * sin(3 * 2 * internal->pi * t / (double) 365)) / (double) internal->theta_c, 0.001));
  double d_IRS_1 = (t < internal->ITN_IRS_on ? 0 : internal->chi_species1 * internal->d_IRS0_1 * IRS_decay);
  double d_IRS_2 = (t < internal->ITN_IRS_on ? 0 : internal->chi_species2 * internal->d_IRS0_2 * IRS_decay);
  double d_ITN_1 = (t < internal->ITN_IRS_on ? 0 : internal->d_ITN0_1 * ITN_decay);
  double d_ITN_2 = (t < internal->ITN_IRS_on ? 0 : internal->d_ITN0_2 * ITN_decay);
  double r_IRS_1 = (t < internal->ITN_IRS_on ? 0 : internal->r_IRS0_1 * IRS_decay);
  double r_IRS_2 = (t < internal->ITN_IRS_on ? 0 : internal->r_IRS0_2 * IRS_decay);
  double r_ITN_1 = (t < internal->ITN_IRS_on ? 0 : internal->r_ITN1 + (internal->r_ITN0_1 - internal->r_ITN1) * ITN_decay);
  double r_ITN_2 = (t < internal->ITN_IRS_on ? 0 : internal->r_ITN2 + (internal->r_ITN0_2 - internal->r_ITN2) * ITN_decay);
  double Ah = odin_sum3(A, 0, internal->dim_A_1, 0, internal->dim_A_2, 0, internal->dim_A_3, internal->dim_A_1, internal->dim_A_12);
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         dstatedt[internal->offset_variable_P + i - 1 + internal->dim_P_1 * (j - 1) + internal->dim_P_12 * (k - 1)] = internal->rT * T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] - internal->rP * P[internal->dim_P_12 * (k - 1) + internal->dim_P_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * P[internal->dim_P_12 * (k - 1) + internal->dim_P_1 * (j - 1) + i - 1];
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        dstatedt[internal->offset_variable_P + i - 1 + internal->dim_P_1 * (j - 1) + internal->dim_P_12 * (k - 1)] = internal->rT * T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] - internal->rP * P[internal->dim_P_12 * (k - 1) + internal->dim_P_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * P[internal->dim_P_12 * (k - 1) + internal->dim_P_1 * (j - 1) + i - 1] + internal->age_rate[i - 1 - 1] * P[internal->dim_P_12 * (k - 1) + internal->dim_P_1 * (j - 1) + i - 1 - 1];
      }
    }
  }
  double Dh = odin_sum3(D, 0, internal->dim_D_1, 0, internal->dim_D_2, 0, internal->dim_D_3, internal->dim_D_1, internal->dim_D_12);
  // delay block for incv1
  double incv1;
  {
    const double t_true = t;
    const double t = t_true - internal->delayMos;
    double Sv1;
    if (t <= internal->initial_t) {
      Sv1 = internal->initial_Sv1;
    } else {
      lagvalue(t, internal->odin_model_2sp_use_dde, internal->delay_index_incv1, 1, internal->delay_state_incv1);
      Sv1 = internal->delay_state_incv1[0];
    }
    double ITN_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->ITN_interval))) * internal->itn_loss));
    double IRS_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->IRS_interval))) * internal->irs_loss));
    double r_ITN_1 = (t < internal->ITN_IRS_on ? 0 : internal->r_ITN1 + (internal->r_ITN0_1 - internal->r_ITN1) * ITN_decay);
    double r_IRS_1 = (t < internal->ITN_IRS_on ? 0 : internal->r_IRS0_1 * IRS_decay);
    double d_ITN_1 = (t < internal->ITN_IRS_on ? 0 : internal->d_ITN0_1 * ITN_decay);
    double d_IRS_1 = (t < internal->ITN_IRS_on ? 0 : internal->chi_species1 * internal->d_IRS0_1 * IRS_decay);
    {
       int i = 1;
       internal->delay_array_z1_[i - 1] = 0;
    }
    {
       int i = 2;
       internal->delay_array_z1_[i - 1] = internal->bites_Bed_species1 * r_ITN_1;
    }
    {
       int i = 3;
       internal->delay_array_z1_[i - 1] = internal->bites_Indoors_species1 * r_IRS_1;
    }
    {
       int i = 4;
       internal->delay_array_z1_[i - 1] = internal->bites_Bed_species1 * (r_IRS_1 + (1 - r_IRS_1) * r_ITN_1) + (internal->bites_Indoors_species1 - internal->bites_Bed_species1) * r_IRS_1;
    }
    double s_ITN_1 = (t < internal->ITN_IRS_on ? 1 : 1 - d_ITN_1 - r_ITN_1);
    double s_IRS_1 = (t < internal->ITN_IRS_on ? 1 : 1 - d_IRS_1);
    // delay block for FOIv_species1
    double FOIv_species1;
    {
      const double t_true = t;
      const double t = t_true - internal->delayGam;
      double *T;
      double *D;
      double *A;
      double *U;
      double *ID;
      if (t <= internal->initial_t) {
        T = internal->initial_T;
        D = internal->initial_D;
        A = internal->initial_A;
        U = internal->initial_U;
        ID = internal->initial_ID;
      } else {
        lagvalue(t, internal->odin_model_2sp_use_dde, internal->delay_index_FOIv_species1, internal->dim_delay_FOIv_species1, internal->delay_state_FOIv_species1);
        T = internal->delay_state_FOIv_species1 + 0;
        D = internal->delay_state_FOIv_species1 + internal->dim_T;
        A = internal->delay_state_FOIv_species1 + internal->offset_FOIv_species1_A;
        U = internal->delay_state_FOIv_species1 + internal->offset_FOIv_species1_U;
        ID = internal->delay_state_FOIv_species1 + internal->offset_FOIv_species1_ID;
      }
      double IRS_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->IRS_interval))) * internal->irs_loss));
      double ITN_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->ITN_interval))) * internal->itn_loss));
      double r_IRS_1 = (t < internal->ITN_IRS_on ? 0 : internal->r_IRS0_1 * IRS_decay);
      double d_ITN_1 = (t < internal->ITN_IRS_on ? 0 : internal->d_ITN0_1 * ITN_decay);
      double r_ITN_1 = (t < internal->ITN_IRS_on ? 0 : internal->r_ITN1 + (internal->r_ITN0_1 - internal->r_ITN1) * ITN_decay);
      double d_IRS_1 = (t < internal->ITN_IRS_on ? 0 : internal->chi_species1 * internal->d_IRS0_1 * IRS_decay);
      double s_ITN_1 = (t < internal->ITN_IRS_on ? 1 : 1 - d_ITN_1 - r_ITN_1);
      double s_IRS_1 = (t < internal->ITN_IRS_on ? 1 : 1 - d_IRS_1);
      {
         int i = 1;
         internal->delay_array_z1_[i - 1] = 0;
      }
      {
         int i = 2;
         internal->delay_array_z1_[i - 1] = internal->bites_Bed_species1 * r_ITN_1;
      }
      {
         int i = 3;
         internal->delay_array_z1_[i - 1] = internal->bites_Indoors_species1 * r_IRS_1;
      }
      {
         int i = 4;
         internal->delay_array_z1_[i - 1] = internal->bites_Bed_species1 * (r_IRS_1 + (1 - r_IRS_1) * r_ITN_1) + (internal->bites_Indoors_species1 - internal->bites_Bed_species1) * r_IRS_1;
      }
      for (int i = 1; i <= internal->dim_p_det_1; ++i) {
        for (int j = 1; j <= internal->dim_p_det_2; ++j) {
          for (int k = 1; k <= internal->dim_p_det_3; ++k) {
            internal->delay_array_p_det[i - 1 + internal->dim_p_det_1 * (j - 1) + internal->dim_p_det_12 * (k - 1)] = internal->d1 + (1 - internal->d1) / (double) (1 + internal->fd[i - 1] * pow((ID[internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1] / (double) internal->ID0), internal->kD));
          }
        }
      }
      {
         int i = 1;
         internal->delay_array_w1_[i - 1] = 1;
      }
      {
         int i = 2;
         internal->delay_array_w1_[i - 1] = 1 - internal->bites_Bed_species1 + internal->bites_Bed_species1 * s_ITN_1;
      }
      {
         int i = 3;
         internal->delay_array_w1_[i - 1] = 1 - internal->bites_Indoors_species1 + internal->bites_Indoors_species1 * (1 - r_IRS_1) * s_IRS_1;
      }
      {
         int i = 4;
         internal->delay_array_w1_[i - 1] = 1 - internal->bites_Indoors_species1 + internal->bites_Bed_species1 * (1 - r_IRS_1) * s_ITN_1 * s_IRS_1 + (internal->bites_Indoors_species1 - internal->bites_Bed_species1) * (1 - r_IRS_1) * s_IRS_1;
      }
      for (int i = 1; i <= internal->dim_z1; ++i) {
        internal->delay_array_z1[i - 1] = internal->delay_array_z1_[i - 1];
      }
      for (int i = 1; i <= internal->dim_cA_1; ++i) {
        for (int j = 1; j <= internal->dim_cA_2; ++j) {
          for (int k = 1; k <= internal->dim_cA_3; ++k) {
            internal->delay_array_cA[i - 1 + internal->dim_cA_1 * (j - 1) + internal->dim_cA_12 * (k - 1)] = internal->cU + (internal->cD - internal->cU) * pow(internal->delay_array_p_det[internal->dim_p_det_12 * (k - 1) + internal->dim_p_det_1 * (j - 1) + i - 1], internal->gamma1);
          }
        }
      }
      for (int i = 1; i <= internal->dim_w1; ++i) {
        internal->delay_array_w1[i - 1] = internal->delay_array_w1_[i - 1];
      }
      for (int i = 1; i <= internal->num_int; ++i) {
        internal->delay_array_zhi1[i - 1] = internal->cov[i - 1] * internal->delay_array_z1[i - 1];
      }
      for (int i = 1; i <= internal->num_int; ++i) {
        internal->delay_array_whi1[i - 1] = internal->cov[i - 1] * internal->delay_array_w1[i - 1];
      }
      double zh1 = (t < internal->ITN_IRS_on ? 0 : odin_sum1(internal->delay_array_zhi1, 0, internal->dim_zhi1));
      double wh1 = (t < internal->ITN_IRS_on ? 1 : odin_sum1(internal->delay_array_whi1, 0, internal->dim_whi1));
      double zbar1 = internal->Q0_species1 * zh1;
      double fv1 = 1 / (double) (internal->tau1 / (double) (1 - zbar1) + internal->tau2);
      double wbar1 = 1 - internal->Q0_species1 + internal->Q0_species1 * wh1;
      double Q_1 = 1 - (1 - internal->Q0_species1) / (double) wbar1;
      double av1 = fv1 * Q_1;
      for (int i = 1; i <= internal->num_int; ++i) {
        internal->delay_array_av_mosq1[i - 1] = av1 * internal->delay_array_w1[i - 1] / (double) wh1;
      }
      for (int i = 1; i <= internal->na; ++i) {
        for (int j = 1; j <= internal->nh; ++j) {
          for (int k = 1; k <= internal->num_int; ++k) {
            internal->delay_array_FOIvijk_species1[i - 1 + internal->dim_FOIvijk_species1_1 * (j - 1) + internal->dim_FOIvijk_species1_12 * (k - 1)] = (internal->cT * T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] + internal->cD * D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] + internal->delay_array_cA[internal->dim_cA_12 * (k - 1) + internal->dim_cA_1 * (j - 1) + i - 1] * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] + internal->cU * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1]) * internal->rel_foi[j - 1] * internal->delay_array_av_mosq1[k - 1] * internal->foi_age[i - 1] / (double) internal->omega;
          }
        }
      }
      double lag_FOIv_species1 = odin_sum1(internal->delay_array_FOIvijk_species1, 0, internal->dim_FOIvijk_species1);
      FOIv_species1 = lag_FOIv_species1;
    }
    for (int i = 1; i <= internal->dim_z1; ++i) {
      internal->delay_array_z1[i - 1] = internal->delay_array_z1_[i - 1];
    }
    {
       int i = 1;
       internal->delay_array_w1_[i - 1] = 1;
    }
    {
       int i = 2;
       internal->delay_array_w1_[i - 1] = 1 - internal->bites_Bed_species1 + internal->bites_Bed_species1 * s_ITN_1;
    }
    {
       int i = 3;
       internal->delay_array_w1_[i - 1] = 1 - internal->bites_Indoors_species1 + internal->bites_Indoors_species1 * (1 - r_IRS_1) * s_IRS_1;
    }
    {
       int i = 4;
       internal->delay_array_w1_[i - 1] = 1 - internal->bites_Indoors_species1 + internal->bites_Bed_species1 * (1 - r_IRS_1) * s_ITN_1 * s_IRS_1 + (internal->bites_Indoors_species1 - internal->bites_Bed_species1) * (1 - r_IRS_1) * s_IRS_1;
    }
    double ince1 = FOIv_species1 * Sv1;
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_zhi1[i - 1] = internal->cov[i - 1] * internal->delay_array_z1[i - 1];
    }
    for (int i = 1; i <= internal->dim_w1; ++i) {
      internal->delay_array_w1[i - 1] = internal->delay_array_w1_[i - 1];
    }
    double zh1 = (t < internal->ITN_IRS_on ? 0 : odin_sum1(internal->delay_array_zhi1, 0, internal->dim_zhi1));
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_whi1[i - 1] = internal->cov[i - 1] * internal->delay_array_w1[i - 1];
    }
    double zbar1 = internal->Q0_species1 * zh1;
    double wh1 = (t < internal->ITN_IRS_on ? 1 : odin_sum1(internal->delay_array_whi1, 0, internal->dim_whi1));
    double fv1 = 1 / (double) (internal->tau1 / (double) (1 - zbar1) + internal->tau2);
    double wbar1 = 1 - internal->Q0_species1 + internal->Q0_species1 * wh1;
    double p1_1 = wbar1 * internal->p10 / (double) (1 - zbar1 * internal->p10);
    double mu1 = -(fv1) * log(p1_1 * internal->p2);
    double surv1 = exp(-(mu1) * internal->delayMos);
    double lag_incv1 = ince1 * surv1;
    incv1 = lag_incv1;
  }
  // delay block for incv2
  double incv2;
  {
    const double t_true = t;
    const double t = t_true - internal->delayMos;
    double Sv2;
    if (t <= internal->initial_t) {
      Sv2 = internal->initial_Sv2;
    } else {
      lagvalue(t, internal->odin_model_2sp_use_dde, internal->delay_index_incv2, 1, internal->delay_state_incv2);
      Sv2 = internal->delay_state_incv2[0];
    }
    double ITN_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->ITN_interval))) * internal->itn_loss));
    double IRS_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->IRS_interval))) * internal->irs_loss));
    double r_ITN_2 = (t < internal->ITN_IRS_on ? 0 : internal->r_ITN2 + (internal->r_ITN0_2 - internal->r_ITN2) * ITN_decay);
    double r_IRS_2 = (t < internal->ITN_IRS_on ? 0 : internal->r_IRS0_2 * IRS_decay);
    double d_ITN_2 = (t < internal->ITN_IRS_on ? 0 : internal->d_ITN0_2 * ITN_decay);
    double d_IRS_2 = (t < internal->ITN_IRS_on ? 0 : internal->chi_species2 * internal->d_IRS0_2 * IRS_decay);
    {
       int i = 1;
       internal->delay_array_z2_[i - 1] = 0;
    }
    {
       int i = 2;
       internal->delay_array_z2_[i - 1] = internal->bites_Bed_species2 * r_ITN_2;
    }
    {
       int i = 3;
       internal->delay_array_z2_[i - 1] = internal->bites_Indoors_species2 * r_IRS_2;
    }
    {
       int i = 4;
       internal->delay_array_z2_[i - 1] = internal->bites_Bed_species2 * (r_IRS_2 + (1 - r_IRS_2) * r_ITN_2) + (internal->bites_Indoors_species2 - internal->bites_Bed_species2) * r_IRS_2;
    }
    double s_ITN_2 = (t < internal->ITN_IRS_on ? 1 : 1 - d_ITN_2 - r_ITN_2);
    double s_IRS_2 = (t < internal->ITN_IRS_on ? 1 : 1 - d_IRS_2);
    // delay block for FOIv_species2
    double FOIv_species2;
    {
      const double t_true = t;
      const double t = t_true - internal->delayGam;
      double *T;
      double *D;
      double *A;
      double *U;
      double *ID;
      if (t <= internal->initial_t) {
        T = internal->initial_T;
        D = internal->initial_D;
        A = internal->initial_A;
        U = internal->initial_U;
        ID = internal->initial_ID;
      } else {
        lagvalue(t, internal->odin_model_2sp_use_dde, internal->delay_index_FOIv_species2, internal->dim_delay_FOIv_species2, internal->delay_state_FOIv_species2);
        T = internal->delay_state_FOIv_species2 + 0;
        D = internal->delay_state_FOIv_species2 + internal->dim_T;
        A = internal->delay_state_FOIv_species2 + internal->offset_FOIv_species2_A;
        U = internal->delay_state_FOIv_species2 + internal->offset_FOIv_species2_U;
        ID = internal->delay_state_FOIv_species2 + internal->offset_FOIv_species2_ID;
      }
      double IRS_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->IRS_interval))) * internal->irs_loss));
      double ITN_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->ITN_interval))) * internal->itn_loss));
      double r_IRS_2 = (t < internal->ITN_IRS_on ? 0 : internal->r_IRS0_2 * IRS_decay);
      double d_ITN_2 = (t < internal->ITN_IRS_on ? 0 : internal->d_ITN0_2 * ITN_decay);
      double r_ITN_2 = (t < internal->ITN_IRS_on ? 0 : internal->r_ITN2 + (internal->r_ITN0_2 - internal->r_ITN2) * ITN_decay);
      double d_IRS_2 = (t < internal->ITN_IRS_on ? 0 : internal->chi_species2 * internal->d_IRS0_2 * IRS_decay);
      double s_ITN_2 = (t < internal->ITN_IRS_on ? 1 : 1 - d_ITN_2 - r_ITN_2);
      double s_IRS_2 = (t < internal->ITN_IRS_on ? 1 : 1 - d_IRS_2);
      {
         int i = 1;
         internal->delay_array_z2_[i - 1] = 0;
      }
      {
         int i = 2;
         internal->delay_array_z2_[i - 1] = internal->bites_Bed_species2 * r_ITN_2;
      }
      {
         int i = 3;
         internal->delay_array_z2_[i - 1] = internal->bites_Indoors_species2 * r_IRS_2;
      }
      {
         int i = 4;
         internal->delay_array_z2_[i - 1] = internal->bites_Bed_species2 * (r_IRS_2 + (1 - r_IRS_2) * r_ITN_2) + (internal->bites_Indoors_species2 - internal->bites_Bed_species2) * r_IRS_2;
      }
      for (int i = 1; i <= internal->dim_p_det_1; ++i) {
        for (int j = 1; j <= internal->dim_p_det_2; ++j) {
          for (int k = 1; k <= internal->dim_p_det_3; ++k) {
            internal->delay_array_p_det[i - 1 + internal->dim_p_det_1 * (j - 1) + internal->dim_p_det_12 * (k - 1)] = internal->d1 + (1 - internal->d1) / (double) (1 + internal->fd[i - 1] * pow((ID[internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1] / (double) internal->ID0), internal->kD));
          }
        }
      }
      {
         int i = 1;
         internal->delay_array_w2_[i - 1] = 1;
      }
      {
         int i = 2;
         internal->delay_array_w2_[i - 1] = 1 - internal->bites_Bed_species2 + internal->bites_Bed_species2 * s_ITN_2;
      }
      {
         int i = 3;
         internal->delay_array_w2_[i - 1] = 1 - internal->bites_Indoors_species2 + internal->bites_Indoors_species2 * (1 - r_IRS_2) * s_IRS_2;
      }
      {
         int i = 4;
         internal->delay_array_w2_[i - 1] = 1 - internal->bites_Indoors_species2 + internal->bites_Bed_species2 * (1 - r_IRS_2) * s_ITN_2 * s_IRS_2 + (internal->bites_Indoors_species2 - internal->bites_Bed_species2) * (1 - r_IRS_2) * s_IRS_2;
      }
      for (int i = 1; i <= internal->dim_z2; ++i) {
        internal->delay_array_z2[i - 1] = internal->delay_array_z2_[i - 1];
      }
      for (int i = 1; i <= internal->dim_cA_1; ++i) {
        for (int j = 1; j <= internal->dim_cA_2; ++j) {
          for (int k = 1; k <= internal->dim_cA_3; ++k) {
            internal->delay_array_cA[i - 1 + internal->dim_cA_1 * (j - 1) + internal->dim_cA_12 * (k - 1)] = internal->cU + (internal->cD - internal->cU) * pow(internal->delay_array_p_det[internal->dim_p_det_12 * (k - 1) + internal->dim_p_det_1 * (j - 1) + i - 1], internal->gamma1);
          }
        }
      }
      for (int i = 1; i <= internal->dim_w2; ++i) {
        internal->delay_array_w2[i - 1] = internal->delay_array_w2_[i - 1];
      }
      for (int i = 1; i <= internal->num_int; ++i) {
        internal->delay_array_zhi2[i - 1] = internal->cov[i - 1] * internal->delay_array_z2[i - 1];
      }
      for (int i = 1; i <= internal->num_int; ++i) {
        internal->delay_array_whi2[i - 1] = internal->cov[i - 1] * internal->delay_array_w2[i - 1];
      }
      double zh2 = (t < internal->ITN_IRS_on ? 0 : odin_sum1(internal->delay_array_zhi2, 0, internal->dim_zhi2));
      double wh2 = (t < internal->ITN_IRS_on ? 1 : odin_sum1(internal->delay_array_whi2, 0, internal->dim_whi2));
      double zbar2 = internal->Q0_species2 * zh2;
      double fv2 = 1 / (double) (internal->tau1 / (double) (1 - zbar2) + internal->tau2);
      double wbar2 = 1 - internal->Q0_species2 + internal->Q0_species2 * wh2;
      double Q_2 = 1 - (1 - internal->Q0_species2) / (double) wbar2;
      double av2 = fv2 * Q_2;
      for (int i = 1; i <= internal->num_int; ++i) {
        internal->delay_array_av_mosq2[i - 1] = av2 * internal->delay_array_w2[i - 1] / (double) wh2;
      }
      for (int i = 1; i <= internal->na; ++i) {
        for (int j = 1; j <= internal->nh; ++j) {
          for (int k = 1; k <= internal->num_int; ++k) {
            internal->delay_array_FOIvijk_species2[i - 1 + internal->dim_FOIvijk_species2_1 * (j - 1) + internal->dim_FOIvijk_species2_12 * (k - 1)] = (internal->cT * T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] + internal->cD * D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] + internal->delay_array_cA[internal->dim_cA_12 * (k - 1) + internal->dim_cA_1 * (j - 1) + i - 1] * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] + internal->cU * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1]) * internal->rel_foi[j - 1] * internal->delay_array_av_mosq2[k - 1] * internal->foi_age[i - 1] / (double) internal->omega;
          }
        }
      }
      double lag_FOIv_species2 = odin_sum1(internal->delay_array_FOIvijk_species2, 0, internal->dim_FOIvijk_species2);
      FOIv_species2 = lag_FOIv_species2;
    }
    for (int i = 1; i <= internal->dim_z2; ++i) {
      internal->delay_array_z2[i - 1] = internal->delay_array_z2_[i - 1];
    }
    {
       int i = 1;
       internal->delay_array_w2_[i - 1] = 1;
    }
    {
       int i = 2;
       internal->delay_array_w2_[i - 1] = 1 - internal->bites_Bed_species2 + internal->bites_Bed_species2 * s_ITN_2;
    }
    {
       int i = 3;
       internal->delay_array_w2_[i - 1] = 1 - internal->bites_Indoors_species2 + internal->bites_Indoors_species2 * (1 - r_IRS_2) * s_IRS_2;
    }
    {
       int i = 4;
       internal->delay_array_w2_[i - 1] = 1 - internal->bites_Indoors_species2 + internal->bites_Bed_species2 * (1 - r_IRS_2) * s_ITN_2 * s_IRS_2 + (internal->bites_Indoors_species2 - internal->bites_Bed_species2) * (1 - r_IRS_2) * s_IRS_2;
    }
    double ince2 = FOIv_species2 * Sv2;
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_zhi2[i - 1] = internal->cov[i - 1] * internal->delay_array_z2[i - 1];
    }
    for (int i = 1; i <= internal->dim_w2; ++i) {
      internal->delay_array_w2[i - 1] = internal->delay_array_w2_[i - 1];
    }
    double zh2 = (t < internal->ITN_IRS_on ? 0 : odin_sum1(internal->delay_array_zhi2, 0, internal->dim_zhi2));
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_whi2[i - 1] = internal->cov[i - 1] * internal->delay_array_w2[i - 1];
    }
    double zbar2 = internal->Q0_species2 * zh2;
    double wh2 = (t < internal->ITN_IRS_on ? 1 : odin_sum1(internal->delay_array_whi2, 0, internal->dim_whi2));
    double fv2 = 1 / (double) (internal->tau1 / (double) (1 - zbar2) + internal->tau2);
    double wbar2 = 1 - internal->Q0_species2 + internal->Q0_species2 * wh2;
    double p1_2 = wbar2 * internal->p10 / (double) (1 - zbar2 * internal->p10);
    double mu2 = -(fv2) * log(p1_2 * internal->p2);
    double surv2 = exp(-(mu2) * internal->delayMos);
    double lag_incv2 = ince2 * surv2;
    incv2 = lag_incv2;
  }
  double Ph = odin_sum3(P, 0, internal->dim_P_1, 0, internal->dim_P_2, 0, internal->dim_P_3, internal->dim_P_1, internal->dim_P_12);
  double s_IRS_1 = (t < internal->ITN_IRS_on ? 1 : 1 - d_IRS_1);
  double s_IRS_2 = (t < internal->ITN_IRS_on ? 1 : 1 - d_IRS_2);
  double s_ITN_1 = (t < internal->ITN_IRS_on ? 1 : 1 - d_ITN_1 - r_ITN_1);
  double s_ITN_2 = (t < internal->ITN_IRS_on ? 1 : 1 - d_ITN_2 - r_ITN_2);
  double Sh = odin_sum3(S, 0, internal->dim_S_1, 0, internal->dim_S_2, 0, internal->dim_S_3, internal->dim_S_1, internal->dim_S_12);
  double Th = odin_sum3(T, 0, internal->dim_T_1, 0, internal->dim_T_2, 0, internal->dim_T_3, internal->dim_T_1, internal->dim_T_12);
  double theta_species2 = ((int) (t) == 0 ? internal->custom_seasonality[(int) (1) - 1] : internal->custom_seasonality[(int) (t) - 1]);
  double Uh = odin_sum3(U, 0, internal->dim_U_1, 0, internal->dim_U_2, 0, internal->dim_U_3, internal->dim_U_1, internal->dim_U_12);
  {
     int i = 1;
     internal->z1_[i - 1] = 0;
  }
  {
     int i = 2;
     internal->z1_[i - 1] = internal->bites_Bed_species1 * r_ITN_1;
  }
  {
     int i = 3;
     internal->z1_[i - 1] = internal->bites_Indoors_species1 * r_IRS_1;
  }
  {
     int i = 4;
     internal->z1_[i - 1] = internal->bites_Bed_species1 * (r_IRS_1 + (1 - r_IRS_1) * r_ITN_1) + (internal->bites_Indoors_species1 - internal->bites_Bed_species1) * r_IRS_1;
  }
  {
     int i = 1;
     internal->z2_[i - 1] = 0;
  }
  {
     int i = 2;
     internal->z2_[i - 1] = internal->bites_Bed_species2 * r_ITN_2;
  }
  {
     int i = 3;
     internal->z2_[i - 1] = internal->bites_Indoors_species2 * r_IRS_2;
  }
  {
     int i = 4;
     internal->z2_[i - 1] = internal->bites_Bed_species2 * (r_IRS_2 + (1 - r_IRS_2) * r_ITN_2) + (internal->bites_Indoors_species2 - internal->bites_Bed_species2) * r_IRS_2;
  }
  // delay block for FOI
  {
    const double t_true = t;
    const double t = t_true - internal->dE;
    double Iv1;
    double Iv2;
    double *IB;
    if (t <= internal->initial_t) {
      Iv1 = internal->initial_Iv1;
      Iv2 = internal->initial_Iv2;
      IB = internal->initial_IB;
    } else {
      lagvalue(t, internal->odin_model_2sp_use_dde, internal->delay_index_FOI, internal->dim_delay_FOI, internal->delay_state_FOI);
      Iv1 = internal->delay_state_FOI[0];
      Iv2 = internal->delay_state_FOI[1];
      IB = internal->delay_state_FOI + 2;
    }
    double IRS_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->IRS_interval))) * internal->irs_loss));
    double ITN_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->ITN_interval))) * internal->itn_loss));
    double r_IRS_1 = (t < internal->ITN_IRS_on ? 0 : internal->r_IRS0_1 * IRS_decay);
    double r_IRS_2 = (t < internal->ITN_IRS_on ? 0 : internal->r_IRS0_2 * IRS_decay);
    double d_ITN_1 = (t < internal->ITN_IRS_on ? 0 : internal->d_ITN0_1 * ITN_decay);
    double r_ITN_1 = (t < internal->ITN_IRS_on ? 0 : internal->r_ITN1 + (internal->r_ITN0_1 - internal->r_ITN1) * ITN_decay);
    double d_ITN_2 = (t < internal->ITN_IRS_on ? 0 : internal->d_ITN0_2 * ITN_decay);
    double r_ITN_2 = (t < internal->ITN_IRS_on ? 0 : internal->r_ITN2 + (internal->r_ITN0_2 - internal->r_ITN2) * ITN_decay);
    double d_IRS_1 = (t < internal->ITN_IRS_on ? 0 : internal->chi_species1 * internal->d_IRS0_1 * IRS_decay);
    double d_IRS_2 = (t < internal->ITN_IRS_on ? 0 : internal->chi_species2 * internal->d_IRS0_2 * IRS_decay);
    double s_ITN_1 = (t < internal->ITN_IRS_on ? 1 : 1 - d_ITN_1 - r_ITN_1);
    double s_ITN_2 = (t < internal->ITN_IRS_on ? 1 : 1 - d_ITN_2 - r_ITN_2);
    double s_IRS_1 = (t < internal->ITN_IRS_on ? 1 : 1 - d_IRS_1);
    double s_IRS_2 = (t < internal->ITN_IRS_on ? 1 : 1 - d_IRS_2);
    {
       int i = 1;
       internal->delay_array_z1_[i - 1] = 0;
    }
    {
       int i = 2;
       internal->delay_array_z1_[i - 1] = internal->bites_Bed_species1 * r_ITN_1;
    }
    {
       int i = 3;
       internal->delay_array_z1_[i - 1] = internal->bites_Indoors_species1 * r_IRS_1;
    }
    {
       int i = 4;
       internal->delay_array_z1_[i - 1] = internal->bites_Bed_species1 * (r_IRS_1 + (1 - r_IRS_1) * r_ITN_1) + (internal->bites_Indoors_species1 - internal->bites_Bed_species1) * r_IRS_1;
    }
    {
       int i = 1;
       internal->delay_array_z2_[i - 1] = 0;
    }
    {
       int i = 2;
       internal->delay_array_z2_[i - 1] = internal->bites_Bed_species2 * r_ITN_2;
    }
    {
       int i = 3;
       internal->delay_array_z2_[i - 1] = internal->bites_Indoors_species2 * r_IRS_2;
    }
    {
       int i = 4;
       internal->delay_array_z2_[i - 1] = internal->bites_Bed_species2 * (r_IRS_2 + (1 - r_IRS_2) * r_ITN_2) + (internal->bites_Indoors_species2 - internal->bites_Bed_species2) * r_IRS_2;
    }
    for (int i = 1; i <= internal->na; ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        for (int k = 1; k <= internal->num_int; ++k) {
          internal->delay_array_b[i - 1 + internal->dim_b_1 * (j - 1) + internal->dim_b_12 * (k - 1)] = internal->b0 * ((1 - internal->b1) / (double) (1 + pow((IB[internal->dim_IB_12 * (k - 1) + internal->dim_IB_1 * (j - 1) + i - 1] / (double) internal->IB0), internal->kB)) + internal->b1);
        }
      }
    }
    {
       int i = 1;
       internal->delay_array_w1_[i - 1] = 1;
    }
    {
       int i = 2;
       internal->delay_array_w1_[i - 1] = 1 - internal->bites_Bed_species1 + internal->bites_Bed_species1 * s_ITN_1;
    }
    {
       int i = 3;
       internal->delay_array_w1_[i - 1] = 1 - internal->bites_Indoors_species1 + internal->bites_Indoors_species1 * (1 - r_IRS_1) * s_IRS_1;
    }
    {
       int i = 4;
       internal->delay_array_w1_[i - 1] = 1 - internal->bites_Indoors_species1 + internal->bites_Bed_species1 * (1 - r_IRS_1) * s_ITN_1 * s_IRS_1 + (internal->bites_Indoors_species1 - internal->bites_Bed_species1) * (1 - r_IRS_1) * s_IRS_1;
    }
    {
       int i = 1;
       internal->delay_array_w2_[i - 1] = 1;
    }
    {
       int i = 2;
       internal->delay_array_w2_[i - 1] = 1 - internal->bites_Bed_species2 + internal->bites_Bed_species2 * s_ITN_2;
    }
    {
       int i = 3;
       internal->delay_array_w2_[i - 1] = 1 - internal->bites_Indoors_species2 + internal->bites_Indoors_species2 * (1 - r_IRS_2) * s_IRS_2;
    }
    {
       int i = 4;
       internal->delay_array_w2_[i - 1] = 1 - internal->bites_Indoors_species2 + internal->bites_Bed_species2 * (1 - r_IRS_2) * s_ITN_2 * s_IRS_2 + (internal->bites_Indoors_species2 - internal->bites_Bed_species2) * (1 - r_IRS_2) * s_IRS_2;
    }
    for (int i = 1; i <= internal->dim_z1; ++i) {
      internal->delay_array_z1[i - 1] = internal->delay_array_z1_[i - 1];
    }
    for (int i = 1; i <= internal->dim_z2; ++i) {
      internal->delay_array_z2[i - 1] = internal->delay_array_z2_[i - 1];
    }
    {
       int i = 1;
       internal->delay_array_yy1_[i - 1] = 1;
    }
    {
       int i = 2;
       internal->delay_array_yy1_[i - 1] = internal->delay_array_w1_[1];
    }
    {
       int i = 3;
       internal->delay_array_yy1_[i - 1] = 1 - internal->bites_Indoors_species1 + internal->bites_Indoors_species1 * (1 - r_IRS_1);
    }
    {
       int i = 4;
       internal->delay_array_yy1_[i - 1] = 1 - internal->bites_Indoors_species1 + internal->bites_Bed_species1 * (1 - r_IRS_1) * s_ITN_1 + (internal->bites_Indoors_species1 - internal->bites_Bed_species1) * (1 - r_IRS_1);
    }
    {
       int i = 1;
       internal->delay_array_yy2_[i - 1] = 1;
    }
    {
       int i = 2;
       internal->delay_array_yy2_[i - 1] = internal->delay_array_w2_[1];
    }
    {
       int i = 3;
       internal->delay_array_yy2_[i - 1] = 1 - internal->bites_Indoors_species2 + internal->bites_Indoors_species2 * (1 - r_IRS_2);
    }
    {
       int i = 4;
       internal->delay_array_yy2_[i - 1] = 1 - internal->bites_Indoors_species2 + internal->bites_Bed_species2 * (1 - r_IRS_2) * s_ITN_2 + (internal->bites_Indoors_species2 - internal->bites_Bed_species2) * (1 - r_IRS_2);
    }
    for (int i = 1; i <= internal->dim_w1; ++i) {
      internal->delay_array_w1[i - 1] = internal->delay_array_w1_[i - 1];
    }
    for (int i = 1; i <= internal->dim_w2; ++i) {
      internal->delay_array_w2[i - 1] = internal->delay_array_w2_[i - 1];
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_zhi1[i - 1] = internal->cov[i - 1] * internal->delay_array_z1[i - 1];
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_zhi2[i - 1] = internal->cov[i - 1] * internal->delay_array_z2[i - 1];
    }
    for (int i = 1; i <= internal->dim_yy1; ++i) {
      internal->delay_array_yy1[i - 1] = internal->delay_array_yy1_[i - 1];
    }
    for (int i = 1; i <= internal->dim_yy2; ++i) {
      internal->delay_array_yy2[i - 1] = internal->delay_array_yy2_[i - 1];
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_whi1[i - 1] = internal->cov[i - 1] * internal->delay_array_w1[i - 1];
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_whi2[i - 1] = internal->cov[i - 1] * internal->delay_array_w2[i - 1];
    }
    double zh1 = (t < internal->ITN_IRS_on ? 0 : odin_sum1(internal->delay_array_zhi1, 0, internal->dim_zhi1));
    double zh2 = (t < internal->ITN_IRS_on ? 0 : odin_sum1(internal->delay_array_zhi2, 0, internal->dim_zhi2));
    double wh1 = (t < internal->ITN_IRS_on ? 1 : odin_sum1(internal->delay_array_whi1, 0, internal->dim_whi1));
    double wh2 = (t < internal->ITN_IRS_on ? 1 : odin_sum1(internal->delay_array_whi2, 0, internal->dim_whi2));
    double zbar1 = internal->Q0_species1 * zh1;
    double zbar2 = internal->Q0_species2 * zh2;
    double fv1 = 1 / (double) (internal->tau1 / (double) (1 - zbar1) + internal->tau2);
    double fv2 = 1 / (double) (internal->tau1 / (double) (1 - zbar2) + internal->tau2);
    double wbar1 = 1 - internal->Q0_species1 + internal->Q0_species1 * wh1;
    double wbar2 = 1 - internal->Q0_species2 + internal->Q0_species2 * wh2;
    double Q_1 = 1 - (1 - internal->Q0_species1) / (double) wbar1;
    double Q_2 = 1 - (1 - internal->Q0_species2) / (double) wbar2;
    double av1 = fv1 * Q_1;
    double av2 = fv2 * Q_2;
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_av_human1[i - 1] = av1 * internal->delay_array_yy1[i - 1] / (double) wh1;
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_av_human2[i - 1] = av2 * internal->delay_array_yy2[i - 1] / (double) wh2;
    }
    for (int i = 1; i <= internal->dim_EIR_species1_1; ++i) {
      for (int j = 1; j <= internal->dim_EIR_species1_2; ++j) {
        for (int k = 1; k <= internal->dim_EIR_species1_3; ++k) {
          internal->delay_array_EIR_species1[i - 1 + internal->dim_EIR_species1_1 * (j - 1) + internal->dim_EIR_species1_12 * (k - 1)] = internal->delay_array_av_human1[k - 1] * internal->rel_foi[j - 1] * internal->foi_age[i - 1] * Iv1 / (double) internal->omega;
        }
      }
    }
    for (int i = 1; i <= internal->dim_EIR_species2_1; ++i) {
      for (int j = 1; j <= internal->dim_EIR_species2_2; ++j) {
        for (int k = 1; k <= internal->dim_EIR_species2_3; ++k) {
          internal->delay_array_EIR_species2[i - 1 + internal->dim_EIR_species2_1 * (j - 1) + internal->dim_EIR_species2_12 * (k - 1)] = internal->delay_array_av_human2[k - 1] * internal->rel_foi[j - 1] * internal->foi_age[i - 1] * Iv2 / (double) internal->omega;
        }
      }
    }
    for (int i = 1; i <= internal->dim_EIR_1; ++i) {
      for (int j = 1; j <= internal->dim_EIR_2; ++j) {
        for (int k = 1; k <= internal->dim_EIR_3; ++k) {
          internal->delay_array_EIR[i - 1 + internal->dim_EIR_1 * (j - 1) + internal->dim_EIR_12 * (k - 1)] = internal->delay_array_EIR_species1[internal->dim_EIR_species1_12 * (k - 1) + internal->dim_EIR_species1_1 * (j - 1) + i - 1] + internal->delay_array_EIR_species2[internal->dim_EIR_species2_12 * (k - 1) + internal->dim_EIR_species2_1 * (j - 1) + i - 1];
        }
      }
    }
    for (int i = 1; i <= internal->na; ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        for (int k = 1; k <= internal->num_int; ++k) {
          internal->delay_array_FOI_lag[i - 1 + internal->dim_FOI_lag_1 * (j - 1) + internal->dim_FOI_lag_12 * (k - 1)] = internal->delay_array_EIR[internal->dim_EIR_12 * (k - 1) + internal->dim_EIR_1 * (j - 1) + i - 1] * ((IB[internal->dim_IB_12 * (k - 1) + internal->dim_IB_1 * (j - 1) + i - 1] == 0 ? internal->b0 : internal->delay_array_b[internal->dim_b_12 * (k - 1) + internal->dim_b_1 * (j - 1) + i - 1]));
        }
      }
    }
    for (int i = 1; i <= internal->dim_FOI_1; ++i) {
      for (int j = 1; j <= internal->dim_FOI_2; ++j) {
        for (int k = 1; k <= internal->dim_FOI_3; ++k) {
          internal->FOI[i - 1 + internal->dim_FOI_1 * (j - 1) + internal->dim_FOI_12 * (k - 1)] = internal->delay_array_FOI_lag[internal->dim_FOI_lag_12 * (k - 1) + internal->dim_FOI_lag_1 * (j - 1) + i - 1];
        }
      }
    }
  }
  // delay block for FOIv_species1
  double FOIv_species1;
  {
    const double t_true = t;
    const double t = t_true - internal->delayGam;
    double *T;
    double *D;
    double *A;
    double *U;
    double *ID;
    if (t <= internal->initial_t) {
      T = internal->initial_T;
      D = internal->initial_D;
      A = internal->initial_A;
      U = internal->initial_U;
      ID = internal->initial_ID;
    } else {
      lagvalue(t, internal->odin_model_2sp_use_dde, internal->delay_index_FOIv_species1, internal->dim_delay_FOIv_species1, internal->delay_state_FOIv_species1);
      T = internal->delay_state_FOIv_species1 + 0;
      D = internal->delay_state_FOIv_species1 + internal->dim_T;
      A = internal->delay_state_FOIv_species1 + internal->offset_FOIv_species1_A;
      U = internal->delay_state_FOIv_species1 + internal->offset_FOIv_species1_U;
      ID = internal->delay_state_FOIv_species1 + internal->offset_FOIv_species1_ID;
    }
    double IRS_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->IRS_interval))) * internal->irs_loss));
    double ITN_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->ITN_interval))) * internal->itn_loss));
    double r_IRS_1 = (t < internal->ITN_IRS_on ? 0 : internal->r_IRS0_1 * IRS_decay);
    double d_ITN_1 = (t < internal->ITN_IRS_on ? 0 : internal->d_ITN0_1 * ITN_decay);
    double r_ITN_1 = (t < internal->ITN_IRS_on ? 0 : internal->r_ITN1 + (internal->r_ITN0_1 - internal->r_ITN1) * ITN_decay);
    double d_IRS_1 = (t < internal->ITN_IRS_on ? 0 : internal->chi_species1 * internal->d_IRS0_1 * IRS_decay);
    double s_ITN_1 = (t < internal->ITN_IRS_on ? 1 : 1 - d_ITN_1 - r_ITN_1);
    double s_IRS_1 = (t < internal->ITN_IRS_on ? 1 : 1 - d_IRS_1);
    {
       int i = 1;
       internal->delay_array_z1_[i - 1] = 0;
    }
    {
       int i = 2;
       internal->delay_array_z1_[i - 1] = internal->bites_Bed_species1 * r_ITN_1;
    }
    {
       int i = 3;
       internal->delay_array_z1_[i - 1] = internal->bites_Indoors_species1 * r_IRS_1;
    }
    {
       int i = 4;
       internal->delay_array_z1_[i - 1] = internal->bites_Bed_species1 * (r_IRS_1 + (1 - r_IRS_1) * r_ITN_1) + (internal->bites_Indoors_species1 - internal->bites_Bed_species1) * r_IRS_1;
    }
    for (int i = 1; i <= internal->dim_p_det_1; ++i) {
      for (int j = 1; j <= internal->dim_p_det_2; ++j) {
        for (int k = 1; k <= internal->dim_p_det_3; ++k) {
          internal->delay_array_p_det[i - 1 + internal->dim_p_det_1 * (j - 1) + internal->dim_p_det_12 * (k - 1)] = internal->d1 + (1 - internal->d1) / (double) (1 + internal->fd[i - 1] * pow((ID[internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1] / (double) internal->ID0), internal->kD));
        }
      }
    }
    {
       int i = 1;
       internal->delay_array_w1_[i - 1] = 1;
    }
    {
       int i = 2;
       internal->delay_array_w1_[i - 1] = 1 - internal->bites_Bed_species1 + internal->bites_Bed_species1 * s_ITN_1;
    }
    {
       int i = 3;
       internal->delay_array_w1_[i - 1] = 1 - internal->bites_Indoors_species1 + internal->bites_Indoors_species1 * (1 - r_IRS_1) * s_IRS_1;
    }
    {
       int i = 4;
       internal->delay_array_w1_[i - 1] = 1 - internal->bites_Indoors_species1 + internal->bites_Bed_species1 * (1 - r_IRS_1) * s_ITN_1 * s_IRS_1 + (internal->bites_Indoors_species1 - internal->bites_Bed_species1) * (1 - r_IRS_1) * s_IRS_1;
    }
    for (int i = 1; i <= internal->dim_z1; ++i) {
      internal->delay_array_z1[i - 1] = internal->delay_array_z1_[i - 1];
    }
    for (int i = 1; i <= internal->dim_cA_1; ++i) {
      for (int j = 1; j <= internal->dim_cA_2; ++j) {
        for (int k = 1; k <= internal->dim_cA_3; ++k) {
          internal->delay_array_cA[i - 1 + internal->dim_cA_1 * (j - 1) + internal->dim_cA_12 * (k - 1)] = internal->cU + (internal->cD - internal->cU) * pow(internal->delay_array_p_det[internal->dim_p_det_12 * (k - 1) + internal->dim_p_det_1 * (j - 1) + i - 1], internal->gamma1);
        }
      }
    }
    for (int i = 1; i <= internal->dim_w1; ++i) {
      internal->delay_array_w1[i - 1] = internal->delay_array_w1_[i - 1];
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_zhi1[i - 1] = internal->cov[i - 1] * internal->delay_array_z1[i - 1];
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_whi1[i - 1] = internal->cov[i - 1] * internal->delay_array_w1[i - 1];
    }
    double zh1 = (t < internal->ITN_IRS_on ? 0 : odin_sum1(internal->delay_array_zhi1, 0, internal->dim_zhi1));
    double wh1 = (t < internal->ITN_IRS_on ? 1 : odin_sum1(internal->delay_array_whi1, 0, internal->dim_whi1));
    double zbar1 = internal->Q0_species1 * zh1;
    double fv1 = 1 / (double) (internal->tau1 / (double) (1 - zbar1) + internal->tau2);
    double wbar1 = 1 - internal->Q0_species1 + internal->Q0_species1 * wh1;
    double Q_1 = 1 - (1 - internal->Q0_species1) / (double) wbar1;
    double av1 = fv1 * Q_1;
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_av_mosq1[i - 1] = av1 * internal->delay_array_w1[i - 1] / (double) wh1;
    }
    for (int i = 1; i <= internal->na; ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        for (int k = 1; k <= internal->num_int; ++k) {
          internal->delay_array_FOIvijk_species1[i - 1 + internal->dim_FOIvijk_species1_1 * (j - 1) + internal->dim_FOIvijk_species1_12 * (k - 1)] = (internal->cT * T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] + internal->cD * D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] + internal->delay_array_cA[internal->dim_cA_12 * (k - 1) + internal->dim_cA_1 * (j - 1) + i - 1] * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] + internal->cU * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1]) * internal->rel_foi[j - 1] * internal->delay_array_av_mosq1[k - 1] * internal->foi_age[i - 1] / (double) internal->omega;
        }
      }
    }
    double lag_FOIv_species1 = odin_sum1(internal->delay_array_FOIvijk_species1, 0, internal->dim_FOIvijk_species1);
    FOIv_species1 = lag_FOIv_species1;
  }
  // delay block for FOIv_species2
  double FOIv_species2;
  {
    const double t_true = t;
    const double t = t_true - internal->delayGam;
    double *T;
    double *D;
    double *A;
    double *U;
    double *ID;
    if (t <= internal->initial_t) {
      T = internal->initial_T;
      D = internal->initial_D;
      A = internal->initial_A;
      U = internal->initial_U;
      ID = internal->initial_ID;
    } else {
      lagvalue(t, internal->odin_model_2sp_use_dde, internal->delay_index_FOIv_species2, internal->dim_delay_FOIv_species2, internal->delay_state_FOIv_species2);
      T = internal->delay_state_FOIv_species2 + 0;
      D = internal->delay_state_FOIv_species2 + internal->dim_T;
      A = internal->delay_state_FOIv_species2 + internal->offset_FOIv_species2_A;
      U = internal->delay_state_FOIv_species2 + internal->offset_FOIv_species2_U;
      ID = internal->delay_state_FOIv_species2 + internal->offset_FOIv_species2_ID;
    }
    double IRS_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->IRS_interval))) * internal->irs_loss));
    double ITN_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->ITN_interval))) * internal->itn_loss));
    double r_IRS_2 = (t < internal->ITN_IRS_on ? 0 : internal->r_IRS0_2 * IRS_decay);
    double d_ITN_2 = (t < internal->ITN_IRS_on ? 0 : internal->d_ITN0_2 * ITN_decay);
    double r_ITN_2 = (t < internal->ITN_IRS_on ? 0 : internal->r_ITN2 + (internal->r_ITN0_2 - internal->r_ITN2) * ITN_decay);
    double d_IRS_2 = (t < internal->ITN_IRS_on ? 0 : internal->chi_species2 * internal->d_IRS0_2 * IRS_decay);
    double s_ITN_2 = (t < internal->ITN_IRS_on ? 1 : 1 - d_ITN_2 - r_ITN_2);
    double s_IRS_2 = (t < internal->ITN_IRS_on ? 1 : 1 - d_IRS_2);
    {
       int i = 1;
       internal->delay_array_z2_[i - 1] = 0;
    }
    {
       int i = 2;
       internal->delay_array_z2_[i - 1] = internal->bites_Bed_species2 * r_ITN_2;
    }
    {
       int i = 3;
       internal->delay_array_z2_[i - 1] = internal->bites_Indoors_species2 * r_IRS_2;
    }
    {
       int i = 4;
       internal->delay_array_z2_[i - 1] = internal->bites_Bed_species2 * (r_IRS_2 + (1 - r_IRS_2) * r_ITN_2) + (internal->bites_Indoors_species2 - internal->bites_Bed_species2) * r_IRS_2;
    }
    for (int i = 1; i <= internal->dim_p_det_1; ++i) {
      for (int j = 1; j <= internal->dim_p_det_2; ++j) {
        for (int k = 1; k <= internal->dim_p_det_3; ++k) {
          internal->delay_array_p_det[i - 1 + internal->dim_p_det_1 * (j - 1) + internal->dim_p_det_12 * (k - 1)] = internal->d1 + (1 - internal->d1) / (double) (1 + internal->fd[i - 1] * pow((ID[internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1] / (double) internal->ID0), internal->kD));
        }
      }
    }
    {
       int i = 1;
       internal->delay_array_w2_[i - 1] = 1;
    }
    {
       int i = 2;
       internal->delay_array_w2_[i - 1] = 1 - internal->bites_Bed_species2 + internal->bites_Bed_species2 * s_ITN_2;
    }
    {
       int i = 3;
       internal->delay_array_w2_[i - 1] = 1 - internal->bites_Indoors_species2 + internal->bites_Indoors_species2 * (1 - r_IRS_2) * s_IRS_2;
    }
    {
       int i = 4;
       internal->delay_array_w2_[i - 1] = 1 - internal->bites_Indoors_species2 + internal->bites_Bed_species2 * (1 - r_IRS_2) * s_ITN_2 * s_IRS_2 + (internal->bites_Indoors_species2 - internal->bites_Bed_species2) * (1 - r_IRS_2) * s_IRS_2;
    }
    for (int i = 1; i <= internal->dim_z2; ++i) {
      internal->delay_array_z2[i - 1] = internal->delay_array_z2_[i - 1];
    }
    for (int i = 1; i <= internal->dim_cA_1; ++i) {
      for (int j = 1; j <= internal->dim_cA_2; ++j) {
        for (int k = 1; k <= internal->dim_cA_3; ++k) {
          internal->delay_array_cA[i - 1 + internal->dim_cA_1 * (j - 1) + internal->dim_cA_12 * (k - 1)] = internal->cU + (internal->cD - internal->cU) * pow(internal->delay_array_p_det[internal->dim_p_det_12 * (k - 1) + internal->dim_p_det_1 * (j - 1) + i - 1], internal->gamma1);
        }
      }
    }
    for (int i = 1; i <= internal->dim_w2; ++i) {
      internal->delay_array_w2[i - 1] = internal->delay_array_w2_[i - 1];
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_zhi2[i - 1] = internal->cov[i - 1] * internal->delay_array_z2[i - 1];
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_whi2[i - 1] = internal->cov[i - 1] * internal->delay_array_w2[i - 1];
    }
    double zh2 = (t < internal->ITN_IRS_on ? 0 : odin_sum1(internal->delay_array_zhi2, 0, internal->dim_zhi2));
    double wh2 = (t < internal->ITN_IRS_on ? 1 : odin_sum1(internal->delay_array_whi2, 0, internal->dim_whi2));
    double zbar2 = internal->Q0_species2 * zh2;
    double fv2 = 1 / (double) (internal->tau1 / (double) (1 - zbar2) + internal->tau2);
    double wbar2 = 1 - internal->Q0_species2 + internal->Q0_species2 * wh2;
    double Q_2 = 1 - (1 - internal->Q0_species2) / (double) wbar2;
    double av2 = fv2 * Q_2;
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_av_mosq2[i - 1] = av2 * internal->delay_array_w2[i - 1] / (double) wh2;
    }
    for (int i = 1; i <= internal->na; ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        for (int k = 1; k <= internal->num_int; ++k) {
          internal->delay_array_FOIvijk_species2[i - 1 + internal->dim_FOIvijk_species2_1 * (j - 1) + internal->dim_FOIvijk_species2_12 * (k - 1)] = (internal->cT * T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] + internal->cD * D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] + internal->delay_array_cA[internal->dim_cA_12 * (k - 1) + internal->dim_cA_1 * (j - 1) + i - 1] * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] + internal->cU * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1]) * internal->rel_foi[j - 1] * internal->delay_array_av_mosq2[k - 1] * internal->foi_age[i - 1] / (double) internal->omega;
        }
      }
    }
    double lag_FOIv_species2 = odin_sum1(internal->delay_array_FOIvijk_species2, 0, internal->dim_FOIvijk_species2);
    FOIv_species2 = lag_FOIv_species2;
  }
  double H = Sh + Th + Dh + Ah + Uh + Ph;
  for (int i = 1; i <= internal->dim_IC_1; ++i) {
    for (int j = 1; j <= internal->dim_IC_2; ++j) {
      for (int k = 1; k <= internal->dim_IC_3; ++k) {
        internal->IC[i - 1 + internal->dim_IC_1 * (j - 1) + internal->dim_IC_12 * (k - 1)] = ICM[internal->dim_ICM_12 * (k - 1) + internal->dim_ICM_1 * (j - 1) + i - 1] + ICA[internal->dim_ICA_12 * (k - 1) + internal->dim_ICA_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->nh; ++i) {
    for (int j = 1; j <= internal->num_int; ++j) {
      internal->init_ICM_pre[i - 1 + internal->dim_init_ICM_pre_1 * (j - 1)] = internal->PM * (ICA[internal->dim_ICA_12 * (j - 1) + internal->dim_ICA_1 * (i - 1) + internal->age20l - 1] + internal->age_20_factor * (ICA[internal->dim_ICA_12 * (j - 1) + internal->dim_ICA_1 * (i - 1) + internal->age20u - 1] - ICA[internal->dim_ICA_12 * (j - 1) + internal->dim_ICA_1 * (i - 1) + internal->age20l - 1]));
    }
  }
  {
     int i = 1;
     internal->w1_[i - 1] = 1;
  }
  {
     int i = 2;
     internal->w1_[i - 1] = 1 - internal->bites_Bed_species1 + internal->bites_Bed_species1 * s_ITN_1;
  }
  {
     int i = 3;
     internal->w1_[i - 1] = 1 - internal->bites_Indoors_species1 + internal->bites_Indoors_species1 * (1 - r_IRS_1) * s_IRS_1;
  }
  {
     int i = 4;
     internal->w1_[i - 1] = 1 - internal->bites_Indoors_species1 + internal->bites_Bed_species1 * (1 - r_IRS_1) * s_ITN_1 * s_IRS_1 + (internal->bites_Indoors_species1 - internal->bites_Bed_species1) * (1 - r_IRS_1) * s_IRS_1;
  }
  {
     int i = 1;
     internal->w2_[i - 1] = 1;
  }
  {
     int i = 2;
     internal->w2_[i - 1] = 1 - internal->bites_Bed_species2 + internal->bites_Bed_species2 * s_ITN_2;
  }
  {
     int i = 3;
     internal->w2_[i - 1] = 1 - internal->bites_Indoors_species2 + internal->bites_Indoors_species2 * (1 - r_IRS_2) * s_IRS_2;
  }
  {
     int i = 4;
     internal->w2_[i - 1] = 1 - internal->bites_Indoors_species2 + internal->bites_Bed_species2 * (1 - r_IRS_2) * s_ITN_2 * s_IRS_2 + (internal->bites_Indoors_species2 - internal->bites_Bed_species2) * (1 - r_IRS_2) * s_IRS_2;
  }
  for (int i = 1; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        internal->Y[i - 1 + internal->dim_Y_1 * (j - 1) + internal->dim_Y_12 * (k - 1)] = S[internal->dim_S_12 * (k - 1) + internal->dim_S_1 * (j - 1) + i - 1] + A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] + U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_z1; ++i) {
    internal->z1[i - 1] = internal->z1_[i - 1];
  }
  for (int i = 1; i <= internal->dim_z2; ++i) {
    internal->z2[i - 1] = internal->z2_[i - 1];
  }
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         dstatedt[internal->offset_variable_ICA + i - 1 + internal->dim_ICA_1 * (j - 1) + internal->dim_ICA_12 * (k - 1)] = internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] / (double) (internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * internal->uCA + 1) - 1 / (double) internal->dCA * ICA[internal->dim_ICA_12 * (k - 1) + internal->dim_ICA_1 * (j - 1) + i - 1] - ICA[internal->dim_ICA_12 * (k - 1) + internal->dim_ICA_1 * (j - 1) + i - 1] / (double) internal->x_I[i - 1];
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        dstatedt[internal->offset_variable_ICA + i - 1 + internal->dim_ICA_1 * (j - 1) + internal->dim_ICA_12 * (k - 1)] = internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] / (double) (internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * internal->uCA + 1) - 1 / (double) internal->dCA * ICA[internal->dim_ICA_12 * (k - 1) + internal->dim_ICA_1 * (j - 1) + i - 1] - (ICA[internal->dim_ICA_12 * (k - 1) + internal->dim_ICA_1 * (j - 1) + i - 1] - ICA[internal->dim_ICA_12 * (k - 1) + internal->dim_ICA_1 * (j - 1) + i - 1 - 1]) / (double) internal->x_I[i - 1];
      }
    }
  }
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         dstatedt[internal->offset_variable_ICM + i - 1 + internal->dim_ICM_1 * (j - 1) + internal->dim_ICM_12 * (k - 1)] = -(1) / (double) internal->dCM * ICM[internal->dim_ICM_12 * (k - 1) + internal->dim_ICM_1 * (j - 1) + i - 1] + (internal->init_ICM_pre[internal->dim_init_ICM_pre_1 * (k - 1) + j - 1] - ICM[internal->dim_ICM_12 * (k - 1) + internal->dim_ICM_1 * (j - 1) + i - 1]) / (double) internal->x_I[i - 1];
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        dstatedt[internal->offset_variable_ICM + i - 1 + internal->dim_ICM_1 * (j - 1) + internal->dim_ICM_12 * (k - 1)] = -(1) / (double) internal->dCM * ICM[internal->dim_ICM_12 * (k - 1) + internal->dim_ICM_1 * (j - 1) + i - 1] - (ICM[internal->dim_ICM_12 * (k - 1) + internal->dim_ICM_1 * (j - 1) + i - 1] - ICM[internal->dim_ICM_12 * (k - 1) + internal->dim_ICM_1 * (j - 1) + i - 1 - 1]) / (double) internal->x_I[i - 1];
      }
    }
  }
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         dstatedt[internal->offset_variable_ID + i - 1 + internal->dim_ID_1 * (j - 1) + internal->dim_ID_12 * (k - 1)] = internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] / (double) (internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * internal->uD + 1) - ID[internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1] / (double) internal->dID - ID[internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1] / (double) internal->x_I[i - 1];
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        dstatedt[internal->offset_variable_ID + i - 1 + internal->dim_ID_1 * (j - 1) + internal->dim_ID_12 * (k - 1)] = internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] / (double) (internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * internal->uD + 1) - ID[internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1] / (double) internal->dID - (ID[internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1] - ID[internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1 - 1]) / (double) internal->x_I[i - 1];
      }
    }
  }
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         dstatedt[12 + i - 1 + internal->dim_S_1 * (j - 1) + internal->dim_S_12 * (k - 1)] = -(internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1]) * S[internal->dim_S_12 * (k - 1) + internal->dim_S_1 * (j - 1) + i - 1] + internal->rP * P[internal->dim_P_12 * (k - 1) + internal->dim_P_1 * (j - 1) + i - 1] + internal->rU * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1] + internal->cov[k - 1] * internal->eta * H * internal->het_wt[j - 1] - (internal->eta + internal->age_rate[i - 1]) * S[internal->dim_S_12 * (k - 1) + internal->dim_S_1 * (j - 1) + i - 1];
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        dstatedt[12 + i - 1 + internal->dim_S_1 * (j - 1) + internal->dim_S_12 * (k - 1)] = -(internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1]) * S[internal->dim_S_12 * (k - 1) + internal->dim_S_1 * (j - 1) + i - 1] + internal->rP * P[internal->dim_P_12 * (k - 1) + internal->dim_P_1 * (j - 1) + i - 1] + internal->rU * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * S[internal->dim_S_12 * (k - 1) + internal->dim_S_1 * (j - 1) + i - 1] + internal->age_rate[i - 1 - 1] * S[internal->dim_S_12 * (k - 1) + internal->dim_S_1 * (j - 1) + i - 1 - 1];
      }
    }
  }
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         dstatedt[internal->offset_variable_U + i - 1 + internal->dim_U_1 * (j - 1) + internal->dim_U_12 * (k - 1)] = internal->rA * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] - internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1] - internal->rU * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1];
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        dstatedt[internal->offset_variable_U + i - 1 + internal->dim_U_1 * (j - 1) + internal->dim_U_12 * (k - 1)] = internal->rA * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] - internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1] - internal->rU * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1] + internal->age_rate[i - 1 - 1] * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1 - 1];
      }
    }
  }
  double ince1 = FOIv_species1 * Sv1;
  double ince2 = FOIv_species2 * Sv2;
  for (int i = 1; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        internal->phi[i - 1 + internal->dim_phi_1 * (j - 1) + internal->dim_phi_12 * (k - 1)] = internal->phi0 * ((1 - internal->phi1) / (double) (1 + pow((internal->IC[internal->dim_IC_12 * (k - 1) + internal->dim_IC_1 * (j - 1) + i - 1] / (double) internal->IC0), internal->kC)) + internal->phi1);
      }
    }
  }
  for (int i = 1; i <= internal->dim_w1; ++i) {
    internal->w1[i - 1] = internal->w1_[i - 1];
  }
  for (int i = 1; i <= internal->dim_w2; ++i) {
    internal->w2[i - 1] = internal->w2_[i - 1];
  }
  {
     int i = 1;
     internal->yy1_[i - 1] = 1;
  }
  {
     int i = 2;
     internal->yy1_[i - 1] = internal->w1_[1];
  }
  {
     int i = 3;
     internal->yy1_[i - 1] = 1 - internal->bites_Indoors_species1 + internal->bites_Indoors_species1 * (1 - r_IRS_1);
  }
  {
     int i = 4;
     internal->yy1_[i - 1] = 1 - internal->bites_Indoors_species1 + internal->bites_Bed_species1 * (1 - r_IRS_1) * s_ITN_1 + (internal->bites_Indoors_species1 - internal->bites_Bed_species1) * (1 - r_IRS_1);
  }
  {
     int i = 1;
     internal->yy2_[i - 1] = 1;
  }
  {
     int i = 2;
     internal->yy2_[i - 1] = internal->w2_[1];
  }
  {
     int i = 3;
     internal->yy2_[i - 1] = 1 - internal->bites_Indoors_species2 + internal->bites_Indoors_species2 * (1 - r_IRS_2);
  }
  {
     int i = 4;
     internal->yy2_[i - 1] = 1 - internal->bites_Indoors_species2 + internal->bites_Bed_species2 * (1 - r_IRS_2) * s_ITN_2 + (internal->bites_Indoors_species2 - internal->bites_Bed_species2) * (1 - r_IRS_2);
  }
  for (int i = 1; i <= internal->num_int; ++i) {
    internal->zhi1[i - 1] = internal->cov[i - 1] * internal->z1[i - 1];
  }
  for (int i = 1; i <= internal->num_int; ++i) {
    internal->zhi2[i - 1] = internal->cov[i - 1] * internal->z2[i - 1];
  }
  for (int i = 1; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        internal->clin_inc[i - 1 + internal->dim_clin_inc_1 * (j - 1) + internal->dim_clin_inc_12 * (k - 1)] = internal->phi[internal->dim_phi_12 * (k - 1) + internal->dim_phi_1 * (j - 1) + i - 1] * internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * internal->Y[internal->dim_Y_12 * (k - 1) + internal->dim_Y_1 * (j - 1) + i - 1];
      }
    }
  }
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         dstatedt[internal->offset_variable_A + i - 1 + internal->dim_A_1 * (j - 1) + internal->dim_A_12 * (k - 1)] = (1 - internal->phi[internal->dim_phi_12 * (k - 1) + internal->dim_phi_1 * (j - 1) + i - 1]) * internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * internal->Y[internal->dim_Y_12 * (k - 1) + internal->dim_Y_1 * (j - 1) + i - 1] - internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] + internal->rD * D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] - internal->rA * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1];
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        dstatedt[internal->offset_variable_A + i - 1 + internal->dim_A_1 * (j - 1) + internal->dim_A_12 * (k - 1)] = (1 - internal->phi[internal->dim_phi_12 * (k - 1) + internal->dim_phi_1 * (j - 1) + i - 1]) * internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * internal->Y[internal->dim_Y_12 * (k - 1) + internal->dim_Y_1 * (j - 1) + i - 1] - internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] + internal->rD * D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] - internal->rA * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] + internal->age_rate[i - 1 - 1] * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1 - 1];
      }
    }
  }
  for (int i = 1; i <= internal->num_int; ++i) {
    internal->whi1[i - 1] = internal->cov[i - 1] * internal->w1[i - 1];
  }
  for (int i = 1; i <= internal->num_int; ++i) {
    internal->whi2[i - 1] = internal->cov[i - 1] * internal->w2[i - 1];
  }
  for (int i = 1; i <= internal->dim_yy1; ++i) {
    internal->yy1[i - 1] = internal->yy1_[i - 1];
  }
  for (int i = 1; i <= internal->dim_yy2; ++i) {
    internal->yy2[i - 1] = internal->yy2_[i - 1];
  }
  double zh1 = (t < internal->ITN_IRS_on ? 0 : odin_sum1(internal->zhi1, 0, internal->dim_zhi1));
  double zh2 = (t < internal->ITN_IRS_on ? 0 : odin_sum1(internal->zhi2, 0, internal->dim_zhi2));
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         dstatedt[internal->offset_variable_D + i - 1 + internal->dim_D_1 * (j - 1) + internal->dim_D_12 * (k - 1)] = (1 - internal->ft) * internal->clin_inc[internal->dim_clin_inc_12 * (k - 1) + internal->dim_clin_inc_1 * (j - 1) + i - 1] - internal->rD * D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1];
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        dstatedt[internal->offset_variable_D + i - 1 + internal->dim_D_1 * (j - 1) + internal->dim_D_12 * (k - 1)] = (1 - internal->ft) * internal->clin_inc[internal->dim_clin_inc_12 * (k - 1) + internal->dim_clin_inc_1 * (j - 1) + i - 1] - internal->rD * D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] + internal->age_rate[i - 1 - 1] * D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1 - 1];
      }
    }
  }
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         dstatedt[internal->offset_variable_T + i - 1 + internal->dim_T_1 * (j - 1) + internal->dim_T_12 * (k - 1)] = internal->ft * internal->clin_inc[internal->dim_clin_inc_12 * (k - 1) + internal->dim_clin_inc_1 * (j - 1) + i - 1] - internal->rT * T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1];
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        dstatedt[internal->offset_variable_T + i - 1 + internal->dim_T_1 * (j - 1) + internal->dim_T_12 * (k - 1)] = internal->ft * internal->clin_inc[internal->dim_clin_inc_12 * (k - 1) + internal->dim_clin_inc_1 * (j - 1) + i - 1] - internal->rT * T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] + internal->age_rate[i - 1 - 1] * T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1 - 1];
      }
    }
  }
  double wh1 = (t < internal->ITN_IRS_on ? 1 : odin_sum1(internal->whi1, 0, internal->dim_whi1));
  double wh2 = (t < internal->ITN_IRS_on ? 1 : odin_sum1(internal->whi2, 0, internal->dim_whi2));
  double zbar1 = internal->Q0_species1 * zh1;
  double zbar2 = internal->Q0_species2 * zh2;
  double fv1 = 1 / (double) (internal->tau1 / (double) (1 - zbar1) + internal->tau2);
  double fv2 = 1 / (double) (internal->tau1 / (double) (1 - zbar2) + internal->tau2);
  double wbar1 = 1 - internal->Q0_species1 + internal->Q0_species1 * wh1;
  double wbar2 = 1 - internal->Q0_species2 + internal->Q0_species2 * wh2;
  double p1_1 = wbar1 * internal->p10 / (double) (1 - zbar1 * internal->p10);
  double p1_2 = wbar2 * internal->p10 / (double) (1 - zbar2 * internal->p10);
  double Q_1 = 1 - (1 - internal->Q0_species1) / (double) wbar1;
  double Q_2 = 1 - (1 - internal->Q0_species2) / (double) wbar2;
  double av1 = fv1 * Q_1;
  double av2 = fv2 * Q_2;
  double mu1 = -(fv1) * log(p1_1 * internal->p2);
  double mu2 = -(fv2) * log(p1_2 * internal->p2);
  for (int i = 1; i <= internal->num_int; ++i) {
    internal->av_human1[i - 1] = av1 * internal->yy1[i - 1] / (double) wh1;
  }
  for (int i = 1; i <= internal->num_int; ++i) {
    internal->av_human2[i - 1] = av2 * internal->yy2[i - 1] / (double) wh2;
  }
  dstatedt[1] = ince1 - incv1 - mu1 * Ev1;
  dstatedt[4] = ince2 - incv2 - mu2 * Ev2;
  dstatedt[2] = incv1 - mu1 * Iv1;
  dstatedt[5] = incv2 - mu2 * Iv2;
  dstatedt[0] = -(ince1) - mu1 * Sv1 + betaa1;
  dstatedt[3] = -(ince2) - mu2 * Sv2 + betaa2;
  double eov1 = internal->betaL / (double) mu1 * (exp(mu1 / (double) fv1) - 1);
  double eov2 = internal->betaL / (double) mu2 * (exp(mu2 / (double) fv2) - 1);
  double beta_larval1 = eov1 * mu1 * exp(-(mu1) / (double) fv1) / (double) (1 - exp(-(mu1) / (double) fv1));
  double beta_larval2 = eov2 * mu2 * exp(-(mu2) / (double) fv2) / (double) (1 - exp(-(mu2) / (double) fv2));
  for (int i = 1; i <= internal->dim_EIR_species1_1; ++i) {
    for (int j = 1; j <= internal->dim_EIR_species1_2; ++j) {
      for (int k = 1; k <= internal->dim_EIR_species1_3; ++k) {
        internal->EIR_species1[i - 1 + internal->dim_EIR_species1_1 * (j - 1) + internal->dim_EIR_species1_12 * (k - 1)] = internal->av_human1[k - 1] * internal->rel_foi[j - 1] * internal->foi_age[i - 1] * Iv1 / (double) internal->omega;
      }
    }
  }
  for (int i = 1; i <= internal->dim_EIR_species2_1; ++i) {
    for (int j = 1; j <= internal->dim_EIR_species2_2; ++j) {
      for (int k = 1; k <= internal->dim_EIR_species2_3; ++k) {
        internal->EIR_species2[i - 1 + internal->dim_EIR_species2_1 * (j - 1) + internal->dim_EIR_species2_12 * (k - 1)] = internal->av_human2[k - 1] * internal->rel_foi[j - 1] * internal->foi_age[i - 1] * Iv2 / (double) internal->omega;
      }
    }
  }
  for (int i = 1; i <= internal->dim_EIR_1; ++i) {
    for (int j = 1; j <= internal->dim_EIR_2; ++j) {
      for (int k = 1; k <= internal->dim_EIR_3; ++k) {
        internal->EIR[i - 1 + internal->dim_EIR_1 * (j - 1) + internal->dim_EIR_12 * (k - 1)] = internal->EIR_species1[internal->dim_EIR_species1_12 * (k - 1) + internal->dim_EIR_species1_1 * (j - 1) + i - 1] + internal->EIR_species2[internal->dim_EIR_species2_12 * (k - 1) + internal->dim_EIR_species2_1 * (j - 1) + i - 1];
      }
    }
  }
  double lambda_species1 = -(0.5) * internal->b_lambda + sqrt(0.25 * pow(internal->b_lambda, 2) + internal->gammaL * beta_larval1 * internal->muLL * internal->dEL / (double) (2 * internal->muEL * internal->mu0 * internal->dLL * (1 + internal->dPL * internal->muPL)));
  double lambda_species2 = -(0.5) * internal->b_lambda + sqrt(0.25 * pow(internal->b_lambda, 2) + internal->gammaL * beta_larval2 * internal->muLL * internal->dEL / (double) (2 * internal->muEL * internal->mu0 * internal->dLL * (1 + internal->dPL * internal->muPL)));
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         dstatedt[internal->offset_variable_IB + i - 1 + internal->dim_IB_1 * (j - 1) + internal->dim_IB_12 * (k - 1)] = internal->EIR[internal->dim_EIR_12 * (k - 1) + internal->dim_EIR_1 * (j - 1) + i - 1] / (double) (internal->EIR[internal->dim_EIR_12 * (k - 1) + internal->dim_EIR_1 * (j - 1) + i - 1] * internal->uB + 1) - IB[internal->dim_IB_12 * (k - 1) + internal->dim_IB_1 * (j - 1) + i - 1] / (double) internal->dB - IB[internal->dim_IB_12 * (k - 1) + internal->dim_IB_1 * (j - 1) + i - 1] / (double) internal->x_I[i - 1];
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        dstatedt[internal->offset_variable_IB + i - 1 + internal->dim_IB_1 * (j - 1) + internal->dim_IB_12 * (k - 1)] = internal->EIR[internal->dim_EIR_12 * (k - 1) + internal->dim_EIR_1 * (j - 1) + i - 1] / (double) (internal->EIR[internal->dim_EIR_12 * (k - 1) + internal->dim_EIR_1 * (j - 1) + i - 1] * internal->uB + 1) - IB[internal->dim_IB_12 * (k - 1) + internal->dim_IB_1 * (j - 1) + i - 1] / (double) internal->dB - (IB[internal->dim_IB_12 * (k - 1) + internal->dim_IB_1 * (j - 1) + i - 1] - IB[internal->dim_IB_12 * (k - 1) + internal->dim_IB_1 * (j - 1) + i - 1 - 1]) / (double) internal->x_I[i - 1];
      }
    }
  }
  double K0_species1 = 2 * internal->mv0 * internal->dLL * internal->mu0 * (1 + internal->dPL * internal->muPL) * internal->gammaL * (lambda_species1 + 1) / (double) (lambda_species1 / (double) (internal->muLL * internal->dEL) - 1 / (double) (internal->muLL * internal->dLL) - 1);
  double K0_species2 = ((int) (t) == 0 ? 2 * internal->density_vec[(int) (1) - 1] * internal->dLL * internal->mu0 * (1 + internal->dPL * internal->muPL) * internal->gammaL * (lambda_species2 + 1) / (double) (lambda_species2 / (double) (internal->muLL * internal->dEL) - 1 / (double) (internal->muLL * internal->dLL) - 1) : 2 * internal->density_vec[(int) (t) - 1] * internal->dLL * internal->mu0 * (1 + internal->dPL * internal->muPL) * internal->gammaL * (lambda_species2 + 1) / (double) (lambda_species2 / (double) (internal->muLL * internal->dEL) - 1 / (double) (internal->muLL * internal->dLL) - 1));
  double KL_species1 = K0_species1 * theta_species1;
  double KL_species2 = K0_species2 * theta_species2;
  dstatedt[8] = beta_larval1 * mv1 - internal->muEL * (1 + (EL1 + LL1) / (double) KL_species1) * EL1 - EL1 / (double) internal->dEL;
  dstatedt[11] = beta_larval2 * mv2 - internal->muEL * (1 + (EL2 + LL2) / (double) KL_species2) * EL2 - EL2 / (double) internal->dEL;
  dstatedt[7] = EL1 / (double) internal->dEL - internal->muLL * (1 + internal->gammaL * (EL1 + LL1) / (double) KL_species1) * LL1 - LL1 / (double) internal->dLL;
  dstatedt[10] = EL2 / (double) internal->dEL - internal->muLL * (1 + internal->gammaL * (EL2 + LL2) / (double) KL_species2) * LL2 - LL2 / (double) internal->dLL;
  if (output) {
    double Iv = Iv1 + Iv2;
    output[1] = Iv1;
    output[2] = Iv2;
    output[3] = internal->omega;
    double mv = mv1 + mv2;
    output[6] = Iv;
    output[24] = mv1;
    output[25] = mv2;
    output[4] = theta_species1;
    double sp_rate_species1 = Iv1 / (double) mv1;
    double sp_rate_species2 = Iv2 / (double) mv2;
    output[12] = odin_sum3(A, 0, internal->dim_A_1, 0, internal->dim_A_2, 0, internal->dim_A_3, internal->dim_A_1, internal->dim_A_12);
    output[34] = d_IRS_1;
    output[37] = d_IRS_2;
    output[28] = d_ITN_1;
    output[31] = d_ITN_2;
    output[11] = odin_sum3(D, 0, internal->dim_D_1, 0, internal->dim_D_2, 0, internal->dim_D_3, internal->dim_D_1, internal->dim_D_12);
    output[23] = mv;
    output[14] = odin_sum3(P, 0, internal->dim_P_1, 0, internal->dim_P_2, 0, internal->dim_P_3, internal->dim_P_1, internal->dim_P_12);
    output[35] = r_IRS_1;
    output[38] = r_IRS_2;
    output[29] = r_ITN_1;
    output[32] = r_ITN_2;
    output[9] = odin_sum3(S, 0, internal->dim_S_1, 0, internal->dim_S_2, 0, internal->dim_S_3, internal->dim_S_1, internal->dim_S_12);
    output[7] = sp_rate_species1;
    output[8] = sp_rate_species2;
    output[10] = odin_sum3(T, 0, internal->dim_T_1, 0, internal->dim_T_2, 0, internal->dim_T_3, internal->dim_T_1, internal->dim_T_12);
    output[13] = odin_sum3(U, 0, internal->dim_U_1, 0, internal->dim_U_2, 0, internal->dim_U_3, internal->dim_U_1, internal->dim_U_12);
    memcpy(output + 56, internal->cov, internal->dim_cov * sizeof(double));
    output[36] = s_IRS_1;
    output[39] = s_IRS_2;
    output[30] = s_ITN_1;
    output[33] = s_ITN_2;
    output[5] = theta_species2;
    for (int i = 1; i <= internal->dim_p_det_1; ++i) {
      for (int j = 1; j <= internal->dim_p_det_2; ++j) {
        for (int k = 1; k <= internal->dim_p_det_3; ++k) {
          internal->p_det[i - 1 + internal->dim_p_det_1 * (j - 1) + internal->dim_p_det_12 * (k - 1)] = internal->d1 + (1 - internal->d1) / (double) (1 + internal->fd[i - 1] * pow((ID[internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1] / (double) internal->ID0), internal->kD));
        }
      }
    }
    output[0] = H;
    output[54] = FOIv_species1;
    output[55] = FOIv_species2;
    for (int i = 1; i <= internal->age05; ++i) {
      for (int j = 1; j <= internal->dim_prev0to5_2; ++j) {
        for (int k = 1; k <= internal->dim_prev0to5_3; ++k) {
          internal->prev0to5[i - 1 + internal->dim_prev0to5_1 * (j - 1) + internal->dim_prev0to5_12 * (k - 1)] = T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] + D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] + A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] * internal->p_det[internal->dim_p_det_12 * (k - 1) + internal->dim_p_det_1 * (j - 1) + i - 1];
        }
      }
    }
    for (int i = 1; i <= internal->age59; ++i) {
      for (int j = 1; j <= internal->dim_prev0to59_2; ++j) {
        for (int k = 1; k <= internal->dim_prev0to59_3; ++k) {
          internal->prev0to59[i - 1 + internal->dim_prev0to59_1 * (j - 1) + internal->dim_prev0to59_12 * (k - 1)] = T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] + D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] + A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] * internal->p_det[internal->dim_p_det_12 * (k - 1) + internal->dim_p_det_1 * (j - 1) + i - 1];
        }
      }
    }
    output[15] = odin_sum3(internal->prev0to59, 0, internal->dim_prev0to59_1, 0, internal->dim_prev0to59_2, 0, internal->dim_prev0to59_3, internal->dim_prev0to59_1, internal->dim_prev0to59_12) / (double) odin_sum1(internal->den, 0, internal->age59);
    output[16] = odin_sum3(internal->prev0to5, 0, internal->dim_prev0to5_1, 0, internal->dim_prev0to5_2, 0, internal->dim_prev0to5_3, internal->dim_prev0to5_1, internal->dim_prev0to5_12) / (double) odin_sum1(internal->den, 0, internal->age05);
    for (int i = 1; i <= internal->age05; ++i) {
      for (int j = 1; j <= internal->dim_clin_inc0to5_2; ++j) {
        for (int k = 1; k <= internal->dim_clin_inc0to5_3; ++k) {
          internal->clin_inc0to5[i - 1 + internal->dim_clin_inc0to5_1 * (j - 1) + internal->dim_clin_inc0to5_12 * (k - 1)] = internal->clin_inc[internal->dim_clin_inc_12 * (k - 1) + internal->dim_clin_inc_1 * (j - 1) + i - 1];
        }
      }
    }
    output[18] = odin_sum3(internal->clin_inc, 0, internal->dim_clin_inc_1, 0, internal->dim_clin_inc_2, 0, internal->dim_clin_inc_3, internal->dim_clin_inc_1, internal->dim_clin_inc_12);
    output[17] = odin_sum1(internal->clin_inc0to5, 0, internal->dim_clin_inc0to5) / (double) odin_sum1(internal->den, 0, internal->age05);
    output[26] = wh1;
    output[27] = wh2;
    output[44] = zbar1;
    output[45] = zbar2;
    output[42] = wbar1;
    output[43] = wbar2;
    output[40] = p1_1;
    output[41] = p1_2;
    output[46] = Q_1;
    output[47] = Q_2;
    output[48] = av1;
    output[49] = av2;
    output[19] = mu1;
    output[20] = mu2;
    output[21] = beta_larval1;
    output[22] = beta_larval2;
    memcpy(output + internal->offset_output_EIR_species1, internal->EIR_species1, internal->dim_EIR_species1 * sizeof(double));
    memcpy(output + internal->offset_output_EIR_species2, internal->EIR_species2, internal->dim_EIR_species2 * sizeof(double));
    memcpy(output + internal->offset_output_EIR, internal->EIR, internal->dim_EIR * sizeof(double));
    output[50] = K0_species1;
    output[51] = K0_species2;
    output[52] = KL_species1;
    output[53] = KL_species2;
  }
}
void odin_model_2sp_rhs_dde(size_t neq, double t, double * state, double * dstatedt, void * internal) {
  odin_model_2sp_rhs((odin_model_2sp_internal*)internal, t, state, dstatedt, NULL);
}
void odin_model_2sp_rhs_desolve(int * neq, double * t, double * state, double * dstatedt, double * output, int * np) {
  odin_model_2sp_rhs(odin_model_2sp_internal_ds, *t, state, dstatedt, output);
}
void odin_model_2sp_output_dde(size_t n_eq, double t, double * state, size_t n_output, double * output, void * internal_p) {
  odin_model_2sp_internal *internal = (odin_model_2sp_internal*) internal_p;
  double * S = state + 12;
  double * T = state + internal->offset_variable_T;
  double * D = state + internal->offset_variable_D;
  double * A = state + internal->offset_variable_A;
  double * U = state + internal->offset_variable_U;
  double * P = state + internal->offset_variable_P;
  double * ICM = state + internal->offset_variable_ICM;
  double * ICA = state + internal->offset_variable_ICA;
  double * ID = state + internal->offset_variable_ID;
  double Sv1 = state[0];
  double Ev1 = state[1];
  double Iv1 = state[2];
  double Sv2 = state[3];
  double Ev2 = state[4];
  double Iv2 = state[5];
  double IRS_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->IRS_interval))) * internal->irs_loss));
  double ITN_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->ITN_interval))) * internal->itn_loss));
  double Iv = Iv1 + Iv2;
  double mv1 = Sv1 + Ev1 + Iv1;
  double mv2 = Sv2 + Ev2 + Iv2;
  output[1] = Iv1;
  output[2] = Iv2;
  output[3] = internal->omega;
  double theta_species1 = (internal->ssa0 == 0 && internal->ssa1 == 0 && internal->ssa2 == 0 && internal->ssb1 == 0 && internal->ssb2 == 0 && internal->ssb3 == 0 && internal->theta_c == 0 ? 1 : fmax((internal->ssa0 + internal->ssa1 * cos(2 * internal->pi * t / (double) 365) + internal->ssa2 * cos(2 * 2 * internal->pi * t / (double) 365) + internal->ssa3 * cos(3 * 2 * internal->pi * t / (double) 365) + internal->ssb1 * sin(2 * internal->pi * t / (double) 365) + internal->ssb2 * sin(2 * 2 * internal->pi * t / (double) 365) + internal->ssb3 * sin(3 * 2 * internal->pi * t / (double) 365)) / (double) internal->theta_c, 0.001));
  double d_IRS_1 = (t < internal->ITN_IRS_on ? 0 : internal->chi_species1 * internal->d_IRS0_1 * IRS_decay);
  double d_IRS_2 = (t < internal->ITN_IRS_on ? 0 : internal->chi_species2 * internal->d_IRS0_2 * IRS_decay);
  double d_ITN_1 = (t < internal->ITN_IRS_on ? 0 : internal->d_ITN0_1 * ITN_decay);
  double d_ITN_2 = (t < internal->ITN_IRS_on ? 0 : internal->d_ITN0_2 * ITN_decay);
  double mv = mv1 + mv2;
  output[6] = Iv;
  output[24] = mv1;
  output[25] = mv2;
  output[4] = theta_species1;
  double r_IRS_1 = (t < internal->ITN_IRS_on ? 0 : internal->r_IRS0_1 * IRS_decay);
  double r_IRS_2 = (t < internal->ITN_IRS_on ? 0 : internal->r_IRS0_2 * IRS_decay);
  double r_ITN_1 = (t < internal->ITN_IRS_on ? 0 : internal->r_ITN1 + (internal->r_ITN0_1 - internal->r_ITN1) * ITN_decay);
  double r_ITN_2 = (t < internal->ITN_IRS_on ? 0 : internal->r_ITN2 + (internal->r_ITN0_2 - internal->r_ITN2) * ITN_decay);
  double sp_rate_species1 = Iv1 / (double) mv1;
  double sp_rate_species2 = Iv2 / (double) mv2;
  double Ah = odin_sum3(A, 0, internal->dim_A_1, 0, internal->dim_A_2, 0, internal->dim_A_3, internal->dim_A_1, internal->dim_A_12);
  double Dh = odin_sum3(D, 0, internal->dim_D_1, 0, internal->dim_D_2, 0, internal->dim_D_3, internal->dim_D_1, internal->dim_D_12);
  output[12] = odin_sum3(A, 0, internal->dim_A_1, 0, internal->dim_A_2, 0, internal->dim_A_3, internal->dim_A_1, internal->dim_A_12);
  output[34] = d_IRS_1;
  output[37] = d_IRS_2;
  output[28] = d_ITN_1;
  output[31] = d_ITN_2;
  output[11] = odin_sum3(D, 0, internal->dim_D_1, 0, internal->dim_D_2, 0, internal->dim_D_3, internal->dim_D_1, internal->dim_D_12);
  output[23] = mv;
  output[14] = odin_sum3(P, 0, internal->dim_P_1, 0, internal->dim_P_2, 0, internal->dim_P_3, internal->dim_P_1, internal->dim_P_12);
  output[35] = r_IRS_1;
  output[38] = r_IRS_2;
  output[29] = r_ITN_1;
  output[32] = r_ITN_2;
  output[9] = odin_sum3(S, 0, internal->dim_S_1, 0, internal->dim_S_2, 0, internal->dim_S_3, internal->dim_S_1, internal->dim_S_12);
  output[7] = sp_rate_species1;
  output[8] = sp_rate_species2;
  output[10] = odin_sum3(T, 0, internal->dim_T_1, 0, internal->dim_T_2, 0, internal->dim_T_3, internal->dim_T_1, internal->dim_T_12);
  output[13] = odin_sum3(U, 0, internal->dim_U_1, 0, internal->dim_U_2, 0, internal->dim_U_3, internal->dim_U_1, internal->dim_U_12);
  double Ph = odin_sum3(P, 0, internal->dim_P_1, 0, internal->dim_P_2, 0, internal->dim_P_3, internal->dim_P_1, internal->dim_P_12);
  double s_IRS_1 = (t < internal->ITN_IRS_on ? 1 : 1 - d_IRS_1);
  double s_IRS_2 = (t < internal->ITN_IRS_on ? 1 : 1 - d_IRS_2);
  double s_ITN_1 = (t < internal->ITN_IRS_on ? 1 : 1 - d_ITN_1 - r_ITN_1);
  double s_ITN_2 = (t < internal->ITN_IRS_on ? 1 : 1 - d_ITN_2 - r_ITN_2);
  double Sh = odin_sum3(S, 0, internal->dim_S_1, 0, internal->dim_S_2, 0, internal->dim_S_3, internal->dim_S_1, internal->dim_S_12);
  double Th = odin_sum3(T, 0, internal->dim_T_1, 0, internal->dim_T_2, 0, internal->dim_T_3, internal->dim_T_1, internal->dim_T_12);
  double theta_species2 = ((int) (t) == 0 ? internal->custom_seasonality[(int) (1) - 1] : internal->custom_seasonality[(int) (t) - 1]);
  double Uh = odin_sum3(U, 0, internal->dim_U_1, 0, internal->dim_U_2, 0, internal->dim_U_3, internal->dim_U_1, internal->dim_U_12);
  {
     int i = 1;
     internal->z1_[i - 1] = 0;
  }
  {
     int i = 2;
     internal->z1_[i - 1] = internal->bites_Bed_species1 * r_ITN_1;
  }
  {
     int i = 3;
     internal->z1_[i - 1] = internal->bites_Indoors_species1 * r_IRS_1;
  }
  {
     int i = 4;
     internal->z1_[i - 1] = internal->bites_Bed_species1 * (r_IRS_1 + (1 - r_IRS_1) * r_ITN_1) + (internal->bites_Indoors_species1 - internal->bites_Bed_species1) * r_IRS_1;
  }
  {
     int i = 1;
     internal->z2_[i - 1] = 0;
  }
  {
     int i = 2;
     internal->z2_[i - 1] = internal->bites_Bed_species2 * r_ITN_2;
  }
  {
     int i = 3;
     internal->z2_[i - 1] = internal->bites_Indoors_species2 * r_IRS_2;
  }
  {
     int i = 4;
     internal->z2_[i - 1] = internal->bites_Bed_species2 * (r_IRS_2 + (1 - r_IRS_2) * r_ITN_2) + (internal->bites_Indoors_species2 - internal->bites_Bed_species2) * r_IRS_2;
  }
  // delay block for FOI
  {
    const double t_true = t;
    const double t = t_true - internal->dE;
    double Iv1;
    double Iv2;
    double *IB;
    if (t <= internal->initial_t) {
      Iv1 = internal->initial_Iv1;
      Iv2 = internal->initial_Iv2;
      IB = internal->initial_IB;
    } else {
      lagvalue(t, internal->odin_model_2sp_use_dde, internal->delay_index_FOI, internal->dim_delay_FOI, internal->delay_state_FOI);
      Iv1 = internal->delay_state_FOI[0];
      Iv2 = internal->delay_state_FOI[1];
      IB = internal->delay_state_FOI + 2;
    }
    double IRS_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->IRS_interval))) * internal->irs_loss));
    double ITN_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->ITN_interval))) * internal->itn_loss));
    double r_IRS_1 = (t < internal->ITN_IRS_on ? 0 : internal->r_IRS0_1 * IRS_decay);
    double r_IRS_2 = (t < internal->ITN_IRS_on ? 0 : internal->r_IRS0_2 * IRS_decay);
    double d_ITN_1 = (t < internal->ITN_IRS_on ? 0 : internal->d_ITN0_1 * ITN_decay);
    double r_ITN_1 = (t < internal->ITN_IRS_on ? 0 : internal->r_ITN1 + (internal->r_ITN0_1 - internal->r_ITN1) * ITN_decay);
    double d_ITN_2 = (t < internal->ITN_IRS_on ? 0 : internal->d_ITN0_2 * ITN_decay);
    double r_ITN_2 = (t < internal->ITN_IRS_on ? 0 : internal->r_ITN2 + (internal->r_ITN0_2 - internal->r_ITN2) * ITN_decay);
    double d_IRS_1 = (t < internal->ITN_IRS_on ? 0 : internal->chi_species1 * internal->d_IRS0_1 * IRS_decay);
    double d_IRS_2 = (t < internal->ITN_IRS_on ? 0 : internal->chi_species2 * internal->d_IRS0_2 * IRS_decay);
    double s_ITN_1 = (t < internal->ITN_IRS_on ? 1 : 1 - d_ITN_1 - r_ITN_1);
    double s_ITN_2 = (t < internal->ITN_IRS_on ? 1 : 1 - d_ITN_2 - r_ITN_2);
    double s_IRS_1 = (t < internal->ITN_IRS_on ? 1 : 1 - d_IRS_1);
    double s_IRS_2 = (t < internal->ITN_IRS_on ? 1 : 1 - d_IRS_2);
    {
       int i = 1;
       internal->delay_array_z1_[i - 1] = 0;
    }
    {
       int i = 2;
       internal->delay_array_z1_[i - 1] = internal->bites_Bed_species1 * r_ITN_1;
    }
    {
       int i = 3;
       internal->delay_array_z1_[i - 1] = internal->bites_Indoors_species1 * r_IRS_1;
    }
    {
       int i = 4;
       internal->delay_array_z1_[i - 1] = internal->bites_Bed_species1 * (r_IRS_1 + (1 - r_IRS_1) * r_ITN_1) + (internal->bites_Indoors_species1 - internal->bites_Bed_species1) * r_IRS_1;
    }
    {
       int i = 1;
       internal->delay_array_z2_[i - 1] = 0;
    }
    {
       int i = 2;
       internal->delay_array_z2_[i - 1] = internal->bites_Bed_species2 * r_ITN_2;
    }
    {
       int i = 3;
       internal->delay_array_z2_[i - 1] = internal->bites_Indoors_species2 * r_IRS_2;
    }
    {
       int i = 4;
       internal->delay_array_z2_[i - 1] = internal->bites_Bed_species2 * (r_IRS_2 + (1 - r_IRS_2) * r_ITN_2) + (internal->bites_Indoors_species2 - internal->bites_Bed_species2) * r_IRS_2;
    }
    for (int i = 1; i <= internal->na; ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        for (int k = 1; k <= internal->num_int; ++k) {
          internal->delay_array_b[i - 1 + internal->dim_b_1 * (j - 1) + internal->dim_b_12 * (k - 1)] = internal->b0 * ((1 - internal->b1) / (double) (1 + pow((IB[internal->dim_IB_12 * (k - 1) + internal->dim_IB_1 * (j - 1) + i - 1] / (double) internal->IB0), internal->kB)) + internal->b1);
        }
      }
    }
    {
       int i = 1;
       internal->delay_array_w1_[i - 1] = 1;
    }
    {
       int i = 2;
       internal->delay_array_w1_[i - 1] = 1 - internal->bites_Bed_species1 + internal->bites_Bed_species1 * s_ITN_1;
    }
    {
       int i = 3;
       internal->delay_array_w1_[i - 1] = 1 - internal->bites_Indoors_species1 + internal->bites_Indoors_species1 * (1 - r_IRS_1) * s_IRS_1;
    }
    {
       int i = 4;
       internal->delay_array_w1_[i - 1] = 1 - internal->bites_Indoors_species1 + internal->bites_Bed_species1 * (1 - r_IRS_1) * s_ITN_1 * s_IRS_1 + (internal->bites_Indoors_species1 - internal->bites_Bed_species1) * (1 - r_IRS_1) * s_IRS_1;
    }
    {
       int i = 1;
       internal->delay_array_w2_[i - 1] = 1;
    }
    {
       int i = 2;
       internal->delay_array_w2_[i - 1] = 1 - internal->bites_Bed_species2 + internal->bites_Bed_species2 * s_ITN_2;
    }
    {
       int i = 3;
       internal->delay_array_w2_[i - 1] = 1 - internal->bites_Indoors_species2 + internal->bites_Indoors_species2 * (1 - r_IRS_2) * s_IRS_2;
    }
    {
       int i = 4;
       internal->delay_array_w2_[i - 1] = 1 - internal->bites_Indoors_species2 + internal->bites_Bed_species2 * (1 - r_IRS_2) * s_ITN_2 * s_IRS_2 + (internal->bites_Indoors_species2 - internal->bites_Bed_species2) * (1 - r_IRS_2) * s_IRS_2;
    }
    for (int i = 1; i <= internal->dim_z1; ++i) {
      internal->delay_array_z1[i - 1] = internal->delay_array_z1_[i - 1];
    }
    for (int i = 1; i <= internal->dim_z2; ++i) {
      internal->delay_array_z2[i - 1] = internal->delay_array_z2_[i - 1];
    }
    {
       int i = 1;
       internal->delay_array_yy1_[i - 1] = 1;
    }
    {
       int i = 2;
       internal->delay_array_yy1_[i - 1] = internal->delay_array_w1_[1];
    }
    {
       int i = 3;
       internal->delay_array_yy1_[i - 1] = 1 - internal->bites_Indoors_species1 + internal->bites_Indoors_species1 * (1 - r_IRS_1);
    }
    {
       int i = 4;
       internal->delay_array_yy1_[i - 1] = 1 - internal->bites_Indoors_species1 + internal->bites_Bed_species1 * (1 - r_IRS_1) * s_ITN_1 + (internal->bites_Indoors_species1 - internal->bites_Bed_species1) * (1 - r_IRS_1);
    }
    {
       int i = 1;
       internal->delay_array_yy2_[i - 1] = 1;
    }
    {
       int i = 2;
       internal->delay_array_yy2_[i - 1] = internal->delay_array_w2_[1];
    }
    {
       int i = 3;
       internal->delay_array_yy2_[i - 1] = 1 - internal->bites_Indoors_species2 + internal->bites_Indoors_species2 * (1 - r_IRS_2);
    }
    {
       int i = 4;
       internal->delay_array_yy2_[i - 1] = 1 - internal->bites_Indoors_species2 + internal->bites_Bed_species2 * (1 - r_IRS_2) * s_ITN_2 + (internal->bites_Indoors_species2 - internal->bites_Bed_species2) * (1 - r_IRS_2);
    }
    for (int i = 1; i <= internal->dim_w1; ++i) {
      internal->delay_array_w1[i - 1] = internal->delay_array_w1_[i - 1];
    }
    for (int i = 1; i <= internal->dim_w2; ++i) {
      internal->delay_array_w2[i - 1] = internal->delay_array_w2_[i - 1];
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_zhi1[i - 1] = internal->cov[i - 1] * internal->delay_array_z1[i - 1];
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_zhi2[i - 1] = internal->cov[i - 1] * internal->delay_array_z2[i - 1];
    }
    for (int i = 1; i <= internal->dim_yy1; ++i) {
      internal->delay_array_yy1[i - 1] = internal->delay_array_yy1_[i - 1];
    }
    for (int i = 1; i <= internal->dim_yy2; ++i) {
      internal->delay_array_yy2[i - 1] = internal->delay_array_yy2_[i - 1];
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_whi1[i - 1] = internal->cov[i - 1] * internal->delay_array_w1[i - 1];
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_whi2[i - 1] = internal->cov[i - 1] * internal->delay_array_w2[i - 1];
    }
    double zh1 = (t < internal->ITN_IRS_on ? 0 : odin_sum1(internal->delay_array_zhi1, 0, internal->dim_zhi1));
    double zh2 = (t < internal->ITN_IRS_on ? 0 : odin_sum1(internal->delay_array_zhi2, 0, internal->dim_zhi2));
    double wh1 = (t < internal->ITN_IRS_on ? 1 : odin_sum1(internal->delay_array_whi1, 0, internal->dim_whi1));
    double wh2 = (t < internal->ITN_IRS_on ? 1 : odin_sum1(internal->delay_array_whi2, 0, internal->dim_whi2));
    double zbar1 = internal->Q0_species1 * zh1;
    double zbar2 = internal->Q0_species2 * zh2;
    double fv1 = 1 / (double) (internal->tau1 / (double) (1 - zbar1) + internal->tau2);
    double fv2 = 1 / (double) (internal->tau1 / (double) (1 - zbar2) + internal->tau2);
    double wbar1 = 1 - internal->Q0_species1 + internal->Q0_species1 * wh1;
    double wbar2 = 1 - internal->Q0_species2 + internal->Q0_species2 * wh2;
    double Q_1 = 1 - (1 - internal->Q0_species1) / (double) wbar1;
    double Q_2 = 1 - (1 - internal->Q0_species2) / (double) wbar2;
    double av1 = fv1 * Q_1;
    double av2 = fv2 * Q_2;
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_av_human1[i - 1] = av1 * internal->delay_array_yy1[i - 1] / (double) wh1;
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_av_human2[i - 1] = av2 * internal->delay_array_yy2[i - 1] / (double) wh2;
    }
    for (int i = 1; i <= internal->dim_EIR_species1_1; ++i) {
      for (int j = 1; j <= internal->dim_EIR_species1_2; ++j) {
        for (int k = 1; k <= internal->dim_EIR_species1_3; ++k) {
          internal->delay_array_EIR_species1[i - 1 + internal->dim_EIR_species1_1 * (j - 1) + internal->dim_EIR_species1_12 * (k - 1)] = internal->delay_array_av_human1[k - 1] * internal->rel_foi[j - 1] * internal->foi_age[i - 1] * Iv1 / (double) internal->omega;
        }
      }
    }
    for (int i = 1; i <= internal->dim_EIR_species2_1; ++i) {
      for (int j = 1; j <= internal->dim_EIR_species2_2; ++j) {
        for (int k = 1; k <= internal->dim_EIR_species2_3; ++k) {
          internal->delay_array_EIR_species2[i - 1 + internal->dim_EIR_species2_1 * (j - 1) + internal->dim_EIR_species2_12 * (k - 1)] = internal->delay_array_av_human2[k - 1] * internal->rel_foi[j - 1] * internal->foi_age[i - 1] * Iv2 / (double) internal->omega;
        }
      }
    }
    for (int i = 1; i <= internal->dim_EIR_1; ++i) {
      for (int j = 1; j <= internal->dim_EIR_2; ++j) {
        for (int k = 1; k <= internal->dim_EIR_3; ++k) {
          internal->delay_array_EIR[i - 1 + internal->dim_EIR_1 * (j - 1) + internal->dim_EIR_12 * (k - 1)] = internal->delay_array_EIR_species1[internal->dim_EIR_species1_12 * (k - 1) + internal->dim_EIR_species1_1 * (j - 1) + i - 1] + internal->delay_array_EIR_species2[internal->dim_EIR_species2_12 * (k - 1) + internal->dim_EIR_species2_1 * (j - 1) + i - 1];
        }
      }
    }
    for (int i = 1; i <= internal->na; ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        for (int k = 1; k <= internal->num_int; ++k) {
          internal->delay_array_FOI_lag[i - 1 + internal->dim_FOI_lag_1 * (j - 1) + internal->dim_FOI_lag_12 * (k - 1)] = internal->delay_array_EIR[internal->dim_EIR_12 * (k - 1) + internal->dim_EIR_1 * (j - 1) + i - 1] * ((IB[internal->dim_IB_12 * (k - 1) + internal->dim_IB_1 * (j - 1) + i - 1] == 0 ? internal->b0 : internal->delay_array_b[internal->dim_b_12 * (k - 1) + internal->dim_b_1 * (j - 1) + i - 1]));
        }
      }
    }
    for (int i = 1; i <= internal->dim_FOI_1; ++i) {
      for (int j = 1; j <= internal->dim_FOI_2; ++j) {
        for (int k = 1; k <= internal->dim_FOI_3; ++k) {
          internal->FOI[i - 1 + internal->dim_FOI_1 * (j - 1) + internal->dim_FOI_12 * (k - 1)] = internal->delay_array_FOI_lag[internal->dim_FOI_lag_12 * (k - 1) + internal->dim_FOI_lag_1 * (j - 1) + i - 1];
        }
      }
    }
  }
  // delay block for FOIv_species1
  double FOIv_species1;
  {
    const double t_true = t;
    const double t = t_true - internal->delayGam;
    double *T;
    double *D;
    double *A;
    double *U;
    double *ID;
    if (t <= internal->initial_t) {
      T = internal->initial_T;
      D = internal->initial_D;
      A = internal->initial_A;
      U = internal->initial_U;
      ID = internal->initial_ID;
    } else {
      lagvalue(t, internal->odin_model_2sp_use_dde, internal->delay_index_FOIv_species1, internal->dim_delay_FOIv_species1, internal->delay_state_FOIv_species1);
      T = internal->delay_state_FOIv_species1 + 0;
      D = internal->delay_state_FOIv_species1 + internal->dim_T;
      A = internal->delay_state_FOIv_species1 + internal->offset_FOIv_species1_A;
      U = internal->delay_state_FOIv_species1 + internal->offset_FOIv_species1_U;
      ID = internal->delay_state_FOIv_species1 + internal->offset_FOIv_species1_ID;
    }
    double IRS_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->IRS_interval))) * internal->irs_loss));
    double ITN_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->ITN_interval))) * internal->itn_loss));
    double r_IRS_1 = (t < internal->ITN_IRS_on ? 0 : internal->r_IRS0_1 * IRS_decay);
    double d_ITN_1 = (t < internal->ITN_IRS_on ? 0 : internal->d_ITN0_1 * ITN_decay);
    double r_ITN_1 = (t < internal->ITN_IRS_on ? 0 : internal->r_ITN1 + (internal->r_ITN0_1 - internal->r_ITN1) * ITN_decay);
    double d_IRS_1 = (t < internal->ITN_IRS_on ? 0 : internal->chi_species1 * internal->d_IRS0_1 * IRS_decay);
    double s_ITN_1 = (t < internal->ITN_IRS_on ? 1 : 1 - d_ITN_1 - r_ITN_1);
    double s_IRS_1 = (t < internal->ITN_IRS_on ? 1 : 1 - d_IRS_1);
    {
       int i = 1;
       internal->delay_array_z1_[i - 1] = 0;
    }
    {
       int i = 2;
       internal->delay_array_z1_[i - 1] = internal->bites_Bed_species1 * r_ITN_1;
    }
    {
       int i = 3;
       internal->delay_array_z1_[i - 1] = internal->bites_Indoors_species1 * r_IRS_1;
    }
    {
       int i = 4;
       internal->delay_array_z1_[i - 1] = internal->bites_Bed_species1 * (r_IRS_1 + (1 - r_IRS_1) * r_ITN_1) + (internal->bites_Indoors_species1 - internal->bites_Bed_species1) * r_IRS_1;
    }
    for (int i = 1; i <= internal->dim_p_det_1; ++i) {
      for (int j = 1; j <= internal->dim_p_det_2; ++j) {
        for (int k = 1; k <= internal->dim_p_det_3; ++k) {
          internal->delay_array_p_det[i - 1 + internal->dim_p_det_1 * (j - 1) + internal->dim_p_det_12 * (k - 1)] = internal->d1 + (1 - internal->d1) / (double) (1 + internal->fd[i - 1] * pow((ID[internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1] / (double) internal->ID0), internal->kD));
        }
      }
    }
    {
       int i = 1;
       internal->delay_array_w1_[i - 1] = 1;
    }
    {
       int i = 2;
       internal->delay_array_w1_[i - 1] = 1 - internal->bites_Bed_species1 + internal->bites_Bed_species1 * s_ITN_1;
    }
    {
       int i = 3;
       internal->delay_array_w1_[i - 1] = 1 - internal->bites_Indoors_species1 + internal->bites_Indoors_species1 * (1 - r_IRS_1) * s_IRS_1;
    }
    {
       int i = 4;
       internal->delay_array_w1_[i - 1] = 1 - internal->bites_Indoors_species1 + internal->bites_Bed_species1 * (1 - r_IRS_1) * s_ITN_1 * s_IRS_1 + (internal->bites_Indoors_species1 - internal->bites_Bed_species1) * (1 - r_IRS_1) * s_IRS_1;
    }
    for (int i = 1; i <= internal->dim_z1; ++i) {
      internal->delay_array_z1[i - 1] = internal->delay_array_z1_[i - 1];
    }
    for (int i = 1; i <= internal->dim_cA_1; ++i) {
      for (int j = 1; j <= internal->dim_cA_2; ++j) {
        for (int k = 1; k <= internal->dim_cA_3; ++k) {
          internal->delay_array_cA[i - 1 + internal->dim_cA_1 * (j - 1) + internal->dim_cA_12 * (k - 1)] = internal->cU + (internal->cD - internal->cU) * pow(internal->delay_array_p_det[internal->dim_p_det_12 * (k - 1) + internal->dim_p_det_1 * (j - 1) + i - 1], internal->gamma1);
        }
      }
    }
    for (int i = 1; i <= internal->dim_w1; ++i) {
      internal->delay_array_w1[i - 1] = internal->delay_array_w1_[i - 1];
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_zhi1[i - 1] = internal->cov[i - 1] * internal->delay_array_z1[i - 1];
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_whi1[i - 1] = internal->cov[i - 1] * internal->delay_array_w1[i - 1];
    }
    double zh1 = (t < internal->ITN_IRS_on ? 0 : odin_sum1(internal->delay_array_zhi1, 0, internal->dim_zhi1));
    double wh1 = (t < internal->ITN_IRS_on ? 1 : odin_sum1(internal->delay_array_whi1, 0, internal->dim_whi1));
    double zbar1 = internal->Q0_species1 * zh1;
    double fv1 = 1 / (double) (internal->tau1 / (double) (1 - zbar1) + internal->tau2);
    double wbar1 = 1 - internal->Q0_species1 + internal->Q0_species1 * wh1;
    double Q_1 = 1 - (1 - internal->Q0_species1) / (double) wbar1;
    double av1 = fv1 * Q_1;
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_av_mosq1[i - 1] = av1 * internal->delay_array_w1[i - 1] / (double) wh1;
    }
    for (int i = 1; i <= internal->na; ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        for (int k = 1; k <= internal->num_int; ++k) {
          internal->delay_array_FOIvijk_species1[i - 1 + internal->dim_FOIvijk_species1_1 * (j - 1) + internal->dim_FOIvijk_species1_12 * (k - 1)] = (internal->cT * T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] + internal->cD * D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] + internal->delay_array_cA[internal->dim_cA_12 * (k - 1) + internal->dim_cA_1 * (j - 1) + i - 1] * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] + internal->cU * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1]) * internal->rel_foi[j - 1] * internal->delay_array_av_mosq1[k - 1] * internal->foi_age[i - 1] / (double) internal->omega;
        }
      }
    }
    double lag_FOIv_species1 = odin_sum1(internal->delay_array_FOIvijk_species1, 0, internal->dim_FOIvijk_species1);
    FOIv_species1 = lag_FOIv_species1;
  }
  // delay block for FOIv_species2
  double FOIv_species2;
  {
    const double t_true = t;
    const double t = t_true - internal->delayGam;
    double *T;
    double *D;
    double *A;
    double *U;
    double *ID;
    if (t <= internal->initial_t) {
      T = internal->initial_T;
      D = internal->initial_D;
      A = internal->initial_A;
      U = internal->initial_U;
      ID = internal->initial_ID;
    } else {
      lagvalue(t, internal->odin_model_2sp_use_dde, internal->delay_index_FOIv_species2, internal->dim_delay_FOIv_species2, internal->delay_state_FOIv_species2);
      T = internal->delay_state_FOIv_species2 + 0;
      D = internal->delay_state_FOIv_species2 + internal->dim_T;
      A = internal->delay_state_FOIv_species2 + internal->offset_FOIv_species2_A;
      U = internal->delay_state_FOIv_species2 + internal->offset_FOIv_species2_U;
      ID = internal->delay_state_FOIv_species2 + internal->offset_FOIv_species2_ID;
    }
    double IRS_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->IRS_interval))) * internal->irs_loss));
    double ITN_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->ITN_interval))) * internal->itn_loss));
    double r_IRS_2 = (t < internal->ITN_IRS_on ? 0 : internal->r_IRS0_2 * IRS_decay);
    double d_ITN_2 = (t < internal->ITN_IRS_on ? 0 : internal->d_ITN0_2 * ITN_decay);
    double r_ITN_2 = (t < internal->ITN_IRS_on ? 0 : internal->r_ITN2 + (internal->r_ITN0_2 - internal->r_ITN2) * ITN_decay);
    double d_IRS_2 = (t < internal->ITN_IRS_on ? 0 : internal->chi_species2 * internal->d_IRS0_2 * IRS_decay);
    double s_ITN_2 = (t < internal->ITN_IRS_on ? 1 : 1 - d_ITN_2 - r_ITN_2);
    double s_IRS_2 = (t < internal->ITN_IRS_on ? 1 : 1 - d_IRS_2);
    {
       int i = 1;
       internal->delay_array_z2_[i - 1] = 0;
    }
    {
       int i = 2;
       internal->delay_array_z2_[i - 1] = internal->bites_Bed_species2 * r_ITN_2;
    }
    {
       int i = 3;
       internal->delay_array_z2_[i - 1] = internal->bites_Indoors_species2 * r_IRS_2;
    }
    {
       int i = 4;
       internal->delay_array_z2_[i - 1] = internal->bites_Bed_species2 * (r_IRS_2 + (1 - r_IRS_2) * r_ITN_2) + (internal->bites_Indoors_species2 - internal->bites_Bed_species2) * r_IRS_2;
    }
    for (int i = 1; i <= internal->dim_p_det_1; ++i) {
      for (int j = 1; j <= internal->dim_p_det_2; ++j) {
        for (int k = 1; k <= internal->dim_p_det_3; ++k) {
          internal->delay_array_p_det[i - 1 + internal->dim_p_det_1 * (j - 1) + internal->dim_p_det_12 * (k - 1)] = internal->d1 + (1 - internal->d1) / (double) (1 + internal->fd[i - 1] * pow((ID[internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1] / (double) internal->ID0), internal->kD));
        }
      }
    }
    {
       int i = 1;
       internal->delay_array_w2_[i - 1] = 1;
    }
    {
       int i = 2;
       internal->delay_array_w2_[i - 1] = 1 - internal->bites_Bed_species2 + internal->bites_Bed_species2 * s_ITN_2;
    }
    {
       int i = 3;
       internal->delay_array_w2_[i - 1] = 1 - internal->bites_Indoors_species2 + internal->bites_Indoors_species2 * (1 - r_IRS_2) * s_IRS_2;
    }
    {
       int i = 4;
       internal->delay_array_w2_[i - 1] = 1 - internal->bites_Indoors_species2 + internal->bites_Bed_species2 * (1 - r_IRS_2) * s_ITN_2 * s_IRS_2 + (internal->bites_Indoors_species2 - internal->bites_Bed_species2) * (1 - r_IRS_2) * s_IRS_2;
    }
    for (int i = 1; i <= internal->dim_z2; ++i) {
      internal->delay_array_z2[i - 1] = internal->delay_array_z2_[i - 1];
    }
    for (int i = 1; i <= internal->dim_cA_1; ++i) {
      for (int j = 1; j <= internal->dim_cA_2; ++j) {
        for (int k = 1; k <= internal->dim_cA_3; ++k) {
          internal->delay_array_cA[i - 1 + internal->dim_cA_1 * (j - 1) + internal->dim_cA_12 * (k - 1)] = internal->cU + (internal->cD - internal->cU) * pow(internal->delay_array_p_det[internal->dim_p_det_12 * (k - 1) + internal->dim_p_det_1 * (j - 1) + i - 1], internal->gamma1);
        }
      }
    }
    for (int i = 1; i <= internal->dim_w2; ++i) {
      internal->delay_array_w2[i - 1] = internal->delay_array_w2_[i - 1];
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_zhi2[i - 1] = internal->cov[i - 1] * internal->delay_array_z2[i - 1];
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_whi2[i - 1] = internal->cov[i - 1] * internal->delay_array_w2[i - 1];
    }
    double zh2 = (t < internal->ITN_IRS_on ? 0 : odin_sum1(internal->delay_array_zhi2, 0, internal->dim_zhi2));
    double wh2 = (t < internal->ITN_IRS_on ? 1 : odin_sum1(internal->delay_array_whi2, 0, internal->dim_whi2));
    double zbar2 = internal->Q0_species2 * zh2;
    double fv2 = 1 / (double) (internal->tau1 / (double) (1 - zbar2) + internal->tau2);
    double wbar2 = 1 - internal->Q0_species2 + internal->Q0_species2 * wh2;
    double Q_2 = 1 - (1 - internal->Q0_species2) / (double) wbar2;
    double av2 = fv2 * Q_2;
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_av_mosq2[i - 1] = av2 * internal->delay_array_w2[i - 1] / (double) wh2;
    }
    for (int i = 1; i <= internal->na; ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        for (int k = 1; k <= internal->num_int; ++k) {
          internal->delay_array_FOIvijk_species2[i - 1 + internal->dim_FOIvijk_species2_1 * (j - 1) + internal->dim_FOIvijk_species2_12 * (k - 1)] = (internal->cT * T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] + internal->cD * D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] + internal->delay_array_cA[internal->dim_cA_12 * (k - 1) + internal->dim_cA_1 * (j - 1) + i - 1] * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] + internal->cU * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1]) * internal->rel_foi[j - 1] * internal->delay_array_av_mosq2[k - 1] * internal->foi_age[i - 1] / (double) internal->omega;
        }
      }
    }
    double lag_FOIv_species2 = odin_sum1(internal->delay_array_FOIvijk_species2, 0, internal->dim_FOIvijk_species2);
    FOIv_species2 = lag_FOIv_species2;
  }
  double H = Sh + Th + Dh + Ah + Uh + Ph;
  for (int i = 1; i <= internal->dim_IC_1; ++i) {
    for (int j = 1; j <= internal->dim_IC_2; ++j) {
      for (int k = 1; k <= internal->dim_IC_3; ++k) {
        internal->IC[i - 1 + internal->dim_IC_1 * (j - 1) + internal->dim_IC_12 * (k - 1)] = ICM[internal->dim_ICM_12 * (k - 1) + internal->dim_ICM_1 * (j - 1) + i - 1] + ICA[internal->dim_ICA_12 * (k - 1) + internal->dim_ICA_1 * (j - 1) + i - 1];
      }
    }
  }
  memcpy(output + 56, internal->cov, internal->dim_cov * sizeof(double));
  output[36] = s_IRS_1;
  output[39] = s_IRS_2;
  output[30] = s_ITN_1;
  output[33] = s_ITN_2;
  output[5] = theta_species2;
  for (int i = 1; i <= internal->dim_p_det_1; ++i) {
    for (int j = 1; j <= internal->dim_p_det_2; ++j) {
      for (int k = 1; k <= internal->dim_p_det_3; ++k) {
        internal->p_det[i - 1 + internal->dim_p_det_1 * (j - 1) + internal->dim_p_det_12 * (k - 1)] = internal->d1 + (1 - internal->d1) / (double) (1 + internal->fd[i - 1] * pow((ID[internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1] / (double) internal->ID0), internal->kD));
      }
    }
  }
  {
     int i = 1;
     internal->w1_[i - 1] = 1;
  }
  {
     int i = 2;
     internal->w1_[i - 1] = 1 - internal->bites_Bed_species1 + internal->bites_Bed_species1 * s_ITN_1;
  }
  {
     int i = 3;
     internal->w1_[i - 1] = 1 - internal->bites_Indoors_species1 + internal->bites_Indoors_species1 * (1 - r_IRS_1) * s_IRS_1;
  }
  {
     int i = 4;
     internal->w1_[i - 1] = 1 - internal->bites_Indoors_species1 + internal->bites_Bed_species1 * (1 - r_IRS_1) * s_ITN_1 * s_IRS_1 + (internal->bites_Indoors_species1 - internal->bites_Bed_species1) * (1 - r_IRS_1) * s_IRS_1;
  }
  {
     int i = 1;
     internal->w2_[i - 1] = 1;
  }
  {
     int i = 2;
     internal->w2_[i - 1] = 1 - internal->bites_Bed_species2 + internal->bites_Bed_species2 * s_ITN_2;
  }
  {
     int i = 3;
     internal->w2_[i - 1] = 1 - internal->bites_Indoors_species2 + internal->bites_Indoors_species2 * (1 - r_IRS_2) * s_IRS_2;
  }
  {
     int i = 4;
     internal->w2_[i - 1] = 1 - internal->bites_Indoors_species2 + internal->bites_Bed_species2 * (1 - r_IRS_2) * s_ITN_2 * s_IRS_2 + (internal->bites_Indoors_species2 - internal->bites_Bed_species2) * (1 - r_IRS_2) * s_IRS_2;
  }
  for (int i = 1; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        internal->Y[i - 1 + internal->dim_Y_1 * (j - 1) + internal->dim_Y_12 * (k - 1)] = S[internal->dim_S_12 * (k - 1) + internal->dim_S_1 * (j - 1) + i - 1] + A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] + U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_z1; ++i) {
    internal->z1[i - 1] = internal->z1_[i - 1];
  }
  for (int i = 1; i <= internal->dim_z2; ++i) {
    internal->z2[i - 1] = internal->z2_[i - 1];
  }
  output[0] = H;
  output[54] = FOIv_species1;
  output[55] = FOIv_species2;
  for (int i = 1; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        internal->phi[i - 1 + internal->dim_phi_1 * (j - 1) + internal->dim_phi_12 * (k - 1)] = internal->phi0 * ((1 - internal->phi1) / (double) (1 + pow((internal->IC[internal->dim_IC_12 * (k - 1) + internal->dim_IC_1 * (j - 1) + i - 1] / (double) internal->IC0), internal->kC)) + internal->phi1);
      }
    }
  }
  for (int i = 1; i <= internal->age05; ++i) {
    for (int j = 1; j <= internal->dim_prev0to5_2; ++j) {
      for (int k = 1; k <= internal->dim_prev0to5_3; ++k) {
        internal->prev0to5[i - 1 + internal->dim_prev0to5_1 * (j - 1) + internal->dim_prev0to5_12 * (k - 1)] = T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] + D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] + A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] * internal->p_det[internal->dim_p_det_12 * (k - 1) + internal->dim_p_det_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->age59; ++i) {
    for (int j = 1; j <= internal->dim_prev0to59_2; ++j) {
      for (int k = 1; k <= internal->dim_prev0to59_3; ++k) {
        internal->prev0to59[i - 1 + internal->dim_prev0to59_1 * (j - 1) + internal->dim_prev0to59_12 * (k - 1)] = T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] + D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] + A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] * internal->p_det[internal->dim_p_det_12 * (k - 1) + internal->dim_p_det_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_w1; ++i) {
    internal->w1[i - 1] = internal->w1_[i - 1];
  }
  for (int i = 1; i <= internal->dim_w2; ++i) {
    internal->w2[i - 1] = internal->w2_[i - 1];
  }
  {
     int i = 1;
     internal->yy1_[i - 1] = 1;
  }
  {
     int i = 2;
     internal->yy1_[i - 1] = internal->w1_[1];
  }
  {
     int i = 3;
     internal->yy1_[i - 1] = 1 - internal->bites_Indoors_species1 + internal->bites_Indoors_species1 * (1 - r_IRS_1);
  }
  {
     int i = 4;
     internal->yy1_[i - 1] = 1 - internal->bites_Indoors_species1 + internal->bites_Bed_species1 * (1 - r_IRS_1) * s_ITN_1 + (internal->bites_Indoors_species1 - internal->bites_Bed_species1) * (1 - r_IRS_1);
  }
  {
     int i = 1;
     internal->yy2_[i - 1] = 1;
  }
  {
     int i = 2;
     internal->yy2_[i - 1] = internal->w2_[1];
  }
  {
     int i = 3;
     internal->yy2_[i - 1] = 1 - internal->bites_Indoors_species2 + internal->bites_Indoors_species2 * (1 - r_IRS_2);
  }
  {
     int i = 4;
     internal->yy2_[i - 1] = 1 - internal->bites_Indoors_species2 + internal->bites_Bed_species2 * (1 - r_IRS_2) * s_ITN_2 + (internal->bites_Indoors_species2 - internal->bites_Bed_species2) * (1 - r_IRS_2);
  }
  for (int i = 1; i <= internal->num_int; ++i) {
    internal->zhi1[i - 1] = internal->cov[i - 1] * internal->z1[i - 1];
  }
  for (int i = 1; i <= internal->num_int; ++i) {
    internal->zhi2[i - 1] = internal->cov[i - 1] * internal->z2[i - 1];
  }
  for (int i = 1; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        internal->clin_inc[i - 1 + internal->dim_clin_inc_1 * (j - 1) + internal->dim_clin_inc_12 * (k - 1)] = internal->phi[internal->dim_phi_12 * (k - 1) + internal->dim_phi_1 * (j - 1) + i - 1] * internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * internal->Y[internal->dim_Y_12 * (k - 1) + internal->dim_Y_1 * (j - 1) + i - 1];
      }
    }
  }
  output[15] = odin_sum3(internal->prev0to59, 0, internal->dim_prev0to59_1, 0, internal->dim_prev0to59_2, 0, internal->dim_prev0to59_3, internal->dim_prev0to59_1, internal->dim_prev0to59_12) / (double) odin_sum1(internal->den, 0, internal->age59);
  output[16] = odin_sum3(internal->prev0to5, 0, internal->dim_prev0to5_1, 0, internal->dim_prev0to5_2, 0, internal->dim_prev0to5_3, internal->dim_prev0to5_1, internal->dim_prev0to5_12) / (double) odin_sum1(internal->den, 0, internal->age05);
  for (int i = 1; i <= internal->num_int; ++i) {
    internal->whi1[i - 1] = internal->cov[i - 1] * internal->w1[i - 1];
  }
  for (int i = 1; i <= internal->num_int; ++i) {
    internal->whi2[i - 1] = internal->cov[i - 1] * internal->w2[i - 1];
  }
  for (int i = 1; i <= internal->dim_yy1; ++i) {
    internal->yy1[i - 1] = internal->yy1_[i - 1];
  }
  for (int i = 1; i <= internal->dim_yy2; ++i) {
    internal->yy2[i - 1] = internal->yy2_[i - 1];
  }
  double zh1 = (t < internal->ITN_IRS_on ? 0 : odin_sum1(internal->zhi1, 0, internal->dim_zhi1));
  double zh2 = (t < internal->ITN_IRS_on ? 0 : odin_sum1(internal->zhi2, 0, internal->dim_zhi2));
  for (int i = 1; i <= internal->age05; ++i) {
    for (int j = 1; j <= internal->dim_clin_inc0to5_2; ++j) {
      for (int k = 1; k <= internal->dim_clin_inc0to5_3; ++k) {
        internal->clin_inc0to5[i - 1 + internal->dim_clin_inc0to5_1 * (j - 1) + internal->dim_clin_inc0to5_12 * (k - 1)] = internal->clin_inc[internal->dim_clin_inc_12 * (k - 1) + internal->dim_clin_inc_1 * (j - 1) + i - 1];
      }
    }
  }
  output[18] = odin_sum3(internal->clin_inc, 0, internal->dim_clin_inc_1, 0, internal->dim_clin_inc_2, 0, internal->dim_clin_inc_3, internal->dim_clin_inc_1, internal->dim_clin_inc_12);
  double wh1 = (t < internal->ITN_IRS_on ? 1 : odin_sum1(internal->whi1, 0, internal->dim_whi1));
  double wh2 = (t < internal->ITN_IRS_on ? 1 : odin_sum1(internal->whi2, 0, internal->dim_whi2));
  double zbar1 = internal->Q0_species1 * zh1;
  double zbar2 = internal->Q0_species2 * zh2;
  double fv1 = 1 / (double) (internal->tau1 / (double) (1 - zbar1) + internal->tau2);
  double fv2 = 1 / (double) (internal->tau1 / (double) (1 - zbar2) + internal->tau2);
  output[17] = odin_sum1(internal->clin_inc0to5, 0, internal->dim_clin_inc0to5) / (double) odin_sum1(internal->den, 0, internal->age05);
  output[26] = wh1;
  output[27] = wh2;
  output[44] = zbar1;
  output[45] = zbar2;
  double wbar1 = 1 - internal->Q0_species1 + internal->Q0_species1 * wh1;
  double wbar2 = 1 - internal->Q0_species2 + internal->Q0_species2 * wh2;
  output[42] = wbar1;
  output[43] = wbar2;
  double p1_1 = wbar1 * internal->p10 / (double) (1 - zbar1 * internal->p10);
  double p1_2 = wbar2 * internal->p10 / (double) (1 - zbar2 * internal->p10);
  double Q_1 = 1 - (1 - internal->Q0_species1) / (double) wbar1;
  double Q_2 = 1 - (1 - internal->Q0_species2) / (double) wbar2;
  double av1 = fv1 * Q_1;
  double av2 = fv2 * Q_2;
  double mu1 = -(fv1) * log(p1_1 * internal->p2);
  double mu2 = -(fv2) * log(p1_2 * internal->p2);
  output[40] = p1_1;
  output[41] = p1_2;
  output[46] = Q_1;
  output[47] = Q_2;
  for (int i = 1; i <= internal->num_int; ++i) {
    internal->av_human1[i - 1] = av1 * internal->yy1[i - 1] / (double) wh1;
  }
  for (int i = 1; i <= internal->num_int; ++i) {
    internal->av_human2[i - 1] = av2 * internal->yy2[i - 1] / (double) wh2;
  }
  double eov1 = internal->betaL / (double) mu1 * (exp(mu1 / (double) fv1) - 1);
  double eov2 = internal->betaL / (double) mu2 * (exp(mu2 / (double) fv2) - 1);
  output[48] = av1;
  output[49] = av2;
  output[19] = mu1;
  output[20] = mu2;
  double beta_larval1 = eov1 * mu1 * exp(-(mu1) / (double) fv1) / (double) (1 - exp(-(mu1) / (double) fv1));
  double beta_larval2 = eov2 * mu2 * exp(-(mu2) / (double) fv2) / (double) (1 - exp(-(mu2) / (double) fv2));
  for (int i = 1; i <= internal->dim_EIR_species1_1; ++i) {
    for (int j = 1; j <= internal->dim_EIR_species1_2; ++j) {
      for (int k = 1; k <= internal->dim_EIR_species1_3; ++k) {
        internal->EIR_species1[i - 1 + internal->dim_EIR_species1_1 * (j - 1) + internal->dim_EIR_species1_12 * (k - 1)] = internal->av_human1[k - 1] * internal->rel_foi[j - 1] * internal->foi_age[i - 1] * Iv1 / (double) internal->omega;
      }
    }
  }
  for (int i = 1; i <= internal->dim_EIR_species2_1; ++i) {
    for (int j = 1; j <= internal->dim_EIR_species2_2; ++j) {
      for (int k = 1; k <= internal->dim_EIR_species2_3; ++k) {
        internal->EIR_species2[i - 1 + internal->dim_EIR_species2_1 * (j - 1) + internal->dim_EIR_species2_12 * (k - 1)] = internal->av_human2[k - 1] * internal->rel_foi[j - 1] * internal->foi_age[i - 1] * Iv2 / (double) internal->omega;
      }
    }
  }
  for (int i = 1; i <= internal->dim_EIR_1; ++i) {
    for (int j = 1; j <= internal->dim_EIR_2; ++j) {
      for (int k = 1; k <= internal->dim_EIR_3; ++k) {
        internal->EIR[i - 1 + internal->dim_EIR_1 * (j - 1) + internal->dim_EIR_12 * (k - 1)] = internal->EIR_species1[internal->dim_EIR_species1_12 * (k - 1) + internal->dim_EIR_species1_1 * (j - 1) + i - 1] + internal->EIR_species2[internal->dim_EIR_species2_12 * (k - 1) + internal->dim_EIR_species2_1 * (j - 1) + i - 1];
      }
    }
  }
  double lambda_species1 = -(0.5) * internal->b_lambda + sqrt(0.25 * pow(internal->b_lambda, 2) + internal->gammaL * beta_larval1 * internal->muLL * internal->dEL / (double) (2 * internal->muEL * internal->mu0 * internal->dLL * (1 + internal->dPL * internal->muPL)));
  double lambda_species2 = -(0.5) * internal->b_lambda + sqrt(0.25 * pow(internal->b_lambda, 2) + internal->gammaL * beta_larval2 * internal->muLL * internal->dEL / (double) (2 * internal->muEL * internal->mu0 * internal->dLL * (1 + internal->dPL * internal->muPL)));
  output[21] = beta_larval1;
  output[22] = beta_larval2;
  memcpy(output + internal->offset_output_EIR_species1, internal->EIR_species1, internal->dim_EIR_species1 * sizeof(double));
  memcpy(output + internal->offset_output_EIR_species2, internal->EIR_species2, internal->dim_EIR_species2 * sizeof(double));
  double K0_species1 = 2 * internal->mv0 * internal->dLL * internal->mu0 * (1 + internal->dPL * internal->muPL) * internal->gammaL * (lambda_species1 + 1) / (double) (lambda_species1 / (double) (internal->muLL * internal->dEL) - 1 / (double) (internal->muLL * internal->dLL) - 1);
  double K0_species2 = ((int) (t) == 0 ? 2 * internal->density_vec[(int) (1) - 1] * internal->dLL * internal->mu0 * (1 + internal->dPL * internal->muPL) * internal->gammaL * (lambda_species2 + 1) / (double) (lambda_species2 / (double) (internal->muLL * internal->dEL) - 1 / (double) (internal->muLL * internal->dLL) - 1) : 2 * internal->density_vec[(int) (t) - 1] * internal->dLL * internal->mu0 * (1 + internal->dPL * internal->muPL) * internal->gammaL * (lambda_species2 + 1) / (double) (lambda_species2 / (double) (internal->muLL * internal->dEL) - 1 / (double) (internal->muLL * internal->dLL) - 1));
  memcpy(output + internal->offset_output_EIR, internal->EIR, internal->dim_EIR * sizeof(double));
  double KL_species1 = K0_species1 * theta_species1;
  double KL_species2 = K0_species2 * theta_species2;
  output[50] = K0_species1;
  output[51] = K0_species2;
  output[52] = KL_species1;
  output[53] = KL_species2;
}
SEXP odin_model_2sp_rhs_r(SEXP internal_p, SEXP t, SEXP state) {
  SEXP dstatedt = PROTECT(allocVector(REALSXP, LENGTH(state)));
  odin_model_2sp_internal *internal = odin_model_2sp_get_internal(internal_p, 1);
  SEXP output_ptr = PROTECT(allocVector(REALSXP, internal->dim_cov + internal->dim_EIR + internal->dim_EIR_species1 + internal->dim_EIR_species2 + 56));
  setAttrib(dstatedt, install("output"), output_ptr);
  UNPROTECT(1);
  double *output = REAL(output_ptr);
  const double initial_t = internal->initial_t;
  if (ISNA(initial_t)) {
    internal->initial_t = scalar_real(t, "t");
  }
  odin_model_2sp_rhs(internal, scalar_real(t, "t"), REAL(state), REAL(dstatedt), output);
  if (ISNA(initial_t)) {
    internal->initial_t = initial_t;
  }
  UNPROTECT(1);
  return dstatedt;
}
odin_model_2sp_tv1_internal* odin_model_2sp_tv1_get_internal(SEXP internal_p, int closed_error) {
  odin_model_2sp_tv1_internal *internal = NULL;
  if (TYPEOF(internal_p) != EXTPTRSXP) {
    Rf_error("Expected an external pointer");
  }
  internal = (odin_model_2sp_tv1_internal*) R_ExternalPtrAddr(internal_p);
  if (!internal && closed_error) {
    Rf_error("Pointer has been invalidated");
  }
  return internal;
}
void odin_model_2sp_tv1_finalise(SEXP internal_p) {
  odin_model_2sp_tv1_internal *internal = odin_model_2sp_tv1_get_internal(internal_p, 0);
  if (internal_p) {
    R_Free(internal->age);
    R_Free(internal->age_rate);
    R_Free(internal->av_human1);
    R_Free(internal->av_human2);
    R_Free(internal->av_mosq1);
    R_Free(internal->av_mosq2);
    R_Free(internal->b);
    R_Free(internal->cA);
    R_Free(internal->clin_inc);
    R_Free(internal->clin_inc0to5);
    R_Free(internal->cov);
    R_Free(internal->cov_);
    R_Free(internal->custom_seasonality);
    R_Free(internal->delay_array_av_human1);
    R_Free(internal->delay_array_av_human2);
    R_Free(internal->delay_array_av_mosq1);
    R_Free(internal->delay_array_av_mosq2);
    R_Free(internal->delay_array_b);
    R_Free(internal->delay_array_cA);
    R_Free(internal->delay_array_EIR);
    R_Free(internal->delay_array_EIR_species1);
    R_Free(internal->delay_array_EIR_species2);
    R_Free(internal->delay_array_FOI_lag);
    R_Free(internal->delay_array_FOIvijk_species1);
    R_Free(internal->delay_array_FOIvijk_species2);
    R_Free(internal->delay_array_p_det);
    R_Free(internal->delay_array_w1);
    R_Free(internal->delay_array_w1_);
    R_Free(internal->delay_array_w2);
    R_Free(internal->delay_array_w2_);
    R_Free(internal->delay_array_whi1);
    R_Free(internal->delay_array_whi2);
    R_Free(internal->delay_array_yy1);
    R_Free(internal->delay_array_yy1_);
    R_Free(internal->delay_array_yy2);
    R_Free(internal->delay_array_yy2_);
    R_Free(internal->delay_array_z1);
    R_Free(internal->delay_array_z1_);
    R_Free(internal->delay_array_z2);
    R_Free(internal->delay_array_z2_);
    R_Free(internal->delay_array_zhi1);
    R_Free(internal->delay_array_zhi2);
    R_Free(internal->delay_index_FOI);
    R_Free(internal->delay_index_FOIv_species1);
    R_Free(internal->delay_index_FOIv_species2);
    R_Free(internal->delay_index_incv1);
    R_Free(internal->delay_index_incv2);
    R_Free(internal->delay_state_FOI);
    R_Free(internal->delay_state_FOIv_species1);
    R_Free(internal->delay_state_FOIv_species2);
    R_Free(internal->delay_state_incv1);
    R_Free(internal->delay_state_incv2);
    R_Free(internal->den);
    R_Free(internal->density_vec);
    R_Free(internal->density_vec_sp1);
    R_Free(internal->EIR);
    R_Free(internal->EIR_species1);
    R_Free(internal->EIR_species2);
    R_Free(internal->fd);
    R_Free(internal->FOI);
    R_Free(internal->foi_age);
    R_Free(internal->FOI_lag);
    R_Free(internal->FOIvijk_species1);
    R_Free(internal->FOIvijk_species2);
    R_Free(internal->het_wt);
    R_Free(internal->IC);
    R_Free(internal->init_A);
    R_Free(internal->init_D);
    R_Free(internal->init_IB);
    R_Free(internal->init_ICA);
    R_Free(internal->init_ICM);
    R_Free(internal->init_ICM_pre);
    R_Free(internal->init_ID);
    R_Free(internal->init_P);
    R_Free(internal->init_S);
    R_Free(internal->init_T);
    R_Free(internal->init_U);
    R_Free(internal->initial_A);
    R_Free(internal->initial_D);
    R_Free(internal->initial_IB);
    R_Free(internal->initial_ICA);
    R_Free(internal->initial_ICM);
    R_Free(internal->initial_ID);
    R_Free(internal->initial_P);
    R_Free(internal->initial_S);
    R_Free(internal->initial_T);
    R_Free(internal->initial_U);
    R_Free(internal->p_det);
    R_Free(internal->phi);
    R_Free(internal->prev0to5);
    R_Free(internal->prev0to59);
    R_Free(internal->rel_foi);
    R_Free(internal->w1);
    R_Free(internal->w1_);
    R_Free(internal->w2);
    R_Free(internal->w2_);
    R_Free(internal->whi1);
    R_Free(internal->whi2);
    R_Free(internal->x_I);
    R_Free(internal->Y);
    R_Free(internal->yy1);
    R_Free(internal->yy1_);
    R_Free(internal->yy2);
    R_Free(internal->yy2_);
    R_Free(internal->z1);
    R_Free(internal->z1_);
    R_Free(internal->z2);
    R_Free(internal->z2_);
    R_Free(internal->zhi1);
    R_Free(internal->zhi2);
    R_Free(internal);
    R_ClearExternalPtr(internal_p);
  }
}
SEXP odin_model_2sp_tv1_create(SEXP user) {
  odin_model_2sp_tv1_internal *internal = (odin_model_2sp_tv1_internal*) R_Calloc(1, odin_model_2sp_tv1_internal);
  internal->age = NULL;
  internal->age_rate = NULL;
  internal->av_human1 = NULL;
  internal->av_human2 = NULL;
  internal->av_mosq1 = NULL;
  internal->av_mosq2 = NULL;
  internal->b = NULL;
  internal->cA = NULL;
  internal->clin_inc = NULL;
  internal->clin_inc0to5 = NULL;
  internal->cov = NULL;
  internal->cov_ = NULL;
  internal->custom_seasonality = NULL;
  internal->delay_array_av_human1 = NULL;
  internal->delay_array_av_human2 = NULL;
  internal->delay_array_av_mosq1 = NULL;
  internal->delay_array_av_mosq2 = NULL;
  internal->delay_array_b = NULL;
  internal->delay_array_cA = NULL;
  internal->delay_array_EIR = NULL;
  internal->delay_array_EIR_species1 = NULL;
  internal->delay_array_EIR_species2 = NULL;
  internal->delay_array_FOI_lag = NULL;
  internal->delay_array_FOIvijk_species1 = NULL;
  internal->delay_array_FOIvijk_species2 = NULL;
  internal->delay_array_p_det = NULL;
  internal->delay_array_w1 = NULL;
  internal->delay_array_w1_ = NULL;
  internal->delay_array_w2 = NULL;
  internal->delay_array_w2_ = NULL;
  internal->delay_array_whi1 = NULL;
  internal->delay_array_whi2 = NULL;
  internal->delay_array_yy1 = NULL;
  internal->delay_array_yy1_ = NULL;
  internal->delay_array_yy2 = NULL;
  internal->delay_array_yy2_ = NULL;
  internal->delay_array_z1 = NULL;
  internal->delay_array_z1_ = NULL;
  internal->delay_array_z2 = NULL;
  internal->delay_array_z2_ = NULL;
  internal->delay_array_zhi1 = NULL;
  internal->delay_array_zhi2 = NULL;
  internal->delay_index_FOI = NULL;
  internal->delay_index_FOIv_species1 = NULL;
  internal->delay_index_FOIv_species2 = NULL;
  internal->delay_index_incv1 = NULL;
  internal->delay_index_incv2 = NULL;
  internal->delay_state_FOI = NULL;
  internal->delay_state_FOIv_species1 = NULL;
  internal->delay_state_FOIv_species2 = NULL;
  internal->delay_state_incv1 = NULL;
  internal->delay_state_incv2 = NULL;
  internal->den = NULL;
  internal->density_vec = NULL;
  internal->density_vec_sp1 = NULL;
  internal->EIR = NULL;
  internal->EIR_species1 = NULL;
  internal->EIR_species2 = NULL;
  internal->fd = NULL;
  internal->FOI = NULL;
  internal->foi_age = NULL;
  internal->FOI_lag = NULL;
  internal->FOIvijk_species1 = NULL;
  internal->FOIvijk_species2 = NULL;
  internal->het_wt = NULL;
  internal->IC = NULL;
  internal->init_A = NULL;
  internal->init_D = NULL;
  internal->init_IB = NULL;
  internal->init_ICA = NULL;
  internal->init_ICM = NULL;
  internal->init_ICM_pre = NULL;
  internal->init_ID = NULL;
  internal->init_P = NULL;
  internal->init_S = NULL;
  internal->init_T = NULL;
  internal->init_U = NULL;
  internal->initial_A = NULL;
  internal->initial_D = NULL;
  internal->initial_IB = NULL;
  internal->initial_ICA = NULL;
  internal->initial_ICM = NULL;
  internal->initial_ID = NULL;
  internal->initial_P = NULL;
  internal->initial_S = NULL;
  internal->initial_T = NULL;
  internal->initial_U = NULL;
  internal->p_det = NULL;
  internal->phi = NULL;
  internal->prev0to5 = NULL;
  internal->prev0to59 = NULL;
  internal->rel_foi = NULL;
  internal->w1 = NULL;
  internal->w1_ = NULL;
  internal->w2 = NULL;
  internal->w2_ = NULL;
  internal->whi1 = NULL;
  internal->whi2 = NULL;
  internal->x_I = NULL;
  internal->Y = NULL;
  internal->yy1 = NULL;
  internal->yy1_ = NULL;
  internal->yy2 = NULL;
  internal->yy2_ = NULL;
  internal->z1 = NULL;
  internal->z1_ = NULL;
  internal->z2 = NULL;
  internal->z2_ = NULL;
  internal->zhi1 = NULL;
  internal->zhi2 = NULL;
  R_Free(internal->delay_index_incv1);
  internal->delay_index_incv1 = R_Calloc(1, int);
  R_Free(internal->delay_state_incv1);
  internal->delay_state_incv1 = R_Calloc(1, double);
  internal->delay_index_incv1[0] = 0;
  R_Free(internal->delay_index_incv2);
  internal->delay_index_incv2 = R_Calloc(1, int);
  R_Free(internal->delay_state_incv2);
  internal->delay_state_incv2 = R_Calloc(1, double);
  internal->delay_index_incv2[0] = 3;
  internal->dim_cov_ = 4;
  internal->dim_w1_ = 4;
  internal->dim_w2_ = 4;
  internal->dim_yy1_ = 4;
  internal->dim_yy2_ = 4;
  internal->dim_z1_ = 4;
  internal->dim_z2_ = 4;
  R_Free(internal->cov_);
  internal->cov_ = (double*) R_Calloc(internal->dim_cov_, double);
  R_Free(internal->w1_);
  internal->w1_ = (double*) R_Calloc(internal->dim_w1_, double);
  R_Free(internal->w2_);
  internal->w2_ = (double*) R_Calloc(internal->dim_w2_, double);
  R_Free(internal->yy1_);
  internal->yy1_ = (double*) R_Calloc(internal->dim_yy1_, double);
  R_Free(internal->yy2_);
  internal->yy2_ = (double*) R_Calloc(internal->dim_yy2_, double);
  R_Free(internal->z1_);
  internal->z1_ = (double*) R_Calloc(internal->dim_z1_, double);
  R_Free(internal->z2_);
  internal->z2_ = (double*) R_Calloc(internal->dim_z2_, double);
  R_Free(internal->delay_array_w1_);
  internal->delay_array_w1_ = (double*) R_Calloc(internal->dim_w1_, double);
  R_Free(internal->delay_array_w2_);
  internal->delay_array_w2_ = (double*) R_Calloc(internal->dim_w2_, double);
  R_Free(internal->delay_array_yy1_);
  internal->delay_array_yy1_ = (double*) R_Calloc(internal->dim_yy1_, double);
  R_Free(internal->delay_array_yy2_);
  internal->delay_array_yy2_ = (double*) R_Calloc(internal->dim_yy2_, double);
  R_Free(internal->delay_array_z1_);
  internal->delay_array_z1_ = (double*) R_Calloc(internal->dim_z1_, double);
  R_Free(internal->delay_array_z2_);
  internal->delay_array_z2_ = (double*) R_Calloc(internal->dim_z2_, double);
  internal->aD = NA_REAL;
  internal->age = NULL;
  internal->age_20_factor = NA_REAL;
  internal->age_rate = NULL;
  internal->age05 = NA_INTEGER;
  internal->age20l = NA_INTEGER;
  internal->age20u = NA_INTEGER;
  internal->age59 = NA_INTEGER;
  internal->b0 = NA_REAL;
  internal->b1 = NA_REAL;
  internal->betaL = NA_REAL;
  internal->bites_Bed_species1 = NA_REAL;
  internal->bites_Bed_species2 = NA_REAL;
  internal->bites_Indoors_species1 = NA_REAL;
  internal->bites_Indoors_species2 = NA_REAL;
  internal->cD = NA_REAL;
  internal->chi_species1 = NA_REAL;
  internal->chi_species2 = NA_REAL;
  internal->cT = NA_REAL;
  internal->cU = NA_REAL;
  internal->custom_seasonality = NULL;
  internal->d_IRS0_1 = NA_REAL;
  internal->d_IRS0_2 = NA_REAL;
  internal->d_ITN0_1 = NA_REAL;
  internal->d_ITN0_2 = NA_REAL;
  internal->d1 = NA_REAL;
  internal->dB = NA_REAL;
  internal->dCA = NA_REAL;
  internal->dCM = NA_REAL;
  internal->dE = NA_REAL;
  internal->dEL = NA_REAL;
  internal->delayGam = NA_REAL;
  internal->delayMos = NA_REAL;
  internal->den = NULL;
  internal->density_vec = NULL;
  internal->density_vec_sp1 = NULL;
  internal->dID = NA_REAL;
  internal->dLL = NA_REAL;
  internal->dPL = NA_REAL;
  internal->eta = NA_REAL;
  internal->fD0 = NA_REAL;
  internal->foi_age = NULL;
  internal->ft = NA_REAL;
  internal->gamma1 = NA_REAL;
  internal->gammaD = NA_REAL;
  internal->gammaL = NA_REAL;
  internal->het_wt = NULL;
  internal->IB0 = NA_REAL;
  internal->IC0 = NA_REAL;
  internal->ID0 = NA_REAL;
  internal->init_A = NULL;
  internal->init_D = NULL;
  internal->init_EL = NA_REAL;
  internal->init_Ev = NA_REAL;
  internal->init_IB = NULL;
  internal->init_ICA = NULL;
  internal->init_ICM = NULL;
  internal->init_ID = NULL;
  internal->init_Iv = NA_REAL;
  internal->init_LL = NA_REAL;
  internal->init_P = NULL;
  internal->init_PL = NA_REAL;
  internal->init_S = NULL;
  internal->init_Sv = NA_REAL;
  internal->init_T = NULL;
  internal->init_U = NULL;
  internal->irs_cov = NA_REAL;
  internal->IRS_interval = NA_REAL;
  internal->irs_loss = NA_REAL;
  internal->itn_cov = NA_REAL;
  internal->ITN_interval = NA_REAL;
  internal->ITN_IRS_on = NA_REAL;
  internal->itn_loss = NA_REAL;
  internal->kB = NA_REAL;
  internal->kC = NA_REAL;
  internal->kD = NA_REAL;
  internal->mu0 = NA_REAL;
  internal->muEL = NA_REAL;
  internal->muLL = NA_REAL;
  internal->muPL = NA_REAL;
  internal->mv0 = NA_REAL;
  internal->na = NA_INTEGER;
  internal->nh = NA_INTEGER;
  internal->num_int = NA_INTEGER;
  internal->omega = NA_REAL;
  internal->p10 = NA_REAL;
  internal->p2 = NA_REAL;
  internal->phi0 = NA_REAL;
  internal->phi1 = NA_REAL;
  internal->pi = NA_REAL;
  internal->PM = NA_REAL;
  internal->Q0_species1 = NA_REAL;
  internal->Q0_species2 = NA_REAL;
  internal->r_IRS0_1 = NA_REAL;
  internal->r_IRS0_2 = NA_REAL;
  internal->r_ITN0_1 = NA_REAL;
  internal->r_ITN0_2 = NA_REAL;
  internal->r_ITN1 = NA_REAL;
  internal->r_ITN2 = NA_REAL;
  internal->rA = NA_REAL;
  internal->rD = NA_REAL;
  internal->rel_foi = NULL;
  internal->rP = NA_REAL;
  internal->rT = NA_REAL;
  internal->rU = NA_REAL;
  internal->ssa0 = NA_REAL;
  internal->ssa1 = NA_REAL;
  internal->ssa2 = NA_REAL;
  internal->ssa3 = NA_REAL;
  internal->ssb1 = NA_REAL;
  internal->ssb2 = NA_REAL;
  internal->ssb3 = NA_REAL;
  internal->tau1 = NA_REAL;
  internal->tau2 = NA_REAL;
  internal->theta_c = NA_REAL;
  internal->time_length = NA_INTEGER;
  internal->uB = NA_REAL;
  internal->uCA = NA_REAL;
  internal->uD = NA_REAL;
  internal->x_I = NULL;
  internal->initial_t = NA_REAL;
  SEXP ptr = PROTECT(R_MakeExternalPtr(internal, R_NilValue, R_NilValue));
  R_RegisterCFinalizer(ptr, odin_model_2sp_tv1_finalise);
  UNPROTECT(1);
  return ptr;
}
static odin_model_2sp_tv1_internal *odin_model_2sp_tv1_internal_ds;
void odin_model_2sp_tv1_initmod_desolve(void(* odeparms) (int *, double *)) {
  static DL_FUNC get_desolve_gparms = NULL;
  if (get_desolve_gparms == NULL) {
    get_desolve_gparms =
      R_GetCCallable("deSolve", "get_deSolve_gparms");
  }
  odin_model_2sp_tv1_internal_ds = odin_model_2sp_tv1_get_internal(get_desolve_gparms(), 1);
}
SEXP odin_model_2sp_tv1_contents(SEXP internal_p) {
  odin_model_2sp_tv1_internal *internal = odin_model_2sp_tv1_get_internal(internal_p, 1);
  SEXP contents = PROTECT(allocVector(VECSXP, 467));
  SET_VECTOR_ELT(contents, 0, ScalarReal(internal->aD));
  SEXP age = PROTECT(allocVector(REALSXP, internal->dim_age));
  memcpy(REAL(age), internal->age, internal->dim_age * sizeof(double));
  SET_VECTOR_ELT(contents, 1, age);
  SET_VECTOR_ELT(contents, 2, ScalarReal(internal->age_20_factor));
  SEXP age_rate = PROTECT(allocVector(REALSXP, internal->dim_age_rate));
  memcpy(REAL(age_rate), internal->age_rate, internal->dim_age_rate * sizeof(double));
  SET_VECTOR_ELT(contents, 3, age_rate);
  SET_VECTOR_ELT(contents, 4, ScalarInteger(internal->age05));
  SET_VECTOR_ELT(contents, 5, ScalarInteger(internal->age20l));
  SET_VECTOR_ELT(contents, 6, ScalarInteger(internal->age20u));
  SET_VECTOR_ELT(contents, 7, ScalarInteger(internal->age59));
  SEXP av_human1 = PROTECT(allocVector(REALSXP, internal->dim_av_human1));
  memcpy(REAL(av_human1), internal->av_human1, internal->dim_av_human1 * sizeof(double));
  SET_VECTOR_ELT(contents, 8, av_human1);
  SEXP av_human2 = PROTECT(allocVector(REALSXP, internal->dim_av_human2));
  memcpy(REAL(av_human2), internal->av_human2, internal->dim_av_human2 * sizeof(double));
  SET_VECTOR_ELT(contents, 9, av_human2);
  SEXP av_mosq1 = PROTECT(allocVector(REALSXP, internal->dim_av_mosq1));
  memcpy(REAL(av_mosq1), internal->av_mosq1, internal->dim_av_mosq1 * sizeof(double));
  SET_VECTOR_ELT(contents, 10, av_mosq1);
  SEXP av_mosq2 = PROTECT(allocVector(REALSXP, internal->dim_av_mosq2));
  memcpy(REAL(av_mosq2), internal->av_mosq2, internal->dim_av_mosq2 * sizeof(double));
  SET_VECTOR_ELT(contents, 11, av_mosq2);
  SEXP b = PROTECT(allocVector(REALSXP, internal->dim_b));
  memcpy(REAL(b), internal->b, internal->dim_b * sizeof(double));
  odin_set_dim(b, 3, internal->dim_b_1, internal->dim_b_2, internal->dim_b_3);
  SET_VECTOR_ELT(contents, 12, b);
  SET_VECTOR_ELT(contents, 13, ScalarReal(internal->b_lambda));
  SET_VECTOR_ELT(contents, 14, ScalarReal(internal->b0));
  SET_VECTOR_ELT(contents, 15, ScalarReal(internal->b1));
  SET_VECTOR_ELT(contents, 16, ScalarReal(internal->betaL));
  SET_VECTOR_ELT(contents, 17, ScalarReal(internal->bites_Bed_species1));
  SET_VECTOR_ELT(contents, 18, ScalarReal(internal->bites_Bed_species2));
  SET_VECTOR_ELT(contents, 19, ScalarReal(internal->bites_Indoors_species1));
  SET_VECTOR_ELT(contents, 20, ScalarReal(internal->bites_Indoors_species2));
  SEXP cA = PROTECT(allocVector(REALSXP, internal->dim_cA));
  memcpy(REAL(cA), internal->cA, internal->dim_cA * sizeof(double));
  odin_set_dim(cA, 3, internal->dim_cA_1, internal->dim_cA_2, internal->dim_cA_3);
  SET_VECTOR_ELT(contents, 21, cA);
  SET_VECTOR_ELT(contents, 22, ScalarReal(internal->cD));
  SET_VECTOR_ELT(contents, 23, ScalarReal(internal->chi_species1));
  SET_VECTOR_ELT(contents, 24, ScalarReal(internal->chi_species2));
  SEXP clin_inc = PROTECT(allocVector(REALSXP, internal->dim_clin_inc));
  memcpy(REAL(clin_inc), internal->clin_inc, internal->dim_clin_inc * sizeof(double));
  odin_set_dim(clin_inc, 3, internal->dim_clin_inc_1, internal->dim_clin_inc_2, internal->dim_clin_inc_3);
  SET_VECTOR_ELT(contents, 25, clin_inc);
  SEXP clin_inc0to5 = PROTECT(allocVector(REALSXP, internal->dim_clin_inc0to5));
  memcpy(REAL(clin_inc0to5), internal->clin_inc0to5, internal->dim_clin_inc0to5 * sizeof(double));
  odin_set_dim(clin_inc0to5, 3, internal->dim_clin_inc0to5_1, internal->dim_clin_inc0to5_2, internal->dim_clin_inc0to5_3);
  SET_VECTOR_ELT(contents, 26, clin_inc0to5);
  SEXP cov = PROTECT(allocVector(REALSXP, internal->dim_cov));
  memcpy(REAL(cov), internal->cov, internal->dim_cov * sizeof(double));
  SET_VECTOR_ELT(contents, 27, cov);
  SEXP cov_ = PROTECT(allocVector(REALSXP, internal->dim_cov_));
  memcpy(REAL(cov_), internal->cov_, internal->dim_cov_ * sizeof(double));
  SET_VECTOR_ELT(contents, 28, cov_);
  SET_VECTOR_ELT(contents, 29, ScalarReal(internal->cT));
  SET_VECTOR_ELT(contents, 30, ScalarReal(internal->cU));
  SEXP custom_seasonality = PROTECT(allocVector(REALSXP, internal->dim_custom_seasonality));
  memcpy(REAL(custom_seasonality), internal->custom_seasonality, internal->dim_custom_seasonality * sizeof(double));
  SET_VECTOR_ELT(contents, 31, custom_seasonality);
  SET_VECTOR_ELT(contents, 32, ScalarReal(internal->d_IRS0_1));
  SET_VECTOR_ELT(contents, 33, ScalarReal(internal->d_IRS0_2));
  SET_VECTOR_ELT(contents, 34, ScalarReal(internal->d_ITN0_1));
  SET_VECTOR_ELT(contents, 35, ScalarReal(internal->d_ITN0_2));
  SET_VECTOR_ELT(contents, 36, ScalarReal(internal->d1));
  SET_VECTOR_ELT(contents, 37, ScalarReal(internal->dB));
  SET_VECTOR_ELT(contents, 38, ScalarReal(internal->dCA));
  SET_VECTOR_ELT(contents, 39, ScalarReal(internal->dCM));
  SET_VECTOR_ELT(contents, 40, ScalarReal(internal->dE));
  SET_VECTOR_ELT(contents, 41, ScalarReal(internal->dEL));
  SEXP delay_array_av_human1 = PROTECT(allocVector(REALSXP, internal->dim_av_human1));
  memcpy(REAL(delay_array_av_human1), internal->delay_array_av_human1, internal->dim_av_human1 * sizeof(double));
  SET_VECTOR_ELT(contents, 42, delay_array_av_human1);
  SEXP delay_array_av_human2 = PROTECT(allocVector(REALSXP, internal->dim_av_human2));
  memcpy(REAL(delay_array_av_human2), internal->delay_array_av_human2, internal->dim_av_human2 * sizeof(double));
  SET_VECTOR_ELT(contents, 43, delay_array_av_human2);
  SEXP delay_array_av_mosq1 = PROTECT(allocVector(REALSXP, internal->dim_av_mosq1));
  memcpy(REAL(delay_array_av_mosq1), internal->delay_array_av_mosq1, internal->dim_av_mosq1 * sizeof(double));
  SET_VECTOR_ELT(contents, 44, delay_array_av_mosq1);
  SEXP delay_array_av_mosq2 = PROTECT(allocVector(REALSXP, internal->dim_av_mosq2));
  memcpy(REAL(delay_array_av_mosq2), internal->delay_array_av_mosq2, internal->dim_av_mosq2 * sizeof(double));
  SET_VECTOR_ELT(contents, 45, delay_array_av_mosq2);
  SEXP delay_array_b = PROTECT(allocVector(REALSXP, internal->dim_b));
  memcpy(REAL(delay_array_b), internal->delay_array_b, internal->dim_b * sizeof(double));
  odin_set_dim(delay_array_b, 3, internal->dim_b_1, internal->dim_b_2, internal->dim_b_3);
  SET_VECTOR_ELT(contents, 46, delay_array_b);
  SEXP delay_array_cA = PROTECT(allocVector(REALSXP, internal->dim_cA));
  memcpy(REAL(delay_array_cA), internal->delay_array_cA, internal->dim_cA * sizeof(double));
  odin_set_dim(delay_array_cA, 3, internal->dim_cA_1, internal->dim_cA_2, internal->dim_cA_3);
  SET_VECTOR_ELT(contents, 47, delay_array_cA);
  SEXP delay_array_EIR = PROTECT(allocVector(REALSXP, internal->dim_EIR));
  memcpy(REAL(delay_array_EIR), internal->delay_array_EIR, internal->dim_EIR * sizeof(double));
  odin_set_dim(delay_array_EIR, 3, internal->dim_EIR_1, internal->dim_EIR_2, internal->dim_EIR_3);
  SET_VECTOR_ELT(contents, 48, delay_array_EIR);
  SEXP delay_array_EIR_species1 = PROTECT(allocVector(REALSXP, internal->dim_EIR_species1));
  memcpy(REAL(delay_array_EIR_species1), internal->delay_array_EIR_species1, internal->dim_EIR_species1 * sizeof(double));
  odin_set_dim(delay_array_EIR_species1, 3, internal->dim_EIR_species1_1, internal->dim_EIR_species1_2, internal->dim_EIR_species1_3);
  SET_VECTOR_ELT(contents, 49, delay_array_EIR_species1);
  SEXP delay_array_EIR_species2 = PROTECT(allocVector(REALSXP, internal->dim_EIR_species2));
  memcpy(REAL(delay_array_EIR_species2), internal->delay_array_EIR_species2, internal->dim_EIR_species2 * sizeof(double));
  odin_set_dim(delay_array_EIR_species2, 3, internal->dim_EIR_species2_1, internal->dim_EIR_species2_2, internal->dim_EIR_species2_3);
  SET_VECTOR_ELT(contents, 50, delay_array_EIR_species2);
  SEXP delay_array_FOI_lag = PROTECT(allocVector(REALSXP, internal->dim_FOI_lag));
  memcpy(REAL(delay_array_FOI_lag), internal->delay_array_FOI_lag, internal->dim_FOI_lag * sizeof(double));
  odin_set_dim(delay_array_FOI_lag, 3, internal->dim_FOI_lag_1, internal->dim_FOI_lag_2, internal->dim_FOI_lag_3);
  SET_VECTOR_ELT(contents, 51, delay_array_FOI_lag);
  SEXP delay_array_FOIvijk_species1 = PROTECT(allocVector(REALSXP, internal->dim_FOIvijk_species1));
  memcpy(REAL(delay_array_FOIvijk_species1), internal->delay_array_FOIvijk_species1, internal->dim_FOIvijk_species1 * sizeof(double));
  odin_set_dim(delay_array_FOIvijk_species1, 3, internal->dim_FOIvijk_species1_1, internal->dim_FOIvijk_species1_2, internal->dim_FOIvijk_species1_3);
  SET_VECTOR_ELT(contents, 52, delay_array_FOIvijk_species1);
  SEXP delay_array_FOIvijk_species2 = PROTECT(allocVector(REALSXP, internal->dim_FOIvijk_species2));
  memcpy(REAL(delay_array_FOIvijk_species2), internal->delay_array_FOIvijk_species2, internal->dim_FOIvijk_species2 * sizeof(double));
  odin_set_dim(delay_array_FOIvijk_species2, 3, internal->dim_FOIvijk_species2_1, internal->dim_FOIvijk_species2_2, internal->dim_FOIvijk_species2_3);
  SET_VECTOR_ELT(contents, 53, delay_array_FOIvijk_species2);
  SEXP delay_array_p_det = PROTECT(allocVector(REALSXP, internal->dim_p_det));
  memcpy(REAL(delay_array_p_det), internal->delay_array_p_det, internal->dim_p_det * sizeof(double));
  odin_set_dim(delay_array_p_det, 3, internal->dim_p_det_1, internal->dim_p_det_2, internal->dim_p_det_3);
  SET_VECTOR_ELT(contents, 54, delay_array_p_det);
  SEXP delay_array_w1 = PROTECT(allocVector(REALSXP, internal->dim_w1));
  memcpy(REAL(delay_array_w1), internal->delay_array_w1, internal->dim_w1 * sizeof(double));
  SET_VECTOR_ELT(contents, 55, delay_array_w1);
  SEXP delay_array_w1_ = PROTECT(allocVector(REALSXP, internal->dim_w1_));
  memcpy(REAL(delay_array_w1_), internal->delay_array_w1_, internal->dim_w1_ * sizeof(double));
  SET_VECTOR_ELT(contents, 56, delay_array_w1_);
  SEXP delay_array_w2 = PROTECT(allocVector(REALSXP, internal->dim_w2));
  memcpy(REAL(delay_array_w2), internal->delay_array_w2, internal->dim_w2 * sizeof(double));
  SET_VECTOR_ELT(contents, 57, delay_array_w2);
  SEXP delay_array_w2_ = PROTECT(allocVector(REALSXP, internal->dim_w2_));
  memcpy(REAL(delay_array_w2_), internal->delay_array_w2_, internal->dim_w2_ * sizeof(double));
  SET_VECTOR_ELT(contents, 58, delay_array_w2_);
  SEXP delay_array_whi1 = PROTECT(allocVector(REALSXP, internal->dim_whi1));
  memcpy(REAL(delay_array_whi1), internal->delay_array_whi1, internal->dim_whi1 * sizeof(double));
  SET_VECTOR_ELT(contents, 59, delay_array_whi1);
  SEXP delay_array_whi2 = PROTECT(allocVector(REALSXP, internal->dim_whi2));
  memcpy(REAL(delay_array_whi2), internal->delay_array_whi2, internal->dim_whi2 * sizeof(double));
  SET_VECTOR_ELT(contents, 60, delay_array_whi2);
  SEXP delay_array_yy1 = PROTECT(allocVector(REALSXP, internal->dim_yy1));
  memcpy(REAL(delay_array_yy1), internal->delay_array_yy1, internal->dim_yy1 * sizeof(double));
  SET_VECTOR_ELT(contents, 61, delay_array_yy1);
  SEXP delay_array_yy1_ = PROTECT(allocVector(REALSXP, internal->dim_yy1_));
  memcpy(REAL(delay_array_yy1_), internal->delay_array_yy1_, internal->dim_yy1_ * sizeof(double));
  SET_VECTOR_ELT(contents, 62, delay_array_yy1_);
  SEXP delay_array_yy2 = PROTECT(allocVector(REALSXP, internal->dim_yy2));
  memcpy(REAL(delay_array_yy2), internal->delay_array_yy2, internal->dim_yy2 * sizeof(double));
  SET_VECTOR_ELT(contents, 63, delay_array_yy2);
  SEXP delay_array_yy2_ = PROTECT(allocVector(REALSXP, internal->dim_yy2_));
  memcpy(REAL(delay_array_yy2_), internal->delay_array_yy2_, internal->dim_yy2_ * sizeof(double));
  SET_VECTOR_ELT(contents, 64, delay_array_yy2_);
  SEXP delay_array_z1 = PROTECT(allocVector(REALSXP, internal->dim_z1));
  memcpy(REAL(delay_array_z1), internal->delay_array_z1, internal->dim_z1 * sizeof(double));
  SET_VECTOR_ELT(contents, 65, delay_array_z1);
  SEXP delay_array_z1_ = PROTECT(allocVector(REALSXP, internal->dim_z1_));
  memcpy(REAL(delay_array_z1_), internal->delay_array_z1_, internal->dim_z1_ * sizeof(double));
  SET_VECTOR_ELT(contents, 66, delay_array_z1_);
  SEXP delay_array_z2 = PROTECT(allocVector(REALSXP, internal->dim_z2));
  memcpy(REAL(delay_array_z2), internal->delay_array_z2, internal->dim_z2 * sizeof(double));
  SET_VECTOR_ELT(contents, 67, delay_array_z2);
  SEXP delay_array_z2_ = PROTECT(allocVector(REALSXP, internal->dim_z2_));
  memcpy(REAL(delay_array_z2_), internal->delay_array_z2_, internal->dim_z2_ * sizeof(double));
  SET_VECTOR_ELT(contents, 68, delay_array_z2_);
  SEXP delay_array_zhi1 = PROTECT(allocVector(REALSXP, internal->dim_zhi1));
  memcpy(REAL(delay_array_zhi1), internal->delay_array_zhi1, internal->dim_zhi1 * sizeof(double));
  SET_VECTOR_ELT(contents, 69, delay_array_zhi1);
  SEXP delay_array_zhi2 = PROTECT(allocVector(REALSXP, internal->dim_zhi2));
  memcpy(REAL(delay_array_zhi2), internal->delay_array_zhi2, internal->dim_zhi2 * sizeof(double));
  SET_VECTOR_ELT(contents, 70, delay_array_zhi2);
  SEXP delay_index_FOI = PROTECT(allocVector(INTSXP, internal->dim_delay_FOI));
  memcpy(INTEGER(delay_index_FOI), internal->delay_index_FOI, internal->dim_delay_FOI * sizeof(int));
  SET_VECTOR_ELT(contents, 71, delay_index_FOI);
  SEXP delay_index_FOIv_species1 = PROTECT(allocVector(INTSXP, internal->dim_delay_FOIv_species1));
  memcpy(INTEGER(delay_index_FOIv_species1), internal->delay_index_FOIv_species1, internal->dim_delay_FOIv_species1 * sizeof(int));
  SET_VECTOR_ELT(contents, 72, delay_index_FOIv_species1);
  SEXP delay_index_FOIv_species2 = PROTECT(allocVector(INTSXP, internal->dim_delay_FOIv_species2));
  memcpy(INTEGER(delay_index_FOIv_species2), internal->delay_index_FOIv_species2, internal->dim_delay_FOIv_species2 * sizeof(int));
  SET_VECTOR_ELT(contents, 73, delay_index_FOIv_species2);
  SEXP delay_index_incv1 = PROTECT(allocVector(INTSXP, 1));
  memcpy(INTEGER(delay_index_incv1), internal->delay_index_incv1, 1 * sizeof(int));
  SET_VECTOR_ELT(contents, 74, delay_index_incv1);
  SEXP delay_index_incv2 = PROTECT(allocVector(INTSXP, 1));
  memcpy(INTEGER(delay_index_incv2), internal->delay_index_incv2, 1 * sizeof(int));
  SET_VECTOR_ELT(contents, 75, delay_index_incv2);
  SEXP delay_state_FOI = PROTECT(allocVector(REALSXP, internal->dim_delay_FOI));
  memcpy(REAL(delay_state_FOI), internal->delay_state_FOI, internal->dim_delay_FOI * sizeof(double));
  SET_VECTOR_ELT(contents, 76, delay_state_FOI);
  SEXP delay_state_FOIv_species1 = PROTECT(allocVector(REALSXP, internal->dim_delay_FOIv_species1));
  memcpy(REAL(delay_state_FOIv_species1), internal->delay_state_FOIv_species1, internal->dim_delay_FOIv_species1 * sizeof(double));
  SET_VECTOR_ELT(contents, 77, delay_state_FOIv_species1);
  SEXP delay_state_FOIv_species2 = PROTECT(allocVector(REALSXP, internal->dim_delay_FOIv_species2));
  memcpy(REAL(delay_state_FOIv_species2), internal->delay_state_FOIv_species2, internal->dim_delay_FOIv_species2 * sizeof(double));
  SET_VECTOR_ELT(contents, 78, delay_state_FOIv_species2);
  SEXP delay_state_incv1 = PROTECT(allocVector(REALSXP, 1));
  memcpy(REAL(delay_state_incv1), internal->delay_state_incv1, 1 * sizeof(double));
  SET_VECTOR_ELT(contents, 79, delay_state_incv1);
  SEXP delay_state_incv2 = PROTECT(allocVector(REALSXP, 1));
  memcpy(REAL(delay_state_incv2), internal->delay_state_incv2, 1 * sizeof(double));
  SET_VECTOR_ELT(contents, 80, delay_state_incv2);
  SET_VECTOR_ELT(contents, 81, ScalarReal(internal->delayGam));
  SET_VECTOR_ELT(contents, 82, ScalarReal(internal->delayMos));
  SEXP den = PROTECT(allocVector(REALSXP, internal->dim_den));
  memcpy(REAL(den), internal->den, internal->dim_den * sizeof(double));
  SET_VECTOR_ELT(contents, 83, den);
  SEXP density_vec = PROTECT(allocVector(REALSXP, internal->dim_density_vec));
  memcpy(REAL(density_vec), internal->density_vec, internal->dim_density_vec * sizeof(double));
  SET_VECTOR_ELT(contents, 84, density_vec);
  SEXP density_vec_sp1 = PROTECT(allocVector(REALSXP, internal->dim_density_vec_sp1));
  memcpy(REAL(density_vec_sp1), internal->density_vec_sp1, internal->dim_density_vec_sp1 * sizeof(double));
  SET_VECTOR_ELT(contents, 85, density_vec_sp1);
  SET_VECTOR_ELT(contents, 86, ScalarReal(internal->dID));
  SET_VECTOR_ELT(contents, 87, ScalarInteger(internal->dim_A));
  SET_VECTOR_ELT(contents, 88, ScalarInteger(internal->dim_A_1));
  SET_VECTOR_ELT(contents, 89, ScalarInteger(internal->dim_A_12));
  SET_VECTOR_ELT(contents, 90, ScalarInteger(internal->dim_A_2));
  SET_VECTOR_ELT(contents, 91, ScalarInteger(internal->dim_A_3));
  SET_VECTOR_ELT(contents, 92, ScalarInteger(internal->dim_age));
  SET_VECTOR_ELT(contents, 93, ScalarInteger(internal->dim_age_rate));
  SET_VECTOR_ELT(contents, 94, ScalarInteger(internal->dim_av_human1));
  SET_VECTOR_ELT(contents, 95, ScalarInteger(internal->dim_av_human2));
  SET_VECTOR_ELT(contents, 96, ScalarInteger(internal->dim_av_mosq1));
  SET_VECTOR_ELT(contents, 97, ScalarInteger(internal->dim_av_mosq2));
  SET_VECTOR_ELT(contents, 98, ScalarInteger(internal->dim_b));
  SET_VECTOR_ELT(contents, 99, ScalarInteger(internal->dim_b_1));
  SET_VECTOR_ELT(contents, 100, ScalarInteger(internal->dim_b_12));
  SET_VECTOR_ELT(contents, 101, ScalarInteger(internal->dim_b_2));
  SET_VECTOR_ELT(contents, 102, ScalarInteger(internal->dim_b_3));
  SET_VECTOR_ELT(contents, 103, ScalarInteger(internal->dim_cA));
  SET_VECTOR_ELT(contents, 104, ScalarInteger(internal->dim_cA_1));
  SET_VECTOR_ELT(contents, 105, ScalarInteger(internal->dim_cA_12));
  SET_VECTOR_ELT(contents, 106, ScalarInteger(internal->dim_cA_2));
  SET_VECTOR_ELT(contents, 107, ScalarInteger(internal->dim_cA_3));
  SET_VECTOR_ELT(contents, 108, ScalarInteger(internal->dim_clin_inc));
  SET_VECTOR_ELT(contents, 109, ScalarInteger(internal->dim_clin_inc_1));
  SET_VECTOR_ELT(contents, 110, ScalarInteger(internal->dim_clin_inc_12));
  SET_VECTOR_ELT(contents, 111, ScalarInteger(internal->dim_clin_inc_2));
  SET_VECTOR_ELT(contents, 112, ScalarInteger(internal->dim_clin_inc_3));
  SET_VECTOR_ELT(contents, 113, ScalarInteger(internal->dim_clin_inc0to5));
  SET_VECTOR_ELT(contents, 114, ScalarInteger(internal->dim_clin_inc0to5_1));
  SET_VECTOR_ELT(contents, 115, ScalarInteger(internal->dim_clin_inc0to5_12));
  SET_VECTOR_ELT(contents, 116, ScalarInteger(internal->dim_clin_inc0to5_2));
  SET_VECTOR_ELT(contents, 117, ScalarInteger(internal->dim_clin_inc0to5_3));
  SET_VECTOR_ELT(contents, 118, ScalarInteger(internal->dim_cov));
  SET_VECTOR_ELT(contents, 119, ScalarInteger(internal->dim_cov_));
  SET_VECTOR_ELT(contents, 120, ScalarInteger(internal->dim_custom_seasonality));
  SET_VECTOR_ELT(contents, 121, ScalarInteger(internal->dim_D));
  SET_VECTOR_ELT(contents, 122, ScalarInteger(internal->dim_D_1));
  SET_VECTOR_ELT(contents, 123, ScalarInteger(internal->dim_D_12));
  SET_VECTOR_ELT(contents, 124, ScalarInteger(internal->dim_D_2));
  SET_VECTOR_ELT(contents, 125, ScalarInteger(internal->dim_D_3));
  SET_VECTOR_ELT(contents, 126, ScalarInteger(internal->dim_delay_FOI));
  SET_VECTOR_ELT(contents, 127, ScalarInteger(internal->dim_delay_FOIv_species1));
  SET_VECTOR_ELT(contents, 128, ScalarInteger(internal->dim_delay_FOIv_species2));
  SET_VECTOR_ELT(contents, 129, ScalarInteger(internal->dim_den));
  SET_VECTOR_ELT(contents, 130, ScalarInteger(internal->dim_density_vec));
  SET_VECTOR_ELT(contents, 131, ScalarInteger(internal->dim_density_vec_sp1));
  SET_VECTOR_ELT(contents, 132, ScalarInteger(internal->dim_EIR));
  SET_VECTOR_ELT(contents, 133, ScalarInteger(internal->dim_EIR_1));
  SET_VECTOR_ELT(contents, 134, ScalarInteger(internal->dim_EIR_12));
  SET_VECTOR_ELT(contents, 135, ScalarInteger(internal->dim_EIR_2));
  SET_VECTOR_ELT(contents, 136, ScalarInteger(internal->dim_EIR_3));
  SET_VECTOR_ELT(contents, 137, ScalarInteger(internal->dim_EIR_species1));
  SET_VECTOR_ELT(contents, 138, ScalarInteger(internal->dim_EIR_species1_1));
  SET_VECTOR_ELT(contents, 139, ScalarInteger(internal->dim_EIR_species1_12));
  SET_VECTOR_ELT(contents, 140, ScalarInteger(internal->dim_EIR_species1_2));
  SET_VECTOR_ELT(contents, 141, ScalarInteger(internal->dim_EIR_species1_3));
  SET_VECTOR_ELT(contents, 142, ScalarInteger(internal->dim_EIR_species2));
  SET_VECTOR_ELT(contents, 143, ScalarInteger(internal->dim_EIR_species2_1));
  SET_VECTOR_ELT(contents, 144, ScalarInteger(internal->dim_EIR_species2_12));
  SET_VECTOR_ELT(contents, 145, ScalarInteger(internal->dim_EIR_species2_2));
  SET_VECTOR_ELT(contents, 146, ScalarInteger(internal->dim_EIR_species2_3));
  SET_VECTOR_ELT(contents, 147, ScalarInteger(internal->dim_fd));
  SET_VECTOR_ELT(contents, 148, ScalarInteger(internal->dim_FOI));
  SET_VECTOR_ELT(contents, 149, ScalarInteger(internal->dim_FOI_1));
  SET_VECTOR_ELT(contents, 150, ScalarInteger(internal->dim_FOI_12));
  SET_VECTOR_ELT(contents, 151, ScalarInteger(internal->dim_FOI_2));
  SET_VECTOR_ELT(contents, 152, ScalarInteger(internal->dim_FOI_3));
  SET_VECTOR_ELT(contents, 153, ScalarInteger(internal->dim_foi_age));
  SET_VECTOR_ELT(contents, 154, ScalarInteger(internal->dim_FOI_lag));
  SET_VECTOR_ELT(contents, 155, ScalarInteger(internal->dim_FOI_lag_1));
  SET_VECTOR_ELT(contents, 156, ScalarInteger(internal->dim_FOI_lag_12));
  SET_VECTOR_ELT(contents, 157, ScalarInteger(internal->dim_FOI_lag_2));
  SET_VECTOR_ELT(contents, 158, ScalarInteger(internal->dim_FOI_lag_3));
  SET_VECTOR_ELT(contents, 159, ScalarInteger(internal->dim_FOIvijk_species1));
  SET_VECTOR_ELT(contents, 160, ScalarInteger(internal->dim_FOIvijk_species1_1));
  SET_VECTOR_ELT(contents, 161, ScalarInteger(internal->dim_FOIvijk_species1_12));
  SET_VECTOR_ELT(contents, 162, ScalarInteger(internal->dim_FOIvijk_species1_2));
  SET_VECTOR_ELT(contents, 163, ScalarInteger(internal->dim_FOIvijk_species1_3));
  SET_VECTOR_ELT(contents, 164, ScalarInteger(internal->dim_FOIvijk_species2));
  SET_VECTOR_ELT(contents, 165, ScalarInteger(internal->dim_FOIvijk_species2_1));
  SET_VECTOR_ELT(contents, 166, ScalarInteger(internal->dim_FOIvijk_species2_12));
  SET_VECTOR_ELT(contents, 167, ScalarInteger(internal->dim_FOIvijk_species2_2));
  SET_VECTOR_ELT(contents, 168, ScalarInteger(internal->dim_FOIvijk_species2_3));
  SET_VECTOR_ELT(contents, 169, ScalarInteger(internal->dim_het_wt));
  SET_VECTOR_ELT(contents, 170, ScalarInteger(internal->dim_IB));
  SET_VECTOR_ELT(contents, 171, ScalarInteger(internal->dim_IB_1));
  SET_VECTOR_ELT(contents, 172, ScalarInteger(internal->dim_IB_12));
  SET_VECTOR_ELT(contents, 173, ScalarInteger(internal->dim_IB_2));
  SET_VECTOR_ELT(contents, 174, ScalarInteger(internal->dim_IB_3));
  SET_VECTOR_ELT(contents, 175, ScalarInteger(internal->dim_IC));
  SET_VECTOR_ELT(contents, 176, ScalarInteger(internal->dim_IC_1));
  SET_VECTOR_ELT(contents, 177, ScalarInteger(internal->dim_IC_12));
  SET_VECTOR_ELT(contents, 178, ScalarInteger(internal->dim_IC_2));
  SET_VECTOR_ELT(contents, 179, ScalarInteger(internal->dim_IC_3));
  SET_VECTOR_ELT(contents, 180, ScalarInteger(internal->dim_ICA));
  SET_VECTOR_ELT(contents, 181, ScalarInteger(internal->dim_ICA_1));
  SET_VECTOR_ELT(contents, 182, ScalarInteger(internal->dim_ICA_12));
  SET_VECTOR_ELT(contents, 183, ScalarInteger(internal->dim_ICA_2));
  SET_VECTOR_ELT(contents, 184, ScalarInteger(internal->dim_ICA_3));
  SET_VECTOR_ELT(contents, 185, ScalarInteger(internal->dim_ICM));
  SET_VECTOR_ELT(contents, 186, ScalarInteger(internal->dim_ICM_1));
  SET_VECTOR_ELT(contents, 187, ScalarInteger(internal->dim_ICM_12));
  SET_VECTOR_ELT(contents, 188, ScalarInteger(internal->dim_ICM_2));
  SET_VECTOR_ELT(contents, 189, ScalarInteger(internal->dim_ICM_3));
  SET_VECTOR_ELT(contents, 190, ScalarInteger(internal->dim_ID));
  SET_VECTOR_ELT(contents, 191, ScalarInteger(internal->dim_ID_1));
  SET_VECTOR_ELT(contents, 192, ScalarInteger(internal->dim_ID_12));
  SET_VECTOR_ELT(contents, 193, ScalarInteger(internal->dim_ID_2));
  SET_VECTOR_ELT(contents, 194, ScalarInteger(internal->dim_ID_3));
  SET_VECTOR_ELT(contents, 195, ScalarInteger(internal->dim_init_A));
  SET_VECTOR_ELT(contents, 196, ScalarInteger(internal->dim_init_A_1));
  SET_VECTOR_ELT(contents, 197, ScalarInteger(internal->dim_init_A_12));
  SET_VECTOR_ELT(contents, 198, ScalarInteger(internal->dim_init_A_2));
  SET_VECTOR_ELT(contents, 199, ScalarInteger(internal->dim_init_A_3));
  SET_VECTOR_ELT(contents, 200, ScalarInteger(internal->dim_init_D));
  SET_VECTOR_ELT(contents, 201, ScalarInteger(internal->dim_init_D_1));
  SET_VECTOR_ELT(contents, 202, ScalarInteger(internal->dim_init_D_12));
  SET_VECTOR_ELT(contents, 203, ScalarInteger(internal->dim_init_D_2));
  SET_VECTOR_ELT(contents, 204, ScalarInteger(internal->dim_init_D_3));
  SET_VECTOR_ELT(contents, 205, ScalarInteger(internal->dim_init_IB));
  SET_VECTOR_ELT(contents, 206, ScalarInteger(internal->dim_init_IB_1));
  SET_VECTOR_ELT(contents, 207, ScalarInteger(internal->dim_init_IB_12));
  SET_VECTOR_ELT(contents, 208, ScalarInteger(internal->dim_init_IB_2));
  SET_VECTOR_ELT(contents, 209, ScalarInteger(internal->dim_init_IB_3));
  SET_VECTOR_ELT(contents, 210, ScalarInteger(internal->dim_init_ICA));
  SET_VECTOR_ELT(contents, 211, ScalarInteger(internal->dim_init_ICA_1));
  SET_VECTOR_ELT(contents, 212, ScalarInteger(internal->dim_init_ICA_12));
  SET_VECTOR_ELT(contents, 213, ScalarInteger(internal->dim_init_ICA_2));
  SET_VECTOR_ELT(contents, 214, ScalarInteger(internal->dim_init_ICA_3));
  SET_VECTOR_ELT(contents, 215, ScalarInteger(internal->dim_init_ICM));
  SET_VECTOR_ELT(contents, 216, ScalarInteger(internal->dim_init_ICM_1));
  SET_VECTOR_ELT(contents, 217, ScalarInteger(internal->dim_init_ICM_12));
  SET_VECTOR_ELT(contents, 218, ScalarInteger(internal->dim_init_ICM_2));
  SET_VECTOR_ELT(contents, 219, ScalarInteger(internal->dim_init_ICM_3));
  SET_VECTOR_ELT(contents, 220, ScalarInteger(internal->dim_init_ICM_pre));
  SET_VECTOR_ELT(contents, 221, ScalarInteger(internal->dim_init_ICM_pre_1));
  SET_VECTOR_ELT(contents, 222, ScalarInteger(internal->dim_init_ICM_pre_2));
  SET_VECTOR_ELT(contents, 223, ScalarInteger(internal->dim_init_ID));
  SET_VECTOR_ELT(contents, 224, ScalarInteger(internal->dim_init_ID_1));
  SET_VECTOR_ELT(contents, 225, ScalarInteger(internal->dim_init_ID_12));
  SET_VECTOR_ELT(contents, 226, ScalarInteger(internal->dim_init_ID_2));
  SET_VECTOR_ELT(contents, 227, ScalarInteger(internal->dim_init_ID_3));
  SET_VECTOR_ELT(contents, 228, ScalarInteger(internal->dim_init_P));
  SET_VECTOR_ELT(contents, 229, ScalarInteger(internal->dim_init_P_1));
  SET_VECTOR_ELT(contents, 230, ScalarInteger(internal->dim_init_P_12));
  SET_VECTOR_ELT(contents, 231, ScalarInteger(internal->dim_init_P_2));
  SET_VECTOR_ELT(contents, 232, ScalarInteger(internal->dim_init_P_3));
  SET_VECTOR_ELT(contents, 233, ScalarInteger(internal->dim_init_S));
  SET_VECTOR_ELT(contents, 234, ScalarInteger(internal->dim_init_S_1));
  SET_VECTOR_ELT(contents, 235, ScalarInteger(internal->dim_init_S_12));
  SET_VECTOR_ELT(contents, 236, ScalarInteger(internal->dim_init_S_2));
  SET_VECTOR_ELT(contents, 237, ScalarInteger(internal->dim_init_S_3));
  SET_VECTOR_ELT(contents, 238, ScalarInteger(internal->dim_init_T));
  SET_VECTOR_ELT(contents, 239, ScalarInteger(internal->dim_init_T_1));
  SET_VECTOR_ELT(contents, 240, ScalarInteger(internal->dim_init_T_12));
  SET_VECTOR_ELT(contents, 241, ScalarInteger(internal->dim_init_T_2));
  SET_VECTOR_ELT(contents, 242, ScalarInteger(internal->dim_init_T_3));
  SET_VECTOR_ELT(contents, 243, ScalarInteger(internal->dim_init_U));
  SET_VECTOR_ELT(contents, 244, ScalarInteger(internal->dim_init_U_1));
  SET_VECTOR_ELT(contents, 245, ScalarInteger(internal->dim_init_U_12));
  SET_VECTOR_ELT(contents, 246, ScalarInteger(internal->dim_init_U_2));
  SET_VECTOR_ELT(contents, 247, ScalarInteger(internal->dim_init_U_3));
  SET_VECTOR_ELT(contents, 248, ScalarInteger(internal->dim_P));
  SET_VECTOR_ELT(contents, 249, ScalarInteger(internal->dim_P_1));
  SET_VECTOR_ELT(contents, 250, ScalarInteger(internal->dim_P_12));
  SET_VECTOR_ELT(contents, 251, ScalarInteger(internal->dim_P_2));
  SET_VECTOR_ELT(contents, 252, ScalarInteger(internal->dim_P_3));
  SET_VECTOR_ELT(contents, 253, ScalarInteger(internal->dim_p_det));
  SET_VECTOR_ELT(contents, 254, ScalarInteger(internal->dim_p_det_1));
  SET_VECTOR_ELT(contents, 255, ScalarInteger(internal->dim_p_det_12));
  SET_VECTOR_ELT(contents, 256, ScalarInteger(internal->dim_p_det_2));
  SET_VECTOR_ELT(contents, 257, ScalarInteger(internal->dim_p_det_3));
  SET_VECTOR_ELT(contents, 258, ScalarInteger(internal->dim_phi));
  SET_VECTOR_ELT(contents, 259, ScalarInteger(internal->dim_phi_1));
  SET_VECTOR_ELT(contents, 260, ScalarInteger(internal->dim_phi_12));
  SET_VECTOR_ELT(contents, 261, ScalarInteger(internal->dim_phi_2));
  SET_VECTOR_ELT(contents, 262, ScalarInteger(internal->dim_phi_3));
  SET_VECTOR_ELT(contents, 263, ScalarInteger(internal->dim_prev0to5));
  SET_VECTOR_ELT(contents, 264, ScalarInteger(internal->dim_prev0to5_1));
  SET_VECTOR_ELT(contents, 265, ScalarInteger(internal->dim_prev0to5_12));
  SET_VECTOR_ELT(contents, 266, ScalarInteger(internal->dim_prev0to5_2));
  SET_VECTOR_ELT(contents, 267, ScalarInteger(internal->dim_prev0to5_3));
  SET_VECTOR_ELT(contents, 268, ScalarInteger(internal->dim_prev0to59));
  SET_VECTOR_ELT(contents, 269, ScalarInteger(internal->dim_prev0to59_1));
  SET_VECTOR_ELT(contents, 270, ScalarInteger(internal->dim_prev0to59_12));
  SET_VECTOR_ELT(contents, 271, ScalarInteger(internal->dim_prev0to59_2));
  SET_VECTOR_ELT(contents, 272, ScalarInteger(internal->dim_prev0to59_3));
  SET_VECTOR_ELT(contents, 273, ScalarInteger(internal->dim_rel_foi));
  SET_VECTOR_ELT(contents, 274, ScalarInteger(internal->dim_S));
  SET_VECTOR_ELT(contents, 275, ScalarInteger(internal->dim_S_1));
  SET_VECTOR_ELT(contents, 276, ScalarInteger(internal->dim_S_12));
  SET_VECTOR_ELT(contents, 277, ScalarInteger(internal->dim_S_2));
  SET_VECTOR_ELT(contents, 278, ScalarInteger(internal->dim_S_3));
  SET_VECTOR_ELT(contents, 279, ScalarInteger(internal->dim_T));
  SET_VECTOR_ELT(contents, 280, ScalarInteger(internal->dim_T_1));
  SET_VECTOR_ELT(contents, 281, ScalarInteger(internal->dim_T_12));
  SET_VECTOR_ELT(contents, 282, ScalarInteger(internal->dim_T_2));
  SET_VECTOR_ELT(contents, 283, ScalarInteger(internal->dim_T_3));
  SET_VECTOR_ELT(contents, 284, ScalarInteger(internal->dim_U));
  SET_VECTOR_ELT(contents, 285, ScalarInteger(internal->dim_U_1));
  SET_VECTOR_ELT(contents, 286, ScalarInteger(internal->dim_U_12));
  SET_VECTOR_ELT(contents, 287, ScalarInteger(internal->dim_U_2));
  SET_VECTOR_ELT(contents, 288, ScalarInteger(internal->dim_U_3));
  SET_VECTOR_ELT(contents, 289, ScalarInteger(internal->dim_w1));
  SET_VECTOR_ELT(contents, 290, ScalarInteger(internal->dim_w1_));
  SET_VECTOR_ELT(contents, 291, ScalarInteger(internal->dim_w2));
  SET_VECTOR_ELT(contents, 292, ScalarInteger(internal->dim_w2_));
  SET_VECTOR_ELT(contents, 293, ScalarInteger(internal->dim_whi1));
  SET_VECTOR_ELT(contents, 294, ScalarInteger(internal->dim_whi2));
  SET_VECTOR_ELT(contents, 295, ScalarInteger(internal->dim_x_I));
  SET_VECTOR_ELT(contents, 296, ScalarInteger(internal->dim_Y));
  SET_VECTOR_ELT(contents, 297, ScalarInteger(internal->dim_Y_1));
  SET_VECTOR_ELT(contents, 298, ScalarInteger(internal->dim_Y_12));
  SET_VECTOR_ELT(contents, 299, ScalarInteger(internal->dim_Y_2));
  SET_VECTOR_ELT(contents, 300, ScalarInteger(internal->dim_Y_3));
  SET_VECTOR_ELT(contents, 301, ScalarInteger(internal->dim_yy1));
  SET_VECTOR_ELT(contents, 302, ScalarInteger(internal->dim_yy1_));
  SET_VECTOR_ELT(contents, 303, ScalarInteger(internal->dim_yy2));
  SET_VECTOR_ELT(contents, 304, ScalarInteger(internal->dim_yy2_));
  SET_VECTOR_ELT(contents, 305, ScalarInteger(internal->dim_z1));
  SET_VECTOR_ELT(contents, 306, ScalarInteger(internal->dim_z1_));
  SET_VECTOR_ELT(contents, 307, ScalarInteger(internal->dim_z2));
  SET_VECTOR_ELT(contents, 308, ScalarInteger(internal->dim_z2_));
  SET_VECTOR_ELT(contents, 309, ScalarInteger(internal->dim_zhi1));
  SET_VECTOR_ELT(contents, 310, ScalarInteger(internal->dim_zhi2));
  SET_VECTOR_ELT(contents, 311, ScalarReal(internal->dLL));
  SET_VECTOR_ELT(contents, 312, ScalarReal(internal->dPL));
  SEXP EIR = PROTECT(allocVector(REALSXP, internal->dim_EIR));
  memcpy(REAL(EIR), internal->EIR, internal->dim_EIR * sizeof(double));
  odin_set_dim(EIR, 3, internal->dim_EIR_1, internal->dim_EIR_2, internal->dim_EIR_3);
  SET_VECTOR_ELT(contents, 313, EIR);
  SEXP EIR_species1 = PROTECT(allocVector(REALSXP, internal->dim_EIR_species1));
  memcpy(REAL(EIR_species1), internal->EIR_species1, internal->dim_EIR_species1 * sizeof(double));
  odin_set_dim(EIR_species1, 3, internal->dim_EIR_species1_1, internal->dim_EIR_species1_2, internal->dim_EIR_species1_3);
  SET_VECTOR_ELT(contents, 314, EIR_species1);
  SEXP EIR_species2 = PROTECT(allocVector(REALSXP, internal->dim_EIR_species2));
  memcpy(REAL(EIR_species2), internal->EIR_species2, internal->dim_EIR_species2 * sizeof(double));
  odin_set_dim(EIR_species2, 3, internal->dim_EIR_species2_1, internal->dim_EIR_species2_2, internal->dim_EIR_species2_3);
  SET_VECTOR_ELT(contents, 315, EIR_species2);
  SET_VECTOR_ELT(contents, 316, ScalarReal(internal->eta));
  SEXP fd = PROTECT(allocVector(REALSXP, internal->dim_fd));
  memcpy(REAL(fd), internal->fd, internal->dim_fd * sizeof(double));
  SET_VECTOR_ELT(contents, 317, fd);
  SET_VECTOR_ELT(contents, 318, ScalarReal(internal->fD0));
  SEXP FOI = PROTECT(allocVector(REALSXP, internal->dim_FOI));
  memcpy(REAL(FOI), internal->FOI, internal->dim_FOI * sizeof(double));
  odin_set_dim(FOI, 3, internal->dim_FOI_1, internal->dim_FOI_2, internal->dim_FOI_3);
  SET_VECTOR_ELT(contents, 319, FOI);
  SEXP foi_age = PROTECT(allocVector(REALSXP, internal->dim_foi_age));
  memcpy(REAL(foi_age), internal->foi_age, internal->dim_foi_age * sizeof(double));
  SET_VECTOR_ELT(contents, 320, foi_age);
  SEXP FOI_lag = PROTECT(allocVector(REALSXP, internal->dim_FOI_lag));
  memcpy(REAL(FOI_lag), internal->FOI_lag, internal->dim_FOI_lag * sizeof(double));
  odin_set_dim(FOI_lag, 3, internal->dim_FOI_lag_1, internal->dim_FOI_lag_2, internal->dim_FOI_lag_3);
  SET_VECTOR_ELT(contents, 321, FOI_lag);
  SEXP FOIvijk_species1 = PROTECT(allocVector(REALSXP, internal->dim_FOIvijk_species1));
  memcpy(REAL(FOIvijk_species1), internal->FOIvijk_species1, internal->dim_FOIvijk_species1 * sizeof(double));
  odin_set_dim(FOIvijk_species1, 3, internal->dim_FOIvijk_species1_1, internal->dim_FOIvijk_species1_2, internal->dim_FOIvijk_species1_3);
  SET_VECTOR_ELT(contents, 322, FOIvijk_species1);
  SEXP FOIvijk_species2 = PROTECT(allocVector(REALSXP, internal->dim_FOIvijk_species2));
  memcpy(REAL(FOIvijk_species2), internal->FOIvijk_species2, internal->dim_FOIvijk_species2 * sizeof(double));
  odin_set_dim(FOIvijk_species2, 3, internal->dim_FOIvijk_species2_1, internal->dim_FOIvijk_species2_2, internal->dim_FOIvijk_species2_3);
  SET_VECTOR_ELT(contents, 323, FOIvijk_species2);
  SET_VECTOR_ELT(contents, 324, ScalarReal(internal->ft));
  SET_VECTOR_ELT(contents, 325, ScalarReal(internal->gamma1));
  SET_VECTOR_ELT(contents, 326, ScalarReal(internal->gammaD));
  SET_VECTOR_ELT(contents, 327, ScalarReal(internal->gammaL));
  SEXP het_wt = PROTECT(allocVector(REALSXP, internal->dim_het_wt));
  memcpy(REAL(het_wt), internal->het_wt, internal->dim_het_wt * sizeof(double));
  SET_VECTOR_ELT(contents, 328, het_wt);
  SET_VECTOR_ELT(contents, 329, ScalarReal(internal->IB0));
  SEXP IC = PROTECT(allocVector(REALSXP, internal->dim_IC));
  memcpy(REAL(IC), internal->IC, internal->dim_IC * sizeof(double));
  odin_set_dim(IC, 3, internal->dim_IC_1, internal->dim_IC_2, internal->dim_IC_3);
  SET_VECTOR_ELT(contents, 330, IC);
  SET_VECTOR_ELT(contents, 331, ScalarReal(internal->IC0));
  SET_VECTOR_ELT(contents, 332, ScalarReal(internal->ID0));
  SEXP init_A = PROTECT(allocVector(REALSXP, internal->dim_init_A));
  memcpy(REAL(init_A), internal->init_A, internal->dim_init_A * sizeof(double));
  odin_set_dim(init_A, 3, internal->dim_init_A_1, internal->dim_init_A_2, internal->dim_init_A_3);
  SET_VECTOR_ELT(contents, 333, init_A);
  SEXP init_D = PROTECT(allocVector(REALSXP, internal->dim_init_D));
  memcpy(REAL(init_D), internal->init_D, internal->dim_init_D * sizeof(double));
  odin_set_dim(init_D, 3, internal->dim_init_D_1, internal->dim_init_D_2, internal->dim_init_D_3);
  SET_VECTOR_ELT(contents, 334, init_D);
  SET_VECTOR_ELT(contents, 335, ScalarReal(internal->init_EL));
  SET_VECTOR_ELT(contents, 336, ScalarReal(internal->init_Ev));
  SEXP init_IB = PROTECT(allocVector(REALSXP, internal->dim_init_IB));
  memcpy(REAL(init_IB), internal->init_IB, internal->dim_init_IB * sizeof(double));
  odin_set_dim(init_IB, 3, internal->dim_init_IB_1, internal->dim_init_IB_2, internal->dim_init_IB_3);
  SET_VECTOR_ELT(contents, 337, init_IB);
  SEXP init_ICA = PROTECT(allocVector(REALSXP, internal->dim_init_ICA));
  memcpy(REAL(init_ICA), internal->init_ICA, internal->dim_init_ICA * sizeof(double));
  odin_set_dim(init_ICA, 3, internal->dim_init_ICA_1, internal->dim_init_ICA_2, internal->dim_init_ICA_3);
  SET_VECTOR_ELT(contents, 338, init_ICA);
  SEXP init_ICM = PROTECT(allocVector(REALSXP, internal->dim_init_ICM));
  memcpy(REAL(init_ICM), internal->init_ICM, internal->dim_init_ICM * sizeof(double));
  odin_set_dim(init_ICM, 3, internal->dim_init_ICM_1, internal->dim_init_ICM_2, internal->dim_init_ICM_3);
  SET_VECTOR_ELT(contents, 339, init_ICM);
  SEXP init_ICM_pre = PROTECT(allocVector(REALSXP, internal->dim_init_ICM_pre));
  memcpy(REAL(init_ICM_pre), internal->init_ICM_pre, internal->dim_init_ICM_pre * sizeof(double));
  odin_set_dim(init_ICM_pre, 2, internal->dim_init_ICM_pre_1, internal->dim_init_ICM_pre_2);
  SET_VECTOR_ELT(contents, 340, init_ICM_pre);
  SEXP init_ID = PROTECT(allocVector(REALSXP, internal->dim_init_ID));
  memcpy(REAL(init_ID), internal->init_ID, internal->dim_init_ID * sizeof(double));
  odin_set_dim(init_ID, 3, internal->dim_init_ID_1, internal->dim_init_ID_2, internal->dim_init_ID_3);
  SET_VECTOR_ELT(contents, 341, init_ID);
  SET_VECTOR_ELT(contents, 342, ScalarReal(internal->init_Iv));
  SET_VECTOR_ELT(contents, 343, ScalarReal(internal->init_LL));
  SEXP init_P = PROTECT(allocVector(REALSXP, internal->dim_init_P));
  memcpy(REAL(init_P), internal->init_P, internal->dim_init_P * sizeof(double));
  odin_set_dim(init_P, 3, internal->dim_init_P_1, internal->dim_init_P_2, internal->dim_init_P_3);
  SET_VECTOR_ELT(contents, 344, init_P);
  SET_VECTOR_ELT(contents, 345, ScalarReal(internal->init_PL));
  SEXP init_S = PROTECT(allocVector(REALSXP, internal->dim_init_S));
  memcpy(REAL(init_S), internal->init_S, internal->dim_init_S * sizeof(double));
  odin_set_dim(init_S, 3, internal->dim_init_S_1, internal->dim_init_S_2, internal->dim_init_S_3);
  SET_VECTOR_ELT(contents, 346, init_S);
  SET_VECTOR_ELT(contents, 347, ScalarReal(internal->init_Sv));
  SEXP init_T = PROTECT(allocVector(REALSXP, internal->dim_init_T));
  memcpy(REAL(init_T), internal->init_T, internal->dim_init_T * sizeof(double));
  odin_set_dim(init_T, 3, internal->dim_init_T_1, internal->dim_init_T_2, internal->dim_init_T_3);
  SET_VECTOR_ELT(contents, 348, init_T);
  SEXP init_U = PROTECT(allocVector(REALSXP, internal->dim_init_U));
  memcpy(REAL(init_U), internal->init_U, internal->dim_init_U * sizeof(double));
  odin_set_dim(init_U, 3, internal->dim_init_U_1, internal->dim_init_U_2, internal->dim_init_U_3);
  SET_VECTOR_ELT(contents, 349, init_U);
  SEXP initial_A = PROTECT(allocVector(REALSXP, internal->dim_A));
  memcpy(REAL(initial_A), internal->initial_A, internal->dim_A * sizeof(double));
  odin_set_dim(initial_A, 3, internal->dim_A_1, internal->dim_A_2, internal->dim_A_3);
  SET_VECTOR_ELT(contents, 350, initial_A);
  SEXP initial_D = PROTECT(allocVector(REALSXP, internal->dim_D));
  memcpy(REAL(initial_D), internal->initial_D, internal->dim_D * sizeof(double));
  odin_set_dim(initial_D, 3, internal->dim_D_1, internal->dim_D_2, internal->dim_D_3);
  SET_VECTOR_ELT(contents, 351, initial_D);
  SET_VECTOR_ELT(contents, 352, ScalarReal(internal->initial_EL1));
  SET_VECTOR_ELT(contents, 353, ScalarReal(internal->initial_EL2));
  SET_VECTOR_ELT(contents, 354, ScalarReal(internal->initial_Ev1));
  SET_VECTOR_ELT(contents, 355, ScalarReal(internal->initial_Ev2));
  SEXP initial_IB = PROTECT(allocVector(REALSXP, internal->dim_IB));
  memcpy(REAL(initial_IB), internal->initial_IB, internal->dim_IB * sizeof(double));
  odin_set_dim(initial_IB, 3, internal->dim_IB_1, internal->dim_IB_2, internal->dim_IB_3);
  SET_VECTOR_ELT(contents, 356, initial_IB);
  SEXP initial_ICA = PROTECT(allocVector(REALSXP, internal->dim_ICA));
  memcpy(REAL(initial_ICA), internal->initial_ICA, internal->dim_ICA * sizeof(double));
  odin_set_dim(initial_ICA, 3, internal->dim_ICA_1, internal->dim_ICA_2, internal->dim_ICA_3);
  SET_VECTOR_ELT(contents, 357, initial_ICA);
  SEXP initial_ICM = PROTECT(allocVector(REALSXP, internal->dim_ICM));
  memcpy(REAL(initial_ICM), internal->initial_ICM, internal->dim_ICM * sizeof(double));
  odin_set_dim(initial_ICM, 3, internal->dim_ICM_1, internal->dim_ICM_2, internal->dim_ICM_3);
  SET_VECTOR_ELT(contents, 358, initial_ICM);
  SEXP initial_ID = PROTECT(allocVector(REALSXP, internal->dim_ID));
  memcpy(REAL(initial_ID), internal->initial_ID, internal->dim_ID * sizeof(double));
  odin_set_dim(initial_ID, 3, internal->dim_ID_1, internal->dim_ID_2, internal->dim_ID_3);
  SET_VECTOR_ELT(contents, 359, initial_ID);
  SET_VECTOR_ELT(contents, 360, ScalarReal(internal->initial_Iv1));
  SET_VECTOR_ELT(contents, 361, ScalarReal(internal->initial_Iv2));
  SET_VECTOR_ELT(contents, 362, ScalarReal(internal->initial_LL1));
  SET_VECTOR_ELT(contents, 363, ScalarReal(internal->initial_LL2));
  SEXP initial_P = PROTECT(allocVector(REALSXP, internal->dim_P));
  memcpy(REAL(initial_P), internal->initial_P, internal->dim_P * sizeof(double));
  odin_set_dim(initial_P, 3, internal->dim_P_1, internal->dim_P_2, internal->dim_P_3);
  SET_VECTOR_ELT(contents, 364, initial_P);
  SET_VECTOR_ELT(contents, 365, ScalarReal(internal->initial_PL1));
  SET_VECTOR_ELT(contents, 366, ScalarReal(internal->initial_PL2));
  SEXP initial_S = PROTECT(allocVector(REALSXP, internal->dim_S));
  memcpy(REAL(initial_S), internal->initial_S, internal->dim_S * sizeof(double));
  odin_set_dim(initial_S, 3, internal->dim_S_1, internal->dim_S_2, internal->dim_S_3);
  SET_VECTOR_ELT(contents, 367, initial_S);
  SET_VECTOR_ELT(contents, 368, ScalarReal(internal->initial_Sv1));
  SET_VECTOR_ELT(contents, 369, ScalarReal(internal->initial_Sv2));
  SET_VECTOR_ELT(contents, 370, ScalarReal(internal->initial_t));
  SEXP initial_T = PROTECT(allocVector(REALSXP, internal->dim_T));
  memcpy(REAL(initial_T), internal->initial_T, internal->dim_T * sizeof(double));
  odin_set_dim(initial_T, 3, internal->dim_T_1, internal->dim_T_2, internal->dim_T_3);
  SET_VECTOR_ELT(contents, 371, initial_T);
  SEXP initial_U = PROTECT(allocVector(REALSXP, internal->dim_U));
  memcpy(REAL(initial_U), internal->initial_U, internal->dim_U * sizeof(double));
  odin_set_dim(initial_U, 3, internal->dim_U_1, internal->dim_U_2, internal->dim_U_3);
  SET_VECTOR_ELT(contents, 372, initial_U);
  SET_VECTOR_ELT(contents, 373, ScalarReal(internal->irs_cov));
  SET_VECTOR_ELT(contents, 374, ScalarReal(internal->IRS_interval));
  SET_VECTOR_ELT(contents, 375, ScalarReal(internal->irs_loss));
  SET_VECTOR_ELT(contents, 376, ScalarReal(internal->itn_cov));
  SET_VECTOR_ELT(contents, 377, ScalarReal(internal->ITN_interval));
  SET_VECTOR_ELT(contents, 378, ScalarReal(internal->ITN_IRS_on));
  SET_VECTOR_ELT(contents, 379, ScalarReal(internal->itn_loss));
  SET_VECTOR_ELT(contents, 380, ScalarReal(internal->kB));
  SET_VECTOR_ELT(contents, 381, ScalarReal(internal->kC));
  SET_VECTOR_ELT(contents, 382, ScalarReal(internal->kD));
  SET_VECTOR_ELT(contents, 383, ScalarReal(internal->mu0));
  SET_VECTOR_ELT(contents, 384, ScalarReal(internal->muEL));
  SET_VECTOR_ELT(contents, 385, ScalarReal(internal->muLL));
  SET_VECTOR_ELT(contents, 386, ScalarReal(internal->muPL));
  SET_VECTOR_ELT(contents, 387, ScalarReal(internal->mv0));
  SET_VECTOR_ELT(contents, 388, ScalarInteger(internal->na));
  SET_VECTOR_ELT(contents, 389, ScalarInteger(internal->nh));
  SET_VECTOR_ELT(contents, 390, ScalarInteger(internal->num_int));
  SET_VECTOR_ELT(contents, 391, ScalarInteger(internal->offset_FOIv_species1_A));
  SET_VECTOR_ELT(contents, 392, ScalarInteger(internal->offset_FOIv_species1_ID));
  SET_VECTOR_ELT(contents, 393, ScalarInteger(internal->offset_FOIv_species1_U));
  SET_VECTOR_ELT(contents, 394, ScalarInteger(internal->offset_FOIv_species2_A));
  SET_VECTOR_ELT(contents, 395, ScalarInteger(internal->offset_FOIv_species2_ID));
  SET_VECTOR_ELT(contents, 396, ScalarInteger(internal->offset_FOIv_species2_U));
  SET_VECTOR_ELT(contents, 397, ScalarInteger(internal->offset_output_EIR));
  SET_VECTOR_ELT(contents, 398, ScalarInteger(internal->offset_output_EIR_species1));
  SET_VECTOR_ELT(contents, 399, ScalarInteger(internal->offset_output_EIR_species2));
  SET_VECTOR_ELT(contents, 400, ScalarInteger(internal->offset_variable_A));
  SET_VECTOR_ELT(contents, 401, ScalarInteger(internal->offset_variable_D));
  SET_VECTOR_ELT(contents, 402, ScalarInteger(internal->offset_variable_IB));
  SET_VECTOR_ELT(contents, 403, ScalarInteger(internal->offset_variable_ICA));
  SET_VECTOR_ELT(contents, 404, ScalarInteger(internal->offset_variable_ICM));
  SET_VECTOR_ELT(contents, 405, ScalarInteger(internal->offset_variable_ID));
  SET_VECTOR_ELT(contents, 406, ScalarInteger(internal->offset_variable_P));
  SET_VECTOR_ELT(contents, 407, ScalarInteger(internal->offset_variable_T));
  SET_VECTOR_ELT(contents, 408, ScalarInteger(internal->offset_variable_U));
  SET_VECTOR_ELT(contents, 409, ScalarReal(internal->omega));
  SEXP p_det = PROTECT(allocVector(REALSXP, internal->dim_p_det));
  memcpy(REAL(p_det), internal->p_det, internal->dim_p_det * sizeof(double));
  odin_set_dim(p_det, 3, internal->dim_p_det_1, internal->dim_p_det_2, internal->dim_p_det_3);
  SET_VECTOR_ELT(contents, 410, p_det);
  SET_VECTOR_ELT(contents, 411, ScalarReal(internal->p10));
  SET_VECTOR_ELT(contents, 412, ScalarReal(internal->p2));
  SEXP phi = PROTECT(allocVector(REALSXP, internal->dim_phi));
  memcpy(REAL(phi), internal->phi, internal->dim_phi * sizeof(double));
  odin_set_dim(phi, 3, internal->dim_phi_1, internal->dim_phi_2, internal->dim_phi_3);
  SET_VECTOR_ELT(contents, 413, phi);
  SET_VECTOR_ELT(contents, 414, ScalarReal(internal->phi0));
  SET_VECTOR_ELT(contents, 415, ScalarReal(internal->phi1));
  SET_VECTOR_ELT(contents, 416, ScalarReal(internal->pi));
  SET_VECTOR_ELT(contents, 417, ScalarReal(internal->PM));
  SEXP prev0to5 = PROTECT(allocVector(REALSXP, internal->dim_prev0to5));
  memcpy(REAL(prev0to5), internal->prev0to5, internal->dim_prev0to5 * sizeof(double));
  odin_set_dim(prev0to5, 3, internal->dim_prev0to5_1, internal->dim_prev0to5_2, internal->dim_prev0to5_3);
  SET_VECTOR_ELT(contents, 418, prev0to5);
  SEXP prev0to59 = PROTECT(allocVector(REALSXP, internal->dim_prev0to59));
  memcpy(REAL(prev0to59), internal->prev0to59, internal->dim_prev0to59 * sizeof(double));
  odin_set_dim(prev0to59, 3, internal->dim_prev0to59_1, internal->dim_prev0to59_2, internal->dim_prev0to59_3);
  SET_VECTOR_ELT(contents, 419, prev0to59);
  SET_VECTOR_ELT(contents, 420, ScalarReal(internal->Q0_species1));
  SET_VECTOR_ELT(contents, 421, ScalarReal(internal->Q0_species2));
  SET_VECTOR_ELT(contents, 422, ScalarReal(internal->r_IRS0_1));
  SET_VECTOR_ELT(contents, 423, ScalarReal(internal->r_IRS0_2));
  SET_VECTOR_ELT(contents, 424, ScalarReal(internal->r_ITN0_1));
  SET_VECTOR_ELT(contents, 425, ScalarReal(internal->r_ITN0_2));
  SET_VECTOR_ELT(contents, 426, ScalarReal(internal->r_ITN1));
  SET_VECTOR_ELT(contents, 427, ScalarReal(internal->r_ITN2));
  SET_VECTOR_ELT(contents, 428, ScalarReal(internal->rA));
  SET_VECTOR_ELT(contents, 429, ScalarReal(internal->rD));
  SEXP rel_foi = PROTECT(allocVector(REALSXP, internal->dim_rel_foi));
  memcpy(REAL(rel_foi), internal->rel_foi, internal->dim_rel_foi * sizeof(double));
  SET_VECTOR_ELT(contents, 430, rel_foi);
  SET_VECTOR_ELT(contents, 431, ScalarReal(internal->rP));
  SET_VECTOR_ELT(contents, 432, ScalarReal(internal->rT));
  SET_VECTOR_ELT(contents, 433, ScalarReal(internal->rU));
  SET_VECTOR_ELT(contents, 434, ScalarReal(internal->ssa0));
  SET_VECTOR_ELT(contents, 435, ScalarReal(internal->ssa1));
  SET_VECTOR_ELT(contents, 436, ScalarReal(internal->ssa2));
  SET_VECTOR_ELT(contents, 437, ScalarReal(internal->ssa3));
  SET_VECTOR_ELT(contents, 438, ScalarReal(internal->ssb1));
  SET_VECTOR_ELT(contents, 439, ScalarReal(internal->ssb2));
  SET_VECTOR_ELT(contents, 440, ScalarReal(internal->ssb3));
  SET_VECTOR_ELT(contents, 441, ScalarReal(internal->tau1));
  SET_VECTOR_ELT(contents, 442, ScalarReal(internal->tau2));
  SET_VECTOR_ELT(contents, 443, ScalarReal(internal->theta_c));
  SET_VECTOR_ELT(contents, 444, ScalarInteger(internal->time_length));
  SET_VECTOR_ELT(contents, 445, ScalarReal(internal->uB));
  SET_VECTOR_ELT(contents, 446, ScalarReal(internal->uCA));
  SET_VECTOR_ELT(contents, 447, ScalarReal(internal->uD));
  SEXP w1 = PROTECT(allocVector(REALSXP, internal->dim_w1));
  memcpy(REAL(w1), internal->w1, internal->dim_w1 * sizeof(double));
  SET_VECTOR_ELT(contents, 448, w1);
  SEXP w1_ = PROTECT(allocVector(REALSXP, internal->dim_w1_));
  memcpy(REAL(w1_), internal->w1_, internal->dim_w1_ * sizeof(double));
  SET_VECTOR_ELT(contents, 449, w1_);
  SEXP w2 = PROTECT(allocVector(REALSXP, internal->dim_w2));
  memcpy(REAL(w2), internal->w2, internal->dim_w2 * sizeof(double));
  SET_VECTOR_ELT(contents, 450, w2);
  SEXP w2_ = PROTECT(allocVector(REALSXP, internal->dim_w2_));
  memcpy(REAL(w2_), internal->w2_, internal->dim_w2_ * sizeof(double));
  SET_VECTOR_ELT(contents, 451, w2_);
  SEXP whi1 = PROTECT(allocVector(REALSXP, internal->dim_whi1));
  memcpy(REAL(whi1), internal->whi1, internal->dim_whi1 * sizeof(double));
  SET_VECTOR_ELT(contents, 452, whi1);
  SEXP whi2 = PROTECT(allocVector(REALSXP, internal->dim_whi2));
  memcpy(REAL(whi2), internal->whi2, internal->dim_whi2 * sizeof(double));
  SET_VECTOR_ELT(contents, 453, whi2);
  SEXP x_I = PROTECT(allocVector(REALSXP, internal->dim_x_I));
  memcpy(REAL(x_I), internal->x_I, internal->dim_x_I * sizeof(double));
  SET_VECTOR_ELT(contents, 454, x_I);
  SEXP Y = PROTECT(allocVector(REALSXP, internal->dim_Y));
  memcpy(REAL(Y), internal->Y, internal->dim_Y * sizeof(double));
  odin_set_dim(Y, 3, internal->dim_Y_1, internal->dim_Y_2, internal->dim_Y_3);
  SET_VECTOR_ELT(contents, 455, Y);
  SEXP yy1 = PROTECT(allocVector(REALSXP, internal->dim_yy1));
  memcpy(REAL(yy1), internal->yy1, internal->dim_yy1 * sizeof(double));
  SET_VECTOR_ELT(contents, 456, yy1);
  SEXP yy1_ = PROTECT(allocVector(REALSXP, internal->dim_yy1_));
  memcpy(REAL(yy1_), internal->yy1_, internal->dim_yy1_ * sizeof(double));
  SET_VECTOR_ELT(contents, 457, yy1_);
  SEXP yy2 = PROTECT(allocVector(REALSXP, internal->dim_yy2));
  memcpy(REAL(yy2), internal->yy2, internal->dim_yy2 * sizeof(double));
  SET_VECTOR_ELT(contents, 458, yy2);
  SEXP yy2_ = PROTECT(allocVector(REALSXP, internal->dim_yy2_));
  memcpy(REAL(yy2_), internal->yy2_, internal->dim_yy2_ * sizeof(double));
  SET_VECTOR_ELT(contents, 459, yy2_);
  SEXP z1 = PROTECT(allocVector(REALSXP, internal->dim_z1));
  memcpy(REAL(z1), internal->z1, internal->dim_z1 * sizeof(double));
  SET_VECTOR_ELT(contents, 460, z1);
  SEXP z1_ = PROTECT(allocVector(REALSXP, internal->dim_z1_));
  memcpy(REAL(z1_), internal->z1_, internal->dim_z1_ * sizeof(double));
  SET_VECTOR_ELT(contents, 461, z1_);
  SEXP z2 = PROTECT(allocVector(REALSXP, internal->dim_z2));
  memcpy(REAL(z2), internal->z2, internal->dim_z2 * sizeof(double));
  SET_VECTOR_ELT(contents, 462, z2);
  SEXP z2_ = PROTECT(allocVector(REALSXP, internal->dim_z2_));
  memcpy(REAL(z2_), internal->z2_, internal->dim_z2_ * sizeof(double));
  SET_VECTOR_ELT(contents, 463, z2_);
  SEXP zhi1 = PROTECT(allocVector(REALSXP, internal->dim_zhi1));
  memcpy(REAL(zhi1), internal->zhi1, internal->dim_zhi1 * sizeof(double));
  SET_VECTOR_ELT(contents, 464, zhi1);
  SEXP zhi2 = PROTECT(allocVector(REALSXP, internal->dim_zhi2));
  memcpy(REAL(zhi2), internal->zhi2, internal->dim_zhi2 * sizeof(double));
  SET_VECTOR_ELT(contents, 465, zhi2);
  SET_VECTOR_ELT(contents, 466, ScalarLogical(internal->odin_model_2sp_tv1_use_dde));
  SEXP nms = PROTECT(allocVector(STRSXP, 467));
  SET_STRING_ELT(nms, 0, mkChar("aD"));
  SET_STRING_ELT(nms, 1, mkChar("age"));
  SET_STRING_ELT(nms, 2, mkChar("age_20_factor"));
  SET_STRING_ELT(nms, 3, mkChar("age_rate"));
  SET_STRING_ELT(nms, 4, mkChar("age05"));
  SET_STRING_ELT(nms, 5, mkChar("age20l"));
  SET_STRING_ELT(nms, 6, mkChar("age20u"));
  SET_STRING_ELT(nms, 7, mkChar("age59"));
  SET_STRING_ELT(nms, 8, mkChar("av_human1"));
  SET_STRING_ELT(nms, 9, mkChar("av_human2"));
  SET_STRING_ELT(nms, 10, mkChar("av_mosq1"));
  SET_STRING_ELT(nms, 11, mkChar("av_mosq2"));
  SET_STRING_ELT(nms, 12, mkChar("b"));
  SET_STRING_ELT(nms, 13, mkChar("b_lambda"));
  SET_STRING_ELT(nms, 14, mkChar("b0"));
  SET_STRING_ELT(nms, 15, mkChar("b1"));
  SET_STRING_ELT(nms, 16, mkChar("betaL"));
  SET_STRING_ELT(nms, 17, mkChar("bites_Bed_species1"));
  SET_STRING_ELT(nms, 18, mkChar("bites_Bed_species2"));
  SET_STRING_ELT(nms, 19, mkChar("bites_Indoors_species1"));
  SET_STRING_ELT(nms, 20, mkChar("bites_Indoors_species2"));
  SET_STRING_ELT(nms, 21, mkChar("cA"));
  SET_STRING_ELT(nms, 22, mkChar("cD"));
  SET_STRING_ELT(nms, 23, mkChar("chi_species1"));
  SET_STRING_ELT(nms, 24, mkChar("chi_species2"));
  SET_STRING_ELT(nms, 25, mkChar("clin_inc"));
  SET_STRING_ELT(nms, 26, mkChar("clin_inc0to5"));
  SET_STRING_ELT(nms, 27, mkChar("cov"));
  SET_STRING_ELT(nms, 28, mkChar("cov_"));
  SET_STRING_ELT(nms, 29, mkChar("cT"));
  SET_STRING_ELT(nms, 30, mkChar("cU"));
  SET_STRING_ELT(nms, 31, mkChar("custom_seasonality"));
  SET_STRING_ELT(nms, 32, mkChar("d_IRS0_1"));
  SET_STRING_ELT(nms, 33, mkChar("d_IRS0_2"));
  SET_STRING_ELT(nms, 34, mkChar("d_ITN0_1"));
  SET_STRING_ELT(nms, 35, mkChar("d_ITN0_2"));
  SET_STRING_ELT(nms, 36, mkChar("d1"));
  SET_STRING_ELT(nms, 37, mkChar("dB"));
  SET_STRING_ELT(nms, 38, mkChar("dCA"));
  SET_STRING_ELT(nms, 39, mkChar("dCM"));
  SET_STRING_ELT(nms, 40, mkChar("dE"));
  SET_STRING_ELT(nms, 41, mkChar("dEL"));
  SET_STRING_ELT(nms, 42, mkChar("delay_array_av_human1"));
  SET_STRING_ELT(nms, 43, mkChar("delay_array_av_human2"));
  SET_STRING_ELT(nms, 44, mkChar("delay_array_av_mosq1"));
  SET_STRING_ELT(nms, 45, mkChar("delay_array_av_mosq2"));
  SET_STRING_ELT(nms, 46, mkChar("delay_array_b"));
  SET_STRING_ELT(nms, 47, mkChar("delay_array_cA"));
  SET_STRING_ELT(nms, 48, mkChar("delay_array_EIR"));
  SET_STRING_ELT(nms, 49, mkChar("delay_array_EIR_species1"));
  SET_STRING_ELT(nms, 50, mkChar("delay_array_EIR_species2"));
  SET_STRING_ELT(nms, 51, mkChar("delay_array_FOI_lag"));
  SET_STRING_ELT(nms, 52, mkChar("delay_array_FOIvijk_species1"));
  SET_STRING_ELT(nms, 53, mkChar("delay_array_FOIvijk_species2"));
  SET_STRING_ELT(nms, 54, mkChar("delay_array_p_det"));
  SET_STRING_ELT(nms, 55, mkChar("delay_array_w1"));
  SET_STRING_ELT(nms, 56, mkChar("delay_array_w1_"));
  SET_STRING_ELT(nms, 57, mkChar("delay_array_w2"));
  SET_STRING_ELT(nms, 58, mkChar("delay_array_w2_"));
  SET_STRING_ELT(nms, 59, mkChar("delay_array_whi1"));
  SET_STRING_ELT(nms, 60, mkChar("delay_array_whi2"));
  SET_STRING_ELT(nms, 61, mkChar("delay_array_yy1"));
  SET_STRING_ELT(nms, 62, mkChar("delay_array_yy1_"));
  SET_STRING_ELT(nms, 63, mkChar("delay_array_yy2"));
  SET_STRING_ELT(nms, 64, mkChar("delay_array_yy2_"));
  SET_STRING_ELT(nms, 65, mkChar("delay_array_z1"));
  SET_STRING_ELT(nms, 66, mkChar("delay_array_z1_"));
  SET_STRING_ELT(nms, 67, mkChar("delay_array_z2"));
  SET_STRING_ELT(nms, 68, mkChar("delay_array_z2_"));
  SET_STRING_ELT(nms, 69, mkChar("delay_array_zhi1"));
  SET_STRING_ELT(nms, 70, mkChar("delay_array_zhi2"));
  SET_STRING_ELT(nms, 71, mkChar("delay_index_FOI"));
  SET_STRING_ELT(nms, 72, mkChar("delay_index_FOIv_species1"));
  SET_STRING_ELT(nms, 73, mkChar("delay_index_FOIv_species2"));
  SET_STRING_ELT(nms, 74, mkChar("delay_index_incv1"));
  SET_STRING_ELT(nms, 75, mkChar("delay_index_incv2"));
  SET_STRING_ELT(nms, 76, mkChar("delay_state_FOI"));
  SET_STRING_ELT(nms, 77, mkChar("delay_state_FOIv_species1"));
  SET_STRING_ELT(nms, 78, mkChar("delay_state_FOIv_species2"));
  SET_STRING_ELT(nms, 79, mkChar("delay_state_incv1"));
  SET_STRING_ELT(nms, 80, mkChar("delay_state_incv2"));
  SET_STRING_ELT(nms, 81, mkChar("delayGam"));
  SET_STRING_ELT(nms, 82, mkChar("delayMos"));
  SET_STRING_ELT(nms, 83, mkChar("den"));
  SET_STRING_ELT(nms, 84, mkChar("density_vec"));
  SET_STRING_ELT(nms, 85, mkChar("density_vec_sp1"));
  SET_STRING_ELT(nms, 86, mkChar("dID"));
  SET_STRING_ELT(nms, 87, mkChar("dim_A"));
  SET_STRING_ELT(nms, 88, mkChar("dim_A_1"));
  SET_STRING_ELT(nms, 89, mkChar("dim_A_12"));
  SET_STRING_ELT(nms, 90, mkChar("dim_A_2"));
  SET_STRING_ELT(nms, 91, mkChar("dim_A_3"));
  SET_STRING_ELT(nms, 92, mkChar("dim_age"));
  SET_STRING_ELT(nms, 93, mkChar("dim_age_rate"));
  SET_STRING_ELT(nms, 94, mkChar("dim_av_human1"));
  SET_STRING_ELT(nms, 95, mkChar("dim_av_human2"));
  SET_STRING_ELT(nms, 96, mkChar("dim_av_mosq1"));
  SET_STRING_ELT(nms, 97, mkChar("dim_av_mosq2"));
  SET_STRING_ELT(nms, 98, mkChar("dim_b"));
  SET_STRING_ELT(nms, 99, mkChar("dim_b_1"));
  SET_STRING_ELT(nms, 100, mkChar("dim_b_12"));
  SET_STRING_ELT(nms, 101, mkChar("dim_b_2"));
  SET_STRING_ELT(nms, 102, mkChar("dim_b_3"));
  SET_STRING_ELT(nms, 103, mkChar("dim_cA"));
  SET_STRING_ELT(nms, 104, mkChar("dim_cA_1"));
  SET_STRING_ELT(nms, 105, mkChar("dim_cA_12"));
  SET_STRING_ELT(nms, 106, mkChar("dim_cA_2"));
  SET_STRING_ELT(nms, 107, mkChar("dim_cA_3"));
  SET_STRING_ELT(nms, 108, mkChar("dim_clin_inc"));
  SET_STRING_ELT(nms, 109, mkChar("dim_clin_inc_1"));
  SET_STRING_ELT(nms, 110, mkChar("dim_clin_inc_12"));
  SET_STRING_ELT(nms, 111, mkChar("dim_clin_inc_2"));
  SET_STRING_ELT(nms, 112, mkChar("dim_clin_inc_3"));
  SET_STRING_ELT(nms, 113, mkChar("dim_clin_inc0to5"));
  SET_STRING_ELT(nms, 114, mkChar("dim_clin_inc0to5_1"));
  SET_STRING_ELT(nms, 115, mkChar("dim_clin_inc0to5_12"));
  SET_STRING_ELT(nms, 116, mkChar("dim_clin_inc0to5_2"));
  SET_STRING_ELT(nms, 117, mkChar("dim_clin_inc0to5_3"));
  SET_STRING_ELT(nms, 118, mkChar("dim_cov"));
  SET_STRING_ELT(nms, 119, mkChar("dim_cov_"));
  SET_STRING_ELT(nms, 120, mkChar("dim_custom_seasonality"));
  SET_STRING_ELT(nms, 121, mkChar("dim_D"));
  SET_STRING_ELT(nms, 122, mkChar("dim_D_1"));
  SET_STRING_ELT(nms, 123, mkChar("dim_D_12"));
  SET_STRING_ELT(nms, 124, mkChar("dim_D_2"));
  SET_STRING_ELT(nms, 125, mkChar("dim_D_3"));
  SET_STRING_ELT(nms, 126, mkChar("dim_delay_FOI"));
  SET_STRING_ELT(nms, 127, mkChar("dim_delay_FOIv_species1"));
  SET_STRING_ELT(nms, 128, mkChar("dim_delay_FOIv_species2"));
  SET_STRING_ELT(nms, 129, mkChar("dim_den"));
  SET_STRING_ELT(nms, 130, mkChar("dim_density_vec"));
  SET_STRING_ELT(nms, 131, mkChar("dim_density_vec_sp1"));
  SET_STRING_ELT(nms, 132, mkChar("dim_EIR"));
  SET_STRING_ELT(nms, 133, mkChar("dim_EIR_1"));
  SET_STRING_ELT(nms, 134, mkChar("dim_EIR_12"));
  SET_STRING_ELT(nms, 135, mkChar("dim_EIR_2"));
  SET_STRING_ELT(nms, 136, mkChar("dim_EIR_3"));
  SET_STRING_ELT(nms, 137, mkChar("dim_EIR_species1"));
  SET_STRING_ELT(nms, 138, mkChar("dim_EIR_species1_1"));
  SET_STRING_ELT(nms, 139, mkChar("dim_EIR_species1_12"));
  SET_STRING_ELT(nms, 140, mkChar("dim_EIR_species1_2"));
  SET_STRING_ELT(nms, 141, mkChar("dim_EIR_species1_3"));
  SET_STRING_ELT(nms, 142, mkChar("dim_EIR_species2"));
  SET_STRING_ELT(nms, 143, mkChar("dim_EIR_species2_1"));
  SET_STRING_ELT(nms, 144, mkChar("dim_EIR_species2_12"));
  SET_STRING_ELT(nms, 145, mkChar("dim_EIR_species2_2"));
  SET_STRING_ELT(nms, 146, mkChar("dim_EIR_species2_3"));
  SET_STRING_ELT(nms, 147, mkChar("dim_fd"));
  SET_STRING_ELT(nms, 148, mkChar("dim_FOI"));
  SET_STRING_ELT(nms, 149, mkChar("dim_FOI_1"));
  SET_STRING_ELT(nms, 150, mkChar("dim_FOI_12"));
  SET_STRING_ELT(nms, 151, mkChar("dim_FOI_2"));
  SET_STRING_ELT(nms, 152, mkChar("dim_FOI_3"));
  SET_STRING_ELT(nms, 153, mkChar("dim_foi_age"));
  SET_STRING_ELT(nms, 154, mkChar("dim_FOI_lag"));
  SET_STRING_ELT(nms, 155, mkChar("dim_FOI_lag_1"));
  SET_STRING_ELT(nms, 156, mkChar("dim_FOI_lag_12"));
  SET_STRING_ELT(nms, 157, mkChar("dim_FOI_lag_2"));
  SET_STRING_ELT(nms, 158, mkChar("dim_FOI_lag_3"));
  SET_STRING_ELT(nms, 159, mkChar("dim_FOIvijk_species1"));
  SET_STRING_ELT(nms, 160, mkChar("dim_FOIvijk_species1_1"));
  SET_STRING_ELT(nms, 161, mkChar("dim_FOIvijk_species1_12"));
  SET_STRING_ELT(nms, 162, mkChar("dim_FOIvijk_species1_2"));
  SET_STRING_ELT(nms, 163, mkChar("dim_FOIvijk_species1_3"));
  SET_STRING_ELT(nms, 164, mkChar("dim_FOIvijk_species2"));
  SET_STRING_ELT(nms, 165, mkChar("dim_FOIvijk_species2_1"));
  SET_STRING_ELT(nms, 166, mkChar("dim_FOIvijk_species2_12"));
  SET_STRING_ELT(nms, 167, mkChar("dim_FOIvijk_species2_2"));
  SET_STRING_ELT(nms, 168, mkChar("dim_FOIvijk_species2_3"));
  SET_STRING_ELT(nms, 169, mkChar("dim_het_wt"));
  SET_STRING_ELT(nms, 170, mkChar("dim_IB"));
  SET_STRING_ELT(nms, 171, mkChar("dim_IB_1"));
  SET_STRING_ELT(nms, 172, mkChar("dim_IB_12"));
  SET_STRING_ELT(nms, 173, mkChar("dim_IB_2"));
  SET_STRING_ELT(nms, 174, mkChar("dim_IB_3"));
  SET_STRING_ELT(nms, 175, mkChar("dim_IC"));
  SET_STRING_ELT(nms, 176, mkChar("dim_IC_1"));
  SET_STRING_ELT(nms, 177, mkChar("dim_IC_12"));
  SET_STRING_ELT(nms, 178, mkChar("dim_IC_2"));
  SET_STRING_ELT(nms, 179, mkChar("dim_IC_3"));
  SET_STRING_ELT(nms, 180, mkChar("dim_ICA"));
  SET_STRING_ELT(nms, 181, mkChar("dim_ICA_1"));
  SET_STRING_ELT(nms, 182, mkChar("dim_ICA_12"));
  SET_STRING_ELT(nms, 183, mkChar("dim_ICA_2"));
  SET_STRING_ELT(nms, 184, mkChar("dim_ICA_3"));
  SET_STRING_ELT(nms, 185, mkChar("dim_ICM"));
  SET_STRING_ELT(nms, 186, mkChar("dim_ICM_1"));
  SET_STRING_ELT(nms, 187, mkChar("dim_ICM_12"));
  SET_STRING_ELT(nms, 188, mkChar("dim_ICM_2"));
  SET_STRING_ELT(nms, 189, mkChar("dim_ICM_3"));
  SET_STRING_ELT(nms, 190, mkChar("dim_ID"));
  SET_STRING_ELT(nms, 191, mkChar("dim_ID_1"));
  SET_STRING_ELT(nms, 192, mkChar("dim_ID_12"));
  SET_STRING_ELT(nms, 193, mkChar("dim_ID_2"));
  SET_STRING_ELT(nms, 194, mkChar("dim_ID_3"));
  SET_STRING_ELT(nms, 195, mkChar("dim_init_A"));
  SET_STRING_ELT(nms, 196, mkChar("dim_init_A_1"));
  SET_STRING_ELT(nms, 197, mkChar("dim_init_A_12"));
  SET_STRING_ELT(nms, 198, mkChar("dim_init_A_2"));
  SET_STRING_ELT(nms, 199, mkChar("dim_init_A_3"));
  SET_STRING_ELT(nms, 200, mkChar("dim_init_D"));
  SET_STRING_ELT(nms, 201, mkChar("dim_init_D_1"));
  SET_STRING_ELT(nms, 202, mkChar("dim_init_D_12"));
  SET_STRING_ELT(nms, 203, mkChar("dim_init_D_2"));
  SET_STRING_ELT(nms, 204, mkChar("dim_init_D_3"));
  SET_STRING_ELT(nms, 205, mkChar("dim_init_IB"));
  SET_STRING_ELT(nms, 206, mkChar("dim_init_IB_1"));
  SET_STRING_ELT(nms, 207, mkChar("dim_init_IB_12"));
  SET_STRING_ELT(nms, 208, mkChar("dim_init_IB_2"));
  SET_STRING_ELT(nms, 209, mkChar("dim_init_IB_3"));
  SET_STRING_ELT(nms, 210, mkChar("dim_init_ICA"));
  SET_STRING_ELT(nms, 211, mkChar("dim_init_ICA_1"));
  SET_STRING_ELT(nms, 212, mkChar("dim_init_ICA_12"));
  SET_STRING_ELT(nms, 213, mkChar("dim_init_ICA_2"));
  SET_STRING_ELT(nms, 214, mkChar("dim_init_ICA_3"));
  SET_STRING_ELT(nms, 215, mkChar("dim_init_ICM"));
  SET_STRING_ELT(nms, 216, mkChar("dim_init_ICM_1"));
  SET_STRING_ELT(nms, 217, mkChar("dim_init_ICM_12"));
  SET_STRING_ELT(nms, 218, mkChar("dim_init_ICM_2"));
  SET_STRING_ELT(nms, 219, mkChar("dim_init_ICM_3"));
  SET_STRING_ELT(nms, 220, mkChar("dim_init_ICM_pre"));
  SET_STRING_ELT(nms, 221, mkChar("dim_init_ICM_pre_1"));
  SET_STRING_ELT(nms, 222, mkChar("dim_init_ICM_pre_2"));
  SET_STRING_ELT(nms, 223, mkChar("dim_init_ID"));
  SET_STRING_ELT(nms, 224, mkChar("dim_init_ID_1"));
  SET_STRING_ELT(nms, 225, mkChar("dim_init_ID_12"));
  SET_STRING_ELT(nms, 226, mkChar("dim_init_ID_2"));
  SET_STRING_ELT(nms, 227, mkChar("dim_init_ID_3"));
  SET_STRING_ELT(nms, 228, mkChar("dim_init_P"));
  SET_STRING_ELT(nms, 229, mkChar("dim_init_P_1"));
  SET_STRING_ELT(nms, 230, mkChar("dim_init_P_12"));
  SET_STRING_ELT(nms, 231, mkChar("dim_init_P_2"));
  SET_STRING_ELT(nms, 232, mkChar("dim_init_P_3"));
  SET_STRING_ELT(nms, 233, mkChar("dim_init_S"));
  SET_STRING_ELT(nms, 234, mkChar("dim_init_S_1"));
  SET_STRING_ELT(nms, 235, mkChar("dim_init_S_12"));
  SET_STRING_ELT(nms, 236, mkChar("dim_init_S_2"));
  SET_STRING_ELT(nms, 237, mkChar("dim_init_S_3"));
  SET_STRING_ELT(nms, 238, mkChar("dim_init_T"));
  SET_STRING_ELT(nms, 239, mkChar("dim_init_T_1"));
  SET_STRING_ELT(nms, 240, mkChar("dim_init_T_12"));
  SET_STRING_ELT(nms, 241, mkChar("dim_init_T_2"));
  SET_STRING_ELT(nms, 242, mkChar("dim_init_T_3"));
  SET_STRING_ELT(nms, 243, mkChar("dim_init_U"));
  SET_STRING_ELT(nms, 244, mkChar("dim_init_U_1"));
  SET_STRING_ELT(nms, 245, mkChar("dim_init_U_12"));
  SET_STRING_ELT(nms, 246, mkChar("dim_init_U_2"));
  SET_STRING_ELT(nms, 247, mkChar("dim_init_U_3"));
  SET_STRING_ELT(nms, 248, mkChar("dim_P"));
  SET_STRING_ELT(nms, 249, mkChar("dim_P_1"));
  SET_STRING_ELT(nms, 250, mkChar("dim_P_12"));
  SET_STRING_ELT(nms, 251, mkChar("dim_P_2"));
  SET_STRING_ELT(nms, 252, mkChar("dim_P_3"));
  SET_STRING_ELT(nms, 253, mkChar("dim_p_det"));
  SET_STRING_ELT(nms, 254, mkChar("dim_p_det_1"));
  SET_STRING_ELT(nms, 255, mkChar("dim_p_det_12"));
  SET_STRING_ELT(nms, 256, mkChar("dim_p_det_2"));
  SET_STRING_ELT(nms, 257, mkChar("dim_p_det_3"));
  SET_STRING_ELT(nms, 258, mkChar("dim_phi"));
  SET_STRING_ELT(nms, 259, mkChar("dim_phi_1"));
  SET_STRING_ELT(nms, 260, mkChar("dim_phi_12"));
  SET_STRING_ELT(nms, 261, mkChar("dim_phi_2"));
  SET_STRING_ELT(nms, 262, mkChar("dim_phi_3"));
  SET_STRING_ELT(nms, 263, mkChar("dim_prev0to5"));
  SET_STRING_ELT(nms, 264, mkChar("dim_prev0to5_1"));
  SET_STRING_ELT(nms, 265, mkChar("dim_prev0to5_12"));
  SET_STRING_ELT(nms, 266, mkChar("dim_prev0to5_2"));
  SET_STRING_ELT(nms, 267, mkChar("dim_prev0to5_3"));
  SET_STRING_ELT(nms, 268, mkChar("dim_prev0to59"));
  SET_STRING_ELT(nms, 269, mkChar("dim_prev0to59_1"));
  SET_STRING_ELT(nms, 270, mkChar("dim_prev0to59_12"));
  SET_STRING_ELT(nms, 271, mkChar("dim_prev0to59_2"));
  SET_STRING_ELT(nms, 272, mkChar("dim_prev0to59_3"));
  SET_STRING_ELT(nms, 273, mkChar("dim_rel_foi"));
  SET_STRING_ELT(nms, 274, mkChar("dim_S"));
  SET_STRING_ELT(nms, 275, mkChar("dim_S_1"));
  SET_STRING_ELT(nms, 276, mkChar("dim_S_12"));
  SET_STRING_ELT(nms, 277, mkChar("dim_S_2"));
  SET_STRING_ELT(nms, 278, mkChar("dim_S_3"));
  SET_STRING_ELT(nms, 279, mkChar("dim_T"));
  SET_STRING_ELT(nms, 280, mkChar("dim_T_1"));
  SET_STRING_ELT(nms, 281, mkChar("dim_T_12"));
  SET_STRING_ELT(nms, 282, mkChar("dim_T_2"));
  SET_STRING_ELT(nms, 283, mkChar("dim_T_3"));
  SET_STRING_ELT(nms, 284, mkChar("dim_U"));
  SET_STRING_ELT(nms, 285, mkChar("dim_U_1"));
  SET_STRING_ELT(nms, 286, mkChar("dim_U_12"));
  SET_STRING_ELT(nms, 287, mkChar("dim_U_2"));
  SET_STRING_ELT(nms, 288, mkChar("dim_U_3"));
  SET_STRING_ELT(nms, 289, mkChar("dim_w1"));
  SET_STRING_ELT(nms, 290, mkChar("dim_w1_"));
  SET_STRING_ELT(nms, 291, mkChar("dim_w2"));
  SET_STRING_ELT(nms, 292, mkChar("dim_w2_"));
  SET_STRING_ELT(nms, 293, mkChar("dim_whi1"));
  SET_STRING_ELT(nms, 294, mkChar("dim_whi2"));
  SET_STRING_ELT(nms, 295, mkChar("dim_x_I"));
  SET_STRING_ELT(nms, 296, mkChar("dim_Y"));
  SET_STRING_ELT(nms, 297, mkChar("dim_Y_1"));
  SET_STRING_ELT(nms, 298, mkChar("dim_Y_12"));
  SET_STRING_ELT(nms, 299, mkChar("dim_Y_2"));
  SET_STRING_ELT(nms, 300, mkChar("dim_Y_3"));
  SET_STRING_ELT(nms, 301, mkChar("dim_yy1"));
  SET_STRING_ELT(nms, 302, mkChar("dim_yy1_"));
  SET_STRING_ELT(nms, 303, mkChar("dim_yy2"));
  SET_STRING_ELT(nms, 304, mkChar("dim_yy2_"));
  SET_STRING_ELT(nms, 305, mkChar("dim_z1"));
  SET_STRING_ELT(nms, 306, mkChar("dim_z1_"));
  SET_STRING_ELT(nms, 307, mkChar("dim_z2"));
  SET_STRING_ELT(nms, 308, mkChar("dim_z2_"));
  SET_STRING_ELT(nms, 309, mkChar("dim_zhi1"));
  SET_STRING_ELT(nms, 310, mkChar("dim_zhi2"));
  SET_STRING_ELT(nms, 311, mkChar("dLL"));
  SET_STRING_ELT(nms, 312, mkChar("dPL"));
  SET_STRING_ELT(nms, 313, mkChar("EIR"));
  SET_STRING_ELT(nms, 314, mkChar("EIR_species1"));
  SET_STRING_ELT(nms, 315, mkChar("EIR_species2"));
  SET_STRING_ELT(nms, 316, mkChar("eta"));
  SET_STRING_ELT(nms, 317, mkChar("fd"));
  SET_STRING_ELT(nms, 318, mkChar("fD0"));
  SET_STRING_ELT(nms, 319, mkChar("FOI"));
  SET_STRING_ELT(nms, 320, mkChar("foi_age"));
  SET_STRING_ELT(nms, 321, mkChar("FOI_lag"));
  SET_STRING_ELT(nms, 322, mkChar("FOIvijk_species1"));
  SET_STRING_ELT(nms, 323, mkChar("FOIvijk_species2"));
  SET_STRING_ELT(nms, 324, mkChar("ft"));
  SET_STRING_ELT(nms, 325, mkChar("gamma1"));
  SET_STRING_ELT(nms, 326, mkChar("gammaD"));
  SET_STRING_ELT(nms, 327, mkChar("gammaL"));
  SET_STRING_ELT(nms, 328, mkChar("het_wt"));
  SET_STRING_ELT(nms, 329, mkChar("IB0"));
  SET_STRING_ELT(nms, 330, mkChar("IC"));
  SET_STRING_ELT(nms, 331, mkChar("IC0"));
  SET_STRING_ELT(nms, 332, mkChar("ID0"));
  SET_STRING_ELT(nms, 333, mkChar("init_A"));
  SET_STRING_ELT(nms, 334, mkChar("init_D"));
  SET_STRING_ELT(nms, 335, mkChar("init_EL"));
  SET_STRING_ELT(nms, 336, mkChar("init_Ev"));
  SET_STRING_ELT(nms, 337, mkChar("init_IB"));
  SET_STRING_ELT(nms, 338, mkChar("init_ICA"));
  SET_STRING_ELT(nms, 339, mkChar("init_ICM"));
  SET_STRING_ELT(nms, 340, mkChar("init_ICM_pre"));
  SET_STRING_ELT(nms, 341, mkChar("init_ID"));
  SET_STRING_ELT(nms, 342, mkChar("init_Iv"));
  SET_STRING_ELT(nms, 343, mkChar("init_LL"));
  SET_STRING_ELT(nms, 344, mkChar("init_P"));
  SET_STRING_ELT(nms, 345, mkChar("init_PL"));
  SET_STRING_ELT(nms, 346, mkChar("init_S"));
  SET_STRING_ELT(nms, 347, mkChar("init_Sv"));
  SET_STRING_ELT(nms, 348, mkChar("init_T"));
  SET_STRING_ELT(nms, 349, mkChar("init_U"));
  SET_STRING_ELT(nms, 350, mkChar("initial_A"));
  SET_STRING_ELT(nms, 351, mkChar("initial_D"));
  SET_STRING_ELT(nms, 352, mkChar("initial_EL1"));
  SET_STRING_ELT(nms, 353, mkChar("initial_EL2"));
  SET_STRING_ELT(nms, 354, mkChar("initial_Ev1"));
  SET_STRING_ELT(nms, 355, mkChar("initial_Ev2"));
  SET_STRING_ELT(nms, 356, mkChar("initial_IB"));
  SET_STRING_ELT(nms, 357, mkChar("initial_ICA"));
  SET_STRING_ELT(nms, 358, mkChar("initial_ICM"));
  SET_STRING_ELT(nms, 359, mkChar("initial_ID"));
  SET_STRING_ELT(nms, 360, mkChar("initial_Iv1"));
  SET_STRING_ELT(nms, 361, mkChar("initial_Iv2"));
  SET_STRING_ELT(nms, 362, mkChar("initial_LL1"));
  SET_STRING_ELT(nms, 363, mkChar("initial_LL2"));
  SET_STRING_ELT(nms, 364, mkChar("initial_P"));
  SET_STRING_ELT(nms, 365, mkChar("initial_PL1"));
  SET_STRING_ELT(nms, 366, mkChar("initial_PL2"));
  SET_STRING_ELT(nms, 367, mkChar("initial_S"));
  SET_STRING_ELT(nms, 368, mkChar("initial_Sv1"));
  SET_STRING_ELT(nms, 369, mkChar("initial_Sv2"));
  SET_STRING_ELT(nms, 370, mkChar("initial_t"));
  SET_STRING_ELT(nms, 371, mkChar("initial_T"));
  SET_STRING_ELT(nms, 372, mkChar("initial_U"));
  SET_STRING_ELT(nms, 373, mkChar("irs_cov"));
  SET_STRING_ELT(nms, 374, mkChar("IRS_interval"));
  SET_STRING_ELT(nms, 375, mkChar("irs_loss"));
  SET_STRING_ELT(nms, 376, mkChar("itn_cov"));
  SET_STRING_ELT(nms, 377, mkChar("ITN_interval"));
  SET_STRING_ELT(nms, 378, mkChar("ITN_IRS_on"));
  SET_STRING_ELT(nms, 379, mkChar("itn_loss"));
  SET_STRING_ELT(nms, 380, mkChar("kB"));
  SET_STRING_ELT(nms, 381, mkChar("kC"));
  SET_STRING_ELT(nms, 382, mkChar("kD"));
  SET_STRING_ELT(nms, 383, mkChar("mu0"));
  SET_STRING_ELT(nms, 384, mkChar("muEL"));
  SET_STRING_ELT(nms, 385, mkChar("muLL"));
  SET_STRING_ELT(nms, 386, mkChar("muPL"));
  SET_STRING_ELT(nms, 387, mkChar("mv0"));
  SET_STRING_ELT(nms, 388, mkChar("na"));
  SET_STRING_ELT(nms, 389, mkChar("nh"));
  SET_STRING_ELT(nms, 390, mkChar("num_int"));
  SET_STRING_ELT(nms, 391, mkChar("offset_FOIv_species1_A"));
  SET_STRING_ELT(nms, 392, mkChar("offset_FOIv_species1_ID"));
  SET_STRING_ELT(nms, 393, mkChar("offset_FOIv_species1_U"));
  SET_STRING_ELT(nms, 394, mkChar("offset_FOIv_species2_A"));
  SET_STRING_ELT(nms, 395, mkChar("offset_FOIv_species2_ID"));
  SET_STRING_ELT(nms, 396, mkChar("offset_FOIv_species2_U"));
  SET_STRING_ELT(nms, 397, mkChar("offset_output_EIR"));
  SET_STRING_ELT(nms, 398, mkChar("offset_output_EIR_species1"));
  SET_STRING_ELT(nms, 399, mkChar("offset_output_EIR_species2"));
  SET_STRING_ELT(nms, 400, mkChar("offset_variable_A"));
  SET_STRING_ELT(nms, 401, mkChar("offset_variable_D"));
  SET_STRING_ELT(nms, 402, mkChar("offset_variable_IB"));
  SET_STRING_ELT(nms, 403, mkChar("offset_variable_ICA"));
  SET_STRING_ELT(nms, 404, mkChar("offset_variable_ICM"));
  SET_STRING_ELT(nms, 405, mkChar("offset_variable_ID"));
  SET_STRING_ELT(nms, 406, mkChar("offset_variable_P"));
  SET_STRING_ELT(nms, 407, mkChar("offset_variable_T"));
  SET_STRING_ELT(nms, 408, mkChar("offset_variable_U"));
  SET_STRING_ELT(nms, 409, mkChar("omega"));
  SET_STRING_ELT(nms, 410, mkChar("p_det"));
  SET_STRING_ELT(nms, 411, mkChar("p10"));
  SET_STRING_ELT(nms, 412, mkChar("p2"));
  SET_STRING_ELT(nms, 413, mkChar("phi"));
  SET_STRING_ELT(nms, 414, mkChar("phi0"));
  SET_STRING_ELT(nms, 415, mkChar("phi1"));
  SET_STRING_ELT(nms, 416, mkChar("pi"));
  SET_STRING_ELT(nms, 417, mkChar("PM"));
  SET_STRING_ELT(nms, 418, mkChar("prev0to5"));
  SET_STRING_ELT(nms, 419, mkChar("prev0to59"));
  SET_STRING_ELT(nms, 420, mkChar("Q0_species1"));
  SET_STRING_ELT(nms, 421, mkChar("Q0_species2"));
  SET_STRING_ELT(nms, 422, mkChar("r_IRS0_1"));
  SET_STRING_ELT(nms, 423, mkChar("r_IRS0_2"));
  SET_STRING_ELT(nms, 424, mkChar("r_ITN0_1"));
  SET_STRING_ELT(nms, 425, mkChar("r_ITN0_2"));
  SET_STRING_ELT(nms, 426, mkChar("r_ITN1"));
  SET_STRING_ELT(nms, 427, mkChar("r_ITN2"));
  SET_STRING_ELT(nms, 428, mkChar("rA"));
  SET_STRING_ELT(nms, 429, mkChar("rD"));
  SET_STRING_ELT(nms, 430, mkChar("rel_foi"));
  SET_STRING_ELT(nms, 431, mkChar("rP"));
  SET_STRING_ELT(nms, 432, mkChar("rT"));
  SET_STRING_ELT(nms, 433, mkChar("rU"));
  SET_STRING_ELT(nms, 434, mkChar("ssa0"));
  SET_STRING_ELT(nms, 435, mkChar("ssa1"));
  SET_STRING_ELT(nms, 436, mkChar("ssa2"));
  SET_STRING_ELT(nms, 437, mkChar("ssa3"));
  SET_STRING_ELT(nms, 438, mkChar("ssb1"));
  SET_STRING_ELT(nms, 439, mkChar("ssb2"));
  SET_STRING_ELT(nms, 440, mkChar("ssb3"));
  SET_STRING_ELT(nms, 441, mkChar("tau1"));
  SET_STRING_ELT(nms, 442, mkChar("tau2"));
  SET_STRING_ELT(nms, 443, mkChar("theta_c"));
  SET_STRING_ELT(nms, 444, mkChar("time_length"));
  SET_STRING_ELT(nms, 445, mkChar("uB"));
  SET_STRING_ELT(nms, 446, mkChar("uCA"));
  SET_STRING_ELT(nms, 447, mkChar("uD"));
  SET_STRING_ELT(nms, 448, mkChar("w1"));
  SET_STRING_ELT(nms, 449, mkChar("w1_"));
  SET_STRING_ELT(nms, 450, mkChar("w2"));
  SET_STRING_ELT(nms, 451, mkChar("w2_"));
  SET_STRING_ELT(nms, 452, mkChar("whi1"));
  SET_STRING_ELT(nms, 453, mkChar("whi2"));
  SET_STRING_ELT(nms, 454, mkChar("x_I"));
  SET_STRING_ELT(nms, 455, mkChar("Y"));
  SET_STRING_ELT(nms, 456, mkChar("yy1"));
  SET_STRING_ELT(nms, 457, mkChar("yy1_"));
  SET_STRING_ELT(nms, 458, mkChar("yy2"));
  SET_STRING_ELT(nms, 459, mkChar("yy2_"));
  SET_STRING_ELT(nms, 460, mkChar("z1"));
  SET_STRING_ELT(nms, 461, mkChar("z1_"));
  SET_STRING_ELT(nms, 462, mkChar("z2"));
  SET_STRING_ELT(nms, 463, mkChar("z2_"));
  SET_STRING_ELT(nms, 464, mkChar("zhi1"));
  SET_STRING_ELT(nms, 465, mkChar("zhi2"));
  SET_STRING_ELT(nms, 466, mkChar("odin_model_2sp_tv1_use_dde"));
  setAttrib(contents, R_NamesSymbol, nms);
  UNPROTECT(112);
  return contents;
}
SEXP odin_model_2sp_tv1_set_user(SEXP internal_p, SEXP user) {
  odin_model_2sp_tv1_internal *internal = odin_model_2sp_tv1_get_internal(internal_p, 1);
  internal->aD = user_get_scalar_double(user, "aD", internal->aD, NA_REAL, NA_REAL);
  internal->age_20_factor = user_get_scalar_double(user, "age_20_factor", internal->age_20_factor, NA_REAL, NA_REAL);
  internal->age05 = user_get_scalar_int(user, "age05", internal->age05, NA_REAL, NA_REAL);
  internal->age20l = user_get_scalar_int(user, "age20l", internal->age20l, NA_REAL, NA_REAL);
  internal->age20u = user_get_scalar_int(user, "age20u", internal->age20u, NA_REAL, NA_REAL);
  internal->age59 = user_get_scalar_int(user, "age59", internal->age59, NA_REAL, NA_REAL);
  internal->b0 = user_get_scalar_double(user, "b0", internal->b0, NA_REAL, NA_REAL);
  internal->b1 = user_get_scalar_double(user, "b1", internal->b1, NA_REAL, NA_REAL);
  internal->betaL = user_get_scalar_double(user, "betaL", internal->betaL, NA_REAL, NA_REAL);
  internal->bites_Bed_species1 = user_get_scalar_double(user, "bites_Bed_species1", internal->bites_Bed_species1, NA_REAL, NA_REAL);
  internal->bites_Bed_species2 = user_get_scalar_double(user, "bites_Bed_species2", internal->bites_Bed_species2, NA_REAL, NA_REAL);
  internal->bites_Indoors_species1 = user_get_scalar_double(user, "bites_Indoors_species1", internal->bites_Indoors_species1, NA_REAL, NA_REAL);
  internal->bites_Indoors_species2 = user_get_scalar_double(user, "bites_Indoors_species2", internal->bites_Indoors_species2, NA_REAL, NA_REAL);
  internal->cD = user_get_scalar_double(user, "cD", internal->cD, NA_REAL, NA_REAL);
  internal->chi_species1 = user_get_scalar_double(user, "chi_species1", internal->chi_species1, NA_REAL, NA_REAL);
  internal->chi_species2 = user_get_scalar_double(user, "chi_species2", internal->chi_species2, NA_REAL, NA_REAL);
  internal->cT = user_get_scalar_double(user, "cT", internal->cT, NA_REAL, NA_REAL);
  internal->cU = user_get_scalar_double(user, "cU", internal->cU, NA_REAL, NA_REAL);
  internal->d_IRS0_1 = user_get_scalar_double(user, "d_IRS0_1", internal->d_IRS0_1, NA_REAL, NA_REAL);
  internal->d_IRS0_2 = user_get_scalar_double(user, "d_IRS0_2", internal->d_IRS0_2, NA_REAL, NA_REAL);
  internal->d_ITN0_1 = user_get_scalar_double(user, "d_ITN0_1", internal->d_ITN0_1, NA_REAL, NA_REAL);
  internal->d_ITN0_2 = user_get_scalar_double(user, "d_ITN0_2", internal->d_ITN0_2, NA_REAL, NA_REAL);
  internal->d1 = user_get_scalar_double(user, "d1", internal->d1, NA_REAL, NA_REAL);
  internal->dB = user_get_scalar_double(user, "dB", internal->dB, NA_REAL, NA_REAL);
  internal->dCA = user_get_scalar_double(user, "dCA", internal->dCA, NA_REAL, NA_REAL);
  internal->dCM = user_get_scalar_double(user, "dCM", internal->dCM, NA_REAL, NA_REAL);
  internal->dE = user_get_scalar_double(user, "dE", internal->dE, NA_REAL, NA_REAL);
  internal->dEL = user_get_scalar_double(user, "dEL", internal->dEL, NA_REAL, NA_REAL);
  internal->delayGam = user_get_scalar_double(user, "delayGam", internal->delayGam, NA_REAL, NA_REAL);
  internal->delayMos = user_get_scalar_double(user, "delayMos", internal->delayMos, NA_REAL, NA_REAL);
  internal->dID = user_get_scalar_double(user, "dID", internal->dID, NA_REAL, NA_REAL);
  internal->dLL = user_get_scalar_double(user, "dLL", internal->dLL, NA_REAL, NA_REAL);
  internal->dPL = user_get_scalar_double(user, "dPL", internal->dPL, NA_REAL, NA_REAL);
  internal->eta = user_get_scalar_double(user, "eta", internal->eta, NA_REAL, NA_REAL);
  internal->fD0 = user_get_scalar_double(user, "fD0", internal->fD0, NA_REAL, NA_REAL);
  internal->ft = user_get_scalar_double(user, "ft", internal->ft, NA_REAL, NA_REAL);
  internal->gamma1 = user_get_scalar_double(user, "gamma1", internal->gamma1, NA_REAL, NA_REAL);
  internal->gammaD = user_get_scalar_double(user, "gammaD", internal->gammaD, NA_REAL, NA_REAL);
  internal->gammaL = user_get_scalar_double(user, "gammaL", internal->gammaL, NA_REAL, NA_REAL);
  internal->IB0 = user_get_scalar_double(user, "IB0", internal->IB0, NA_REAL, NA_REAL);
  internal->IC0 = user_get_scalar_double(user, "IC0", internal->IC0, NA_REAL, NA_REAL);
  internal->ID0 = user_get_scalar_double(user, "ID0", internal->ID0, NA_REAL, NA_REAL);
  internal->init_EL = user_get_scalar_double(user, "init_EL", internal->init_EL, NA_REAL, NA_REAL);
  internal->init_Ev = user_get_scalar_double(user, "init_Ev", internal->init_Ev, NA_REAL, NA_REAL);
  internal->init_Iv = user_get_scalar_double(user, "init_Iv", internal->init_Iv, NA_REAL, NA_REAL);
  internal->init_LL = user_get_scalar_double(user, "init_LL", internal->init_LL, NA_REAL, NA_REAL);
  internal->init_PL = user_get_scalar_double(user, "init_PL", internal->init_PL, NA_REAL, NA_REAL);
  internal->init_Sv = user_get_scalar_double(user, "init_Sv", internal->init_Sv, NA_REAL, NA_REAL);
  internal->irs_cov = user_get_scalar_double(user, "irs_cov", internal->irs_cov, NA_REAL, NA_REAL);
  internal->IRS_interval = user_get_scalar_double(user, "IRS_interval", internal->IRS_interval, NA_REAL, NA_REAL);
  internal->irs_loss = user_get_scalar_double(user, "irs_loss", internal->irs_loss, NA_REAL, NA_REAL);
  internal->itn_cov = user_get_scalar_double(user, "itn_cov", internal->itn_cov, NA_REAL, NA_REAL);
  internal->ITN_interval = user_get_scalar_double(user, "ITN_interval", internal->ITN_interval, NA_REAL, NA_REAL);
  internal->ITN_IRS_on = user_get_scalar_double(user, "ITN_IRS_on", internal->ITN_IRS_on, NA_REAL, NA_REAL);
  internal->itn_loss = user_get_scalar_double(user, "itn_loss", internal->itn_loss, NA_REAL, NA_REAL);
  internal->kB = user_get_scalar_double(user, "kB", internal->kB, NA_REAL, NA_REAL);
  internal->kC = user_get_scalar_double(user, "kC", internal->kC, NA_REAL, NA_REAL);
  internal->kD = user_get_scalar_double(user, "kD", internal->kD, NA_REAL, NA_REAL);
  internal->mu0 = user_get_scalar_double(user, "mu0", internal->mu0, NA_REAL, NA_REAL);
  internal->muEL = user_get_scalar_double(user, "muEL", internal->muEL, NA_REAL, NA_REAL);
  internal->muLL = user_get_scalar_double(user, "muLL", internal->muLL, NA_REAL, NA_REAL);
  internal->muPL = user_get_scalar_double(user, "muPL", internal->muPL, NA_REAL, NA_REAL);
  internal->mv0 = user_get_scalar_double(user, "mv0", internal->mv0, NA_REAL, NA_REAL);
  internal->na = user_get_scalar_int(user, "na", internal->na, NA_REAL, NA_REAL);
  internal->nh = user_get_scalar_int(user, "nh", internal->nh, NA_REAL, NA_REAL);
  internal->num_int = user_get_scalar_int(user, "num_int", internal->num_int, NA_REAL, NA_REAL);
  internal->omega = user_get_scalar_double(user, "omega", internal->omega, NA_REAL, NA_REAL);
  internal->p10 = user_get_scalar_double(user, "p10", internal->p10, NA_REAL, NA_REAL);
  internal->p2 = user_get_scalar_double(user, "p2", internal->p2, NA_REAL, NA_REAL);
  internal->phi0 = user_get_scalar_double(user, "phi0", internal->phi0, NA_REAL, NA_REAL);
  internal->phi1 = user_get_scalar_double(user, "phi1", internal->phi1, NA_REAL, NA_REAL);
  internal->pi = user_get_scalar_double(user, "pi", internal->pi, NA_REAL, NA_REAL);
  internal->PM = user_get_scalar_double(user, "PM", internal->PM, NA_REAL, NA_REAL);
  internal->Q0_species1 = user_get_scalar_double(user, "Q0_species1", internal->Q0_species1, NA_REAL, NA_REAL);
  internal->Q0_species2 = user_get_scalar_double(user, "Q0_species2", internal->Q0_species2, NA_REAL, NA_REAL);
  internal->r_IRS0_1 = user_get_scalar_double(user, "r_IRS0_1", internal->r_IRS0_1, NA_REAL, NA_REAL);
  internal->r_IRS0_2 = user_get_scalar_double(user, "r_IRS0_2", internal->r_IRS0_2, NA_REAL, NA_REAL);
  internal->r_ITN0_1 = user_get_scalar_double(user, "r_ITN0_1", internal->r_ITN0_1, NA_REAL, NA_REAL);
  internal->r_ITN0_2 = user_get_scalar_double(user, "r_ITN0_2", internal->r_ITN0_2, NA_REAL, NA_REAL);
  internal->r_ITN1 = user_get_scalar_double(user, "r_ITN1", internal->r_ITN1, NA_REAL, NA_REAL);
  internal->r_ITN2 = user_get_scalar_double(user, "r_ITN2", internal->r_ITN2, NA_REAL, NA_REAL);
  internal->rA = user_get_scalar_double(user, "rA", internal->rA, NA_REAL, NA_REAL);
  internal->rD = user_get_scalar_double(user, "rD", internal->rD, NA_REAL, NA_REAL);
  internal->rP = user_get_scalar_double(user, "rP", internal->rP, NA_REAL, NA_REAL);
  internal->rT = user_get_scalar_double(user, "rT", internal->rT, NA_REAL, NA_REAL);
  internal->rU = user_get_scalar_double(user, "rU", internal->rU, NA_REAL, NA_REAL);
  internal->ssa0 = user_get_scalar_double(user, "ssa0", internal->ssa0, NA_REAL, NA_REAL);
  internal->ssa1 = user_get_scalar_double(user, "ssa1", internal->ssa1, NA_REAL, NA_REAL);
  internal->ssa2 = user_get_scalar_double(user, "ssa2", internal->ssa2, NA_REAL, NA_REAL);
  internal->ssa3 = user_get_scalar_double(user, "ssa3", internal->ssa3, NA_REAL, NA_REAL);
  internal->ssb1 = user_get_scalar_double(user, "ssb1", internal->ssb1, NA_REAL, NA_REAL);
  internal->ssb2 = user_get_scalar_double(user, "ssb2", internal->ssb2, NA_REAL, NA_REAL);
  internal->ssb3 = user_get_scalar_double(user, "ssb3", internal->ssb3, NA_REAL, NA_REAL);
  internal->tau1 = user_get_scalar_double(user, "tau1", internal->tau1, NA_REAL, NA_REAL);
  internal->tau2 = user_get_scalar_double(user, "tau2", internal->tau2, NA_REAL, NA_REAL);
  internal->theta_c = user_get_scalar_double(user, "theta_c", internal->theta_c, NA_REAL, NA_REAL);
  internal->time_length = user_get_scalar_int(user, "time_length", internal->time_length, NA_REAL, NA_REAL);
  internal->uB = user_get_scalar_double(user, "uB", internal->uB, NA_REAL, NA_REAL);
  internal->uCA = user_get_scalar_double(user, "uCA", internal->uCA, NA_REAL, NA_REAL);
  internal->uD = user_get_scalar_double(user, "uD", internal->uD, NA_REAL, NA_REAL);
  internal->b_lambda = (internal->gammaL * internal->muLL / (double) internal->muEL - internal->dEL / (double) internal->dLL + (internal->gammaL - 1) * internal->muLL * internal->dEL);
  internal->dim_A_1 = internal->na;
  internal->dim_A_2 = internal->nh;
  internal->dim_A_3 = internal->num_int;
  internal->dim_age = internal->na;
  internal->dim_age_rate = internal->na;
  internal->dim_av_human1 = internal->num_int;
  internal->dim_av_human2 = internal->num_int;
  internal->dim_av_mosq1 = internal->num_int;
  internal->dim_av_mosq2 = internal->num_int;
  internal->dim_b_1 = internal->na;
  internal->dim_b_2 = internal->nh;
  internal->dim_b_3 = internal->num_int;
  internal->dim_cA_1 = internal->na;
  internal->dim_cA_2 = internal->nh;
  internal->dim_cA_3 = internal->num_int;
  internal->dim_clin_inc_1 = internal->na;
  internal->dim_clin_inc_2 = internal->nh;
  internal->dim_clin_inc_3 = internal->num_int;
  internal->dim_clin_inc0to5_1 = internal->age05;
  internal->dim_clin_inc0to5_2 = internal->nh;
  internal->dim_clin_inc0to5_3 = internal->num_int;
  internal->dim_cov = internal->num_int;
  internal->dim_custom_seasonality = internal->time_length;
  internal->dim_D_1 = internal->na;
  internal->dim_D_2 = internal->nh;
  internal->dim_D_3 = internal->num_int;
  internal->dim_den = internal->na;
  internal->dim_density_vec = internal->time_length;
  internal->dim_density_vec_sp1 = internal->time_length;
  internal->dim_EIR_1 = internal->na;
  internal->dim_EIR_2 = internal->nh;
  internal->dim_EIR_3 = internal->num_int;
  internal->dim_EIR_species1_1 = internal->na;
  internal->dim_EIR_species1_2 = internal->nh;
  internal->dim_EIR_species1_3 = internal->num_int;
  internal->dim_EIR_species2_1 = internal->na;
  internal->dim_EIR_species2_2 = internal->nh;
  internal->dim_EIR_species2_3 = internal->num_int;
  internal->dim_fd = internal->na;
  internal->dim_FOI_1 = internal->na;
  internal->dim_FOI_2 = internal->nh;
  internal->dim_FOI_3 = internal->num_int;
  internal->dim_foi_age = internal->na;
  internal->dim_FOI_lag_1 = internal->na;
  internal->dim_FOI_lag_2 = internal->nh;
  internal->dim_FOI_lag_3 = internal->num_int;
  internal->dim_FOIvijk_species1_1 = internal->na;
  internal->dim_FOIvijk_species1_2 = internal->nh;
  internal->dim_FOIvijk_species1_3 = internal->num_int;
  internal->dim_FOIvijk_species2_1 = internal->na;
  internal->dim_FOIvijk_species2_2 = internal->nh;
  internal->dim_FOIvijk_species2_3 = internal->num_int;
  internal->dim_het_wt = internal->nh;
  internal->dim_IB_1 = internal->na;
  internal->dim_IB_2 = internal->nh;
  internal->dim_IB_3 = internal->num_int;
  internal->dim_IC_1 = internal->na;
  internal->dim_IC_2 = internal->nh;
  internal->dim_IC_3 = internal->num_int;
  internal->dim_ICA_1 = internal->na;
  internal->dim_ICA_2 = internal->nh;
  internal->dim_ICA_3 = internal->num_int;
  internal->dim_ICM_1 = internal->na;
  internal->dim_ICM_2 = internal->nh;
  internal->dim_ICM_3 = internal->num_int;
  internal->dim_ID_1 = internal->na;
  internal->dim_ID_2 = internal->nh;
  internal->dim_ID_3 = internal->num_int;
  internal->dim_init_A_1 = internal->na;
  internal->dim_init_A_2 = internal->nh;
  internal->dim_init_A_3 = internal->num_int;
  internal->dim_init_D_1 = internal->na;
  internal->dim_init_D_2 = internal->nh;
  internal->dim_init_D_3 = internal->num_int;
  internal->dim_init_IB_1 = internal->na;
  internal->dim_init_IB_2 = internal->nh;
  internal->dim_init_IB_3 = internal->num_int;
  internal->dim_init_ICA_1 = internal->na;
  internal->dim_init_ICA_2 = internal->nh;
  internal->dim_init_ICA_3 = internal->num_int;
  internal->dim_init_ICM_1 = internal->na;
  internal->dim_init_ICM_2 = internal->nh;
  internal->dim_init_ICM_3 = internal->num_int;
  internal->dim_init_ICM_pre_1 = internal->nh;
  internal->dim_init_ICM_pre_2 = internal->num_int;
  internal->dim_init_ID_1 = internal->na;
  internal->dim_init_ID_2 = internal->nh;
  internal->dim_init_ID_3 = internal->num_int;
  internal->dim_init_P_1 = internal->na;
  internal->dim_init_P_2 = internal->nh;
  internal->dim_init_P_3 = internal->num_int;
  internal->dim_init_S_1 = internal->na;
  internal->dim_init_S_2 = internal->nh;
  internal->dim_init_S_3 = internal->num_int;
  internal->dim_init_T_1 = internal->na;
  internal->dim_init_T_2 = internal->nh;
  internal->dim_init_T_3 = internal->num_int;
  internal->dim_init_U_1 = internal->na;
  internal->dim_init_U_2 = internal->nh;
  internal->dim_init_U_3 = internal->num_int;
  internal->dim_P_1 = internal->na;
  internal->dim_P_2 = internal->nh;
  internal->dim_P_3 = internal->num_int;
  internal->dim_p_det_1 = internal->na;
  internal->dim_p_det_2 = internal->nh;
  internal->dim_p_det_3 = internal->num_int;
  internal->dim_phi_1 = internal->na;
  internal->dim_phi_2 = internal->nh;
  internal->dim_phi_3 = internal->num_int;
  internal->dim_prev0to5_1 = internal->age05;
  internal->dim_prev0to5_2 = internal->nh;
  internal->dim_prev0to5_3 = internal->num_int;
  internal->dim_prev0to59_1 = internal->age59;
  internal->dim_prev0to59_2 = internal->nh;
  internal->dim_prev0to59_3 = internal->num_int;
  internal->dim_rel_foi = internal->nh;
  internal->dim_S_1 = internal->na;
  internal->dim_S_2 = internal->nh;
  internal->dim_S_3 = internal->num_int;
  internal->dim_T_1 = internal->na;
  internal->dim_T_2 = internal->nh;
  internal->dim_T_3 = internal->num_int;
  internal->dim_U_1 = internal->na;
  internal->dim_U_2 = internal->nh;
  internal->dim_U_3 = internal->num_int;
  internal->dim_w1 = internal->num_int;
  internal->dim_w2 = internal->num_int;
  internal->dim_whi1 = internal->num_int;
  internal->dim_whi2 = internal->num_int;
  internal->dim_x_I = internal->na;
  internal->dim_Y_1 = internal->na;
  internal->dim_Y_2 = internal->nh;
  internal->dim_Y_3 = internal->num_int;
  internal->dim_yy1 = internal->num_int;
  internal->dim_yy2 = internal->num_int;
  internal->dim_z1 = internal->num_int;
  internal->dim_z2 = internal->num_int;
  internal->dim_zhi1 = internal->num_int;
  internal->dim_zhi2 = internal->num_int;
  internal->initial_EL1 = internal->init_EL;
  internal->initial_EL2 = internal->init_EL * 0.01;
  internal->initial_Ev1 = internal->init_Ev * internal->mv0;
  internal->initial_Ev2 = internal->init_Ev * internal->mv0 * 0.01;
  internal->initial_Iv1 = internal->init_Iv * internal->mv0;
  internal->initial_Iv2 = internal->init_Iv * internal->mv0 * 0.01;
  internal->initial_LL1 = internal->init_LL;
  internal->initial_LL2 = internal->init_LL * 0.01;
  internal->initial_PL1 = internal->init_PL;
  internal->initial_PL2 = internal->init_PL * 0.01;
  internal->initial_Sv1 = internal->init_Sv * internal->mv0;
  internal->initial_Sv2 = internal->init_Sv * internal->mv0 * 0.01;
  internal->age = (double*) user_get_array(user, false, internal->age, "age", NA_REAL, NA_REAL, 1, internal->dim_age);
  internal->age_rate = (double*) user_get_array(user, false, internal->age_rate, "age_rate", NA_REAL, NA_REAL, 1, internal->dim_age_rate);
  R_Free(internal->av_human1);
  internal->av_human1 = (double*) R_Calloc(internal->dim_av_human1, double);
  R_Free(internal->av_human2);
  internal->av_human2 = (double*) R_Calloc(internal->dim_av_human2, double);
  R_Free(internal->av_mosq1);
  internal->av_mosq1 = (double*) R_Calloc(internal->dim_av_mosq1, double);
  R_Free(internal->av_mosq2);
  internal->av_mosq2 = (double*) R_Calloc(internal->dim_av_mosq2, double);
  R_Free(internal->cov);
  internal->cov = (double*) R_Calloc(internal->dim_cov, double);
  R_Free(internal->fd);
  internal->fd = (double*) R_Calloc(internal->dim_fd, double);
  R_Free(internal->w1);
  internal->w1 = (double*) R_Calloc(internal->dim_w1, double);
  R_Free(internal->w2);
  internal->w2 = (double*) R_Calloc(internal->dim_w2, double);
  R_Free(internal->whi1);
  internal->whi1 = (double*) R_Calloc(internal->dim_whi1, double);
  R_Free(internal->whi2);
  internal->whi2 = (double*) R_Calloc(internal->dim_whi2, double);
  R_Free(internal->yy1);
  internal->yy1 = (double*) R_Calloc(internal->dim_yy1, double);
  R_Free(internal->yy2);
  internal->yy2 = (double*) R_Calloc(internal->dim_yy2, double);
  R_Free(internal->z1);
  internal->z1 = (double*) R_Calloc(internal->dim_z1, double);
  R_Free(internal->z2);
  internal->z2 = (double*) R_Calloc(internal->dim_z2, double);
  R_Free(internal->zhi1);
  internal->zhi1 = (double*) R_Calloc(internal->dim_zhi1, double);
  R_Free(internal->zhi2);
  internal->zhi2 = (double*) R_Calloc(internal->dim_zhi2, double);
  {
     int i = 1;
     internal->cov_[i - 1] = (1 - internal->itn_cov) * (1 - internal->irs_cov);
  }
  {
     int i = 2;
     internal->cov_[i - 1] = internal->itn_cov * (1 - internal->irs_cov);
  }
  {
     int i = 3;
     internal->cov_[i - 1] = (1 - internal->itn_cov) * internal->irs_cov;
  }
  {
     int i = 4;
     internal->cov_[i - 1] = internal->itn_cov * internal->irs_cov;
  }
  internal->custom_seasonality = (double*) user_get_array(user, false, internal->custom_seasonality, "custom_seasonality", NA_REAL, NA_REAL, 1, internal->dim_custom_seasonality);
  R_Free(internal->delay_array_av_human1);
  internal->delay_array_av_human1 = (double*) R_Calloc(internal->dim_av_human1, double);
  R_Free(internal->delay_array_av_human2);
  internal->delay_array_av_human2 = (double*) R_Calloc(internal->dim_av_human2, double);
  R_Free(internal->delay_array_av_mosq1);
  internal->delay_array_av_mosq1 = (double*) R_Calloc(internal->dim_av_mosq1, double);
  R_Free(internal->delay_array_av_mosq2);
  internal->delay_array_av_mosq2 = (double*) R_Calloc(internal->dim_av_mosq2, double);
  R_Free(internal->delay_array_w1);
  internal->delay_array_w1 = (double*) R_Calloc(internal->dim_w1, double);
  R_Free(internal->delay_array_w2);
  internal->delay_array_w2 = (double*) R_Calloc(internal->dim_w2, double);
  R_Free(internal->delay_array_whi1);
  internal->delay_array_whi1 = (double*) R_Calloc(internal->dim_whi1, double);
  R_Free(internal->delay_array_whi2);
  internal->delay_array_whi2 = (double*) R_Calloc(internal->dim_whi2, double);
  R_Free(internal->delay_array_yy1);
  internal->delay_array_yy1 = (double*) R_Calloc(internal->dim_yy1, double);
  R_Free(internal->delay_array_yy2);
  internal->delay_array_yy2 = (double*) R_Calloc(internal->dim_yy2, double);
  R_Free(internal->delay_array_z1);
  internal->delay_array_z1 = (double*) R_Calloc(internal->dim_z1, double);
  R_Free(internal->delay_array_z2);
  internal->delay_array_z2 = (double*) R_Calloc(internal->dim_z2, double);
  R_Free(internal->delay_array_zhi1);
  internal->delay_array_zhi1 = (double*) R_Calloc(internal->dim_zhi1, double);
  R_Free(internal->delay_array_zhi2);
  internal->delay_array_zhi2 = (double*) R_Calloc(internal->dim_zhi2, double);
  internal->den = (double*) user_get_array(user, false, internal->den, "den", NA_REAL, NA_REAL, 1, internal->dim_den);
  internal->density_vec = (double*) user_get_array(user, false, internal->density_vec, "density_vec", NA_REAL, NA_REAL, 1, internal->dim_density_vec);
  internal->density_vec_sp1 = (double*) user_get_array(user, false, internal->density_vec_sp1, "density_vec_sp1", NA_REAL, NA_REAL, 1, internal->dim_density_vec_sp1);
  internal->dim_A = internal->dim_A_1 * internal->dim_A_2 * internal->dim_A_3;
  internal->dim_A_12 = internal->dim_A_1 * internal->dim_A_2;
  internal->dim_b = internal->dim_b_1 * internal->dim_b_2 * internal->dim_b_3;
  internal->dim_b_12 = internal->dim_b_1 * internal->dim_b_2;
  internal->dim_cA = internal->dim_cA_1 * internal->dim_cA_2 * internal->dim_cA_3;
  internal->dim_cA_12 = internal->dim_cA_1 * internal->dim_cA_2;
  internal->dim_clin_inc = internal->dim_clin_inc_1 * internal->dim_clin_inc_2 * internal->dim_clin_inc_3;
  internal->dim_clin_inc_12 = internal->dim_clin_inc_1 * internal->dim_clin_inc_2;
  internal->dim_clin_inc0to5 = internal->dim_clin_inc0to5_1 * internal->dim_clin_inc0to5_2 * internal->dim_clin_inc0to5_3;
  internal->dim_clin_inc0to5_12 = internal->dim_clin_inc0to5_1 * internal->dim_clin_inc0to5_2;
  internal->dim_D = internal->dim_D_1 * internal->dim_D_2 * internal->dim_D_3;
  internal->dim_D_12 = internal->dim_D_1 * internal->dim_D_2;
  internal->dim_EIR = internal->dim_EIR_1 * internal->dim_EIR_2 * internal->dim_EIR_3;
  internal->dim_EIR_12 = internal->dim_EIR_1 * internal->dim_EIR_2;
  internal->dim_EIR_species1 = internal->dim_EIR_species1_1 * internal->dim_EIR_species1_2 * internal->dim_EIR_species1_3;
  internal->dim_EIR_species1_12 = internal->dim_EIR_species1_1 * internal->dim_EIR_species1_2;
  internal->dim_EIR_species2 = internal->dim_EIR_species2_1 * internal->dim_EIR_species2_2 * internal->dim_EIR_species2_3;
  internal->dim_EIR_species2_12 = internal->dim_EIR_species2_1 * internal->dim_EIR_species2_2;
  internal->dim_FOI = internal->dim_FOI_1 * internal->dim_FOI_2 * internal->dim_FOI_3;
  internal->dim_FOI_12 = internal->dim_FOI_1 * internal->dim_FOI_2;
  internal->dim_FOI_lag = internal->dim_FOI_lag_1 * internal->dim_FOI_lag_2 * internal->dim_FOI_lag_3;
  internal->dim_FOI_lag_12 = internal->dim_FOI_lag_1 * internal->dim_FOI_lag_2;
  internal->dim_FOIvijk_species1 = internal->dim_FOIvijk_species1_1 * internal->dim_FOIvijk_species1_2 * internal->dim_FOIvijk_species1_3;
  internal->dim_FOIvijk_species1_12 = internal->dim_FOIvijk_species1_1 * internal->dim_FOIvijk_species1_2;
  internal->dim_FOIvijk_species2 = internal->dim_FOIvijk_species2_1 * internal->dim_FOIvijk_species2_2 * internal->dim_FOIvijk_species2_3;
  internal->dim_FOIvijk_species2_12 = internal->dim_FOIvijk_species2_1 * internal->dim_FOIvijk_species2_2;
  internal->dim_IB = internal->dim_IB_1 * internal->dim_IB_2 * internal->dim_IB_3;
  internal->dim_IB_12 = internal->dim_IB_1 * internal->dim_IB_2;
  internal->dim_IC = internal->dim_IC_1 * internal->dim_IC_2 * internal->dim_IC_3;
  internal->dim_IC_12 = internal->dim_IC_1 * internal->dim_IC_2;
  internal->dim_ICA = internal->dim_ICA_1 * internal->dim_ICA_2 * internal->dim_ICA_3;
  internal->dim_ICA_12 = internal->dim_ICA_1 * internal->dim_ICA_2;
  internal->dim_ICM = internal->dim_ICM_1 * internal->dim_ICM_2 * internal->dim_ICM_3;
  internal->dim_ICM_12 = internal->dim_ICM_1 * internal->dim_ICM_2;
  internal->dim_ID = internal->dim_ID_1 * internal->dim_ID_2 * internal->dim_ID_3;
  internal->dim_ID_12 = internal->dim_ID_1 * internal->dim_ID_2;
  internal->dim_init_A = internal->dim_init_A_1 * internal->dim_init_A_2 * internal->dim_init_A_3;
  internal->dim_init_A_12 = internal->dim_init_A_1 * internal->dim_init_A_2;
  internal->dim_init_D = internal->dim_init_D_1 * internal->dim_init_D_2 * internal->dim_init_D_3;
  internal->dim_init_D_12 = internal->dim_init_D_1 * internal->dim_init_D_2;
  internal->dim_init_IB = internal->dim_init_IB_1 * internal->dim_init_IB_2 * internal->dim_init_IB_3;
  internal->dim_init_IB_12 = internal->dim_init_IB_1 * internal->dim_init_IB_2;
  internal->dim_init_ICA = internal->dim_init_ICA_1 * internal->dim_init_ICA_2 * internal->dim_init_ICA_3;
  internal->dim_init_ICA_12 = internal->dim_init_ICA_1 * internal->dim_init_ICA_2;
  internal->dim_init_ICM = internal->dim_init_ICM_1 * internal->dim_init_ICM_2 * internal->dim_init_ICM_3;
  internal->dim_init_ICM_12 = internal->dim_init_ICM_1 * internal->dim_init_ICM_2;
  internal->dim_init_ICM_pre = internal->dim_init_ICM_pre_1 * internal->dim_init_ICM_pre_2;
  internal->dim_init_ID = internal->dim_init_ID_1 * internal->dim_init_ID_2 * internal->dim_init_ID_3;
  internal->dim_init_ID_12 = internal->dim_init_ID_1 * internal->dim_init_ID_2;
  internal->dim_init_P = internal->dim_init_P_1 * internal->dim_init_P_2 * internal->dim_init_P_3;
  internal->dim_init_P_12 = internal->dim_init_P_1 * internal->dim_init_P_2;
  internal->dim_init_S = internal->dim_init_S_1 * internal->dim_init_S_2 * internal->dim_init_S_3;
  internal->dim_init_S_12 = internal->dim_init_S_1 * internal->dim_init_S_2;
  internal->dim_init_T = internal->dim_init_T_1 * internal->dim_init_T_2 * internal->dim_init_T_3;
  internal->dim_init_T_12 = internal->dim_init_T_1 * internal->dim_init_T_2;
  internal->dim_init_U = internal->dim_init_U_1 * internal->dim_init_U_2 * internal->dim_init_U_3;
  internal->dim_init_U_12 = internal->dim_init_U_1 * internal->dim_init_U_2;
  internal->dim_P = internal->dim_P_1 * internal->dim_P_2 * internal->dim_P_3;
  internal->dim_P_12 = internal->dim_P_1 * internal->dim_P_2;
  internal->dim_p_det = internal->dim_p_det_1 * internal->dim_p_det_2 * internal->dim_p_det_3;
  internal->dim_p_det_12 = internal->dim_p_det_1 * internal->dim_p_det_2;
  internal->dim_phi = internal->dim_phi_1 * internal->dim_phi_2 * internal->dim_phi_3;
  internal->dim_phi_12 = internal->dim_phi_1 * internal->dim_phi_2;
  internal->dim_prev0to5 = internal->dim_prev0to5_1 * internal->dim_prev0to5_2 * internal->dim_prev0to5_3;
  internal->dim_prev0to5_12 = internal->dim_prev0to5_1 * internal->dim_prev0to5_2;
  internal->dim_prev0to59 = internal->dim_prev0to59_1 * internal->dim_prev0to59_2 * internal->dim_prev0to59_3;
  internal->dim_prev0to59_12 = internal->dim_prev0to59_1 * internal->dim_prev0to59_2;
  internal->dim_S = internal->dim_S_1 * internal->dim_S_2 * internal->dim_S_3;
  internal->dim_S_12 = internal->dim_S_1 * internal->dim_S_2;
  internal->dim_T = internal->dim_T_1 * internal->dim_T_2 * internal->dim_T_3;
  internal->dim_T_12 = internal->dim_T_1 * internal->dim_T_2;
  internal->dim_U = internal->dim_U_1 * internal->dim_U_2 * internal->dim_U_3;
  internal->dim_U_12 = internal->dim_U_1 * internal->dim_U_2;
  internal->dim_Y = internal->dim_Y_1 * internal->dim_Y_2 * internal->dim_Y_3;
  internal->dim_Y_12 = internal->dim_Y_1 * internal->dim_Y_2;
  internal->foi_age = (double*) user_get_array(user, false, internal->foi_age, "foi_age", NA_REAL, NA_REAL, 1, internal->dim_foi_age);
  internal->het_wt = (double*) user_get_array(user, false, internal->het_wt, "het_wt", NA_REAL, NA_REAL, 1, internal->dim_het_wt);
  internal->offset_output_EIR_species1 = internal->dim_cov + 56;
  internal->rel_foi = (double*) user_get_array(user, false, internal->rel_foi, "rel_foi", NA_REAL, NA_REAL, 1, internal->dim_rel_foi);
  internal->x_I = (double*) user_get_array(user, false, internal->x_I, "x_I", NA_REAL, NA_REAL, 1, internal->dim_x_I);
  R_Free(internal->b);
  internal->b = (double*) R_Calloc(internal->dim_b, double);
  R_Free(internal->cA);
  internal->cA = (double*) R_Calloc(internal->dim_cA, double);
  R_Free(internal->clin_inc);
  internal->clin_inc = (double*) R_Calloc(internal->dim_clin_inc, double);
  R_Free(internal->clin_inc0to5);
  internal->clin_inc0to5 = (double*) R_Calloc(internal->dim_clin_inc0to5, double);
  R_Free(internal->EIR);
  internal->EIR = (double*) R_Calloc(internal->dim_EIR, double);
  R_Free(internal->EIR_species1);
  internal->EIR_species1 = (double*) R_Calloc(internal->dim_EIR_species1, double);
  R_Free(internal->EIR_species2);
  internal->EIR_species2 = (double*) R_Calloc(internal->dim_EIR_species2, double);
  R_Free(internal->FOI);
  internal->FOI = (double*) R_Calloc(internal->dim_FOI, double);
  R_Free(internal->FOI_lag);
  internal->FOI_lag = (double*) R_Calloc(internal->dim_FOI_lag, double);
  R_Free(internal->FOIvijk_species1);
  internal->FOIvijk_species1 = (double*) R_Calloc(internal->dim_FOIvijk_species1, double);
  R_Free(internal->FOIvijk_species2);
  internal->FOIvijk_species2 = (double*) R_Calloc(internal->dim_FOIvijk_species2, double);
  R_Free(internal->IC);
  internal->IC = (double*) R_Calloc(internal->dim_IC, double);
  R_Free(internal->init_ICM_pre);
  internal->init_ICM_pre = (double*) R_Calloc(internal->dim_init_ICM_pre, double);
  R_Free(internal->initial_A);
  internal->initial_A = (double*) R_Calloc(internal->dim_A, double);
  R_Free(internal->initial_D);
  internal->initial_D = (double*) R_Calloc(internal->dim_D, double);
  R_Free(internal->initial_IB);
  internal->initial_IB = (double*) R_Calloc(internal->dim_IB, double);
  R_Free(internal->initial_ICA);
  internal->initial_ICA = (double*) R_Calloc(internal->dim_ICA, double);
  R_Free(internal->initial_ICM);
  internal->initial_ICM = (double*) R_Calloc(internal->dim_ICM, double);
  R_Free(internal->initial_ID);
  internal->initial_ID = (double*) R_Calloc(internal->dim_ID, double);
  R_Free(internal->initial_P);
  internal->initial_P = (double*) R_Calloc(internal->dim_P, double);
  R_Free(internal->initial_S);
  internal->initial_S = (double*) R_Calloc(internal->dim_S, double);
  R_Free(internal->initial_T);
  internal->initial_T = (double*) R_Calloc(internal->dim_T, double);
  R_Free(internal->initial_U);
  internal->initial_U = (double*) R_Calloc(internal->dim_U, double);
  R_Free(internal->p_det);
  internal->p_det = (double*) R_Calloc(internal->dim_p_det, double);
  R_Free(internal->phi);
  internal->phi = (double*) R_Calloc(internal->dim_phi, double);
  R_Free(internal->prev0to5);
  internal->prev0to5 = (double*) R_Calloc(internal->dim_prev0to5, double);
  R_Free(internal->prev0to59);
  internal->prev0to59 = (double*) R_Calloc(internal->dim_prev0to59, double);
  R_Free(internal->Y);
  internal->Y = (double*) R_Calloc(internal->dim_Y, double);
  for (int i = 1; i <= internal->dim_cov; ++i) {
    internal->cov[i - 1] = internal->cov_[i - 1];
  }
  R_Free(internal->delay_array_b);
  internal->delay_array_b = (double*) R_Calloc(internal->dim_b, double);
  R_Free(internal->delay_array_cA);
  internal->delay_array_cA = (double*) R_Calloc(internal->dim_cA, double);
  R_Free(internal->delay_array_EIR);
  internal->delay_array_EIR = (double*) R_Calloc(internal->dim_EIR, double);
  R_Free(internal->delay_array_EIR_species1);
  internal->delay_array_EIR_species1 = (double*) R_Calloc(internal->dim_EIR_species1, double);
  R_Free(internal->delay_array_EIR_species2);
  internal->delay_array_EIR_species2 = (double*) R_Calloc(internal->dim_EIR_species2, double);
  R_Free(internal->delay_array_FOI_lag);
  internal->delay_array_FOI_lag = (double*) R_Calloc(internal->dim_FOI_lag, double);
  R_Free(internal->delay_array_FOIvijk_species1);
  internal->delay_array_FOIvijk_species1 = (double*) R_Calloc(internal->dim_FOIvijk_species1, double);
  R_Free(internal->delay_array_FOIvijk_species2);
  internal->delay_array_FOIvijk_species2 = (double*) R_Calloc(internal->dim_FOIvijk_species2, double);
  R_Free(internal->delay_array_p_det);
  internal->delay_array_p_det = (double*) R_Calloc(internal->dim_p_det, double);
  internal->dim_delay_FOI = internal->dim_IB + 2;
  internal->dim_delay_FOIv_species1 = internal->dim_A + internal->dim_D + internal->dim_ID + internal->dim_T + internal->dim_U;
  internal->dim_delay_FOIv_species2 = internal->dim_A + internal->dim_D + internal->dim_ID + internal->dim_T + internal->dim_U;
  for (int i = 1; i <= internal->na; ++i) {
    internal->fd[i - 1] = 1 - (1 - internal->fD0) / (double) (1 + pow((internal->age[i - 1] / (double) internal->aD), internal->gammaD));
  }
  internal->init_A = (double*) user_get_array(user, false, internal->init_A, "init_A", NA_REAL, NA_REAL, 3, internal->dim_init_A_1, internal->dim_init_A_2, internal->dim_init_A_3);
  internal->init_D = (double*) user_get_array(user, false, internal->init_D, "init_D", NA_REAL, NA_REAL, 3, internal->dim_init_D_1, internal->dim_init_D_2, internal->dim_init_D_3);
  internal->init_IB = (double*) user_get_array(user, false, internal->init_IB, "init_IB", NA_REAL, NA_REAL, 3, internal->dim_init_IB_1, internal->dim_init_IB_2, internal->dim_init_IB_3);
  internal->init_ICA = (double*) user_get_array(user, false, internal->init_ICA, "init_ICA", NA_REAL, NA_REAL, 3, internal->dim_init_ICA_1, internal->dim_init_ICA_2, internal->dim_init_ICA_3);
  internal->init_ICM = (double*) user_get_array(user, false, internal->init_ICM, "init_ICM", NA_REAL, NA_REAL, 3, internal->dim_init_ICM_1, internal->dim_init_ICM_2, internal->dim_init_ICM_3);
  internal->init_ID = (double*) user_get_array(user, false, internal->init_ID, "init_ID", NA_REAL, NA_REAL, 3, internal->dim_init_ID_1, internal->dim_init_ID_2, internal->dim_init_ID_3);
  internal->init_P = (double*) user_get_array(user, false, internal->init_P, "init_P", NA_REAL, NA_REAL, 3, internal->dim_init_P_1, internal->dim_init_P_2, internal->dim_init_P_3);
  internal->init_S = (double*) user_get_array(user, false, internal->init_S, "init_S", NA_REAL, NA_REAL, 3, internal->dim_init_S_1, internal->dim_init_S_2, internal->dim_init_S_3);
  internal->init_T = (double*) user_get_array(user, false, internal->init_T, "init_T", NA_REAL, NA_REAL, 3, internal->dim_init_T_1, internal->dim_init_T_2, internal->dim_init_T_3);
  internal->init_U = (double*) user_get_array(user, false, internal->init_U, "init_U", NA_REAL, NA_REAL, 3, internal->dim_init_U_1, internal->dim_init_U_2, internal->dim_init_U_3);
  internal->offset_FOIv_species1_A = internal->dim_D + internal->dim_T;
  internal->offset_FOIv_species1_ID = internal->dim_A + internal->dim_D + internal->dim_T + internal->dim_U;
  internal->offset_FOIv_species1_U = internal->dim_A + internal->dim_D + internal->dim_T;
  internal->offset_FOIv_species2_A = internal->dim_D + internal->dim_T;
  internal->offset_FOIv_species2_ID = internal->dim_A + internal->dim_D + internal->dim_T + internal->dim_U;
  internal->offset_FOIv_species2_U = internal->dim_A + internal->dim_D + internal->dim_T;
  internal->offset_output_EIR = internal->dim_cov + internal->dim_EIR_species1 + internal->dim_EIR_species2 + 56;
  internal->offset_output_EIR_species2 = internal->dim_cov + internal->dim_EIR_species1 + 56;
  internal->offset_variable_A = internal->dim_D + internal->dim_S + internal->dim_T + 12;
  internal->offset_variable_D = internal->dim_S + internal->dim_T + 12;
  internal->offset_variable_IB = internal->dim_A + internal->dim_D + internal->dim_ICA + internal->dim_ICM + internal->dim_P + internal->dim_S + internal->dim_T + internal->dim_U + 12;
  internal->offset_variable_ICA = internal->dim_A + internal->dim_D + internal->dim_ICM + internal->dim_P + internal->dim_S + internal->dim_T + internal->dim_U + 12;
  internal->offset_variable_ICM = internal->dim_A + internal->dim_D + internal->dim_P + internal->dim_S + internal->dim_T + internal->dim_U + 12;
  internal->offset_variable_ID = internal->dim_A + internal->dim_D + internal->dim_IB + internal->dim_ICA + internal->dim_ICM + internal->dim_P + internal->dim_S + internal->dim_T + internal->dim_U + 12;
  internal->offset_variable_P = internal->dim_A + internal->dim_D + internal->dim_S + internal->dim_T + internal->dim_U + 12;
  internal->offset_variable_T = internal->dim_S + 12;
  internal->offset_variable_U = internal->dim_A + internal->dim_D + internal->dim_S + internal->dim_T + 12;
  R_Free(internal->delay_index_FOI);
  internal->delay_index_FOI = R_Calloc(internal->dim_delay_FOI, int);
  R_Free(internal->delay_state_FOI);
  internal->delay_state_FOI = R_Calloc(internal->dim_delay_FOI, double);
  internal->delay_index_FOI[0] = 2;
  internal->delay_index_FOI[1] = 5;
  for (int i = 0, j = internal->offset_variable_IB; i < internal->dim_IB; ++i, ++j) {
    internal->delay_index_FOI[2 + i] = j;
  }
  R_Free(internal->delay_index_FOIv_species1);
  internal->delay_index_FOIv_species1 = R_Calloc(internal->dim_delay_FOIv_species1, int);
  R_Free(internal->delay_state_FOIv_species1);
  internal->delay_state_FOIv_species1 = R_Calloc(internal->dim_delay_FOIv_species1, double);
  for (int i = 0, j = internal->offset_variable_T; i < internal->dim_T; ++i, ++j) {
    internal->delay_index_FOIv_species1[0 + i] = j;
  }
  for (int i = 0, j = internal->offset_variable_D; i < internal->dim_D; ++i, ++j) {
    internal->delay_index_FOIv_species1[internal->dim_T + i] = j;
  }
  for (int i = 0, j = internal->offset_variable_A; i < internal->dim_A; ++i, ++j) {
    internal->delay_index_FOIv_species1[internal->offset_FOIv_species1_A + i] = j;
  }
  for (int i = 0, j = internal->offset_variable_U; i < internal->dim_U; ++i, ++j) {
    internal->delay_index_FOIv_species1[internal->offset_FOIv_species1_U + i] = j;
  }
  for (int i = 0, j = internal->offset_variable_ID; i < internal->dim_ID; ++i, ++j) {
    internal->delay_index_FOIv_species1[internal->offset_FOIv_species1_ID + i] = j;
  }
  R_Free(internal->delay_index_FOIv_species2);
  internal->delay_index_FOIv_species2 = R_Calloc(internal->dim_delay_FOIv_species2, int);
  R_Free(internal->delay_state_FOIv_species2);
  internal->delay_state_FOIv_species2 = R_Calloc(internal->dim_delay_FOIv_species2, double);
  for (int i = 0, j = internal->offset_variable_T; i < internal->dim_T; ++i, ++j) {
    internal->delay_index_FOIv_species2[0 + i] = j;
  }
  for (int i = 0, j = internal->offset_variable_D; i < internal->dim_D; ++i, ++j) {
    internal->delay_index_FOIv_species2[internal->dim_T + i] = j;
  }
  for (int i = 0, j = internal->offset_variable_A; i < internal->dim_A; ++i, ++j) {
    internal->delay_index_FOIv_species2[internal->offset_FOIv_species2_A + i] = j;
  }
  for (int i = 0, j = internal->offset_variable_U; i < internal->dim_U; ++i, ++j) {
    internal->delay_index_FOIv_species2[internal->offset_FOIv_species2_U + i] = j;
  }
  for (int i = 0, j = internal->offset_variable_ID; i < internal->dim_ID; ++i, ++j) {
    internal->delay_index_FOIv_species2[internal->offset_FOIv_species2_ID + i] = j;
  }
  for (int i = 1; i <= internal->dim_A_1; ++i) {
    for (int j = 1; j <= internal->dim_A_2; ++j) {
      for (int k = 1; k <= internal->dim_A_3; ++k) {
        internal->initial_A[i - 1 + internal->dim_A_1 * (j - 1) + internal->dim_A_12 * (k - 1)] = internal->init_A[internal->dim_init_A_12 * (k - 1) + internal->dim_init_A_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_D_1; ++i) {
    for (int j = 1; j <= internal->dim_D_2; ++j) {
      for (int k = 1; k <= internal->dim_D_3; ++k) {
        internal->initial_D[i - 1 + internal->dim_D_1 * (j - 1) + internal->dim_D_12 * (k - 1)] = internal->init_D[internal->dim_init_D_12 * (k - 1) + internal->dim_init_D_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_IB_1; ++i) {
    for (int j = 1; j <= internal->dim_IB_2; ++j) {
      for (int k = 1; k <= internal->dim_IB_3; ++k) {
        internal->initial_IB[i - 1 + internal->dim_IB_1 * (j - 1) + internal->dim_IB_12 * (k - 1)] = internal->init_IB[internal->dim_init_IB_12 * (k - 1) + internal->dim_init_IB_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_ICA_1; ++i) {
    for (int j = 1; j <= internal->dim_ICA_2; ++j) {
      for (int k = 1; k <= internal->dim_ICA_3; ++k) {
        internal->initial_ICA[i - 1 + internal->dim_ICA_1 * (j - 1) + internal->dim_ICA_12 * (k - 1)] = internal->init_ICA[internal->dim_init_ICA_12 * (k - 1) + internal->dim_init_ICA_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_ICM_1; ++i) {
    for (int j = 1; j <= internal->dim_ICM_2; ++j) {
      for (int k = 1; k <= internal->dim_ICM_3; ++k) {
        internal->initial_ICM[i - 1 + internal->dim_ICM_1 * (j - 1) + internal->dim_ICM_12 * (k - 1)] = internal->init_ICM[internal->dim_init_ICM_12 * (k - 1) + internal->dim_init_ICM_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_ID_1; ++i) {
    for (int j = 1; j <= internal->dim_ID_2; ++j) {
      for (int k = 1; k <= internal->dim_ID_3; ++k) {
        internal->initial_ID[i - 1 + internal->dim_ID_1 * (j - 1) + internal->dim_ID_12 * (k - 1)] = internal->init_ID[internal->dim_init_ID_12 * (k - 1) + internal->dim_init_ID_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_P_1; ++i) {
    for (int j = 1; j <= internal->dim_P_2; ++j) {
      for (int k = 1; k <= internal->dim_P_3; ++k) {
        internal->initial_P[i - 1 + internal->dim_P_1 * (j - 1) + internal->dim_P_12 * (k - 1)] = internal->init_P[internal->dim_init_P_12 * (k - 1) + internal->dim_init_P_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_S_1; ++i) {
    for (int j = 1; j <= internal->dim_S_2; ++j) {
      for (int k = 1; k <= internal->dim_S_3; ++k) {
        internal->initial_S[i - 1 + internal->dim_S_1 * (j - 1) + internal->dim_S_12 * (k - 1)] = internal->init_S[internal->dim_init_S_12 * (k - 1) + internal->dim_init_S_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_T_1; ++i) {
    for (int j = 1; j <= internal->dim_T_2; ++j) {
      for (int k = 1; k <= internal->dim_T_3; ++k) {
        internal->initial_T[i - 1 + internal->dim_T_1 * (j - 1) + internal->dim_T_12 * (k - 1)] = internal->init_T[internal->dim_init_T_12 * (k - 1) + internal->dim_init_T_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_U_1; ++i) {
    for (int j = 1; j <= internal->dim_U_2; ++j) {
      for (int k = 1; k <= internal->dim_U_3; ++k) {
        internal->initial_U[i - 1 + internal->dim_U_1 * (j - 1) + internal->dim_U_12 * (k - 1)] = internal->init_U[internal->dim_init_U_12 * (k - 1) + internal->dim_init_U_1 * (j - 1) + i - 1];
      }
    }
  }
  return R_NilValue;
}
SEXP odin_model_2sp_tv1_set_initial(SEXP internal_p, SEXP t_ptr, SEXP state_ptr, SEXP odin_model_2sp_tv1_use_dde_ptr) {
  odin_model_2sp_tv1_internal *internal = odin_model_2sp_tv1_get_internal(internal_p, 1);
  const double t = REAL(t_ptr)[0];
  internal->initial_t = t;
  internal->odin_model_2sp_tv1_use_dde = INTEGER(odin_model_2sp_tv1_use_dde_ptr)[0];
  if (state_ptr != R_NilValue) {
    double * state = REAL(state_ptr);
    internal->initial_Sv1 = state[0];
    internal->initial_Ev1 = state[1];
    internal->initial_Iv1 = state[2];
    internal->initial_Sv2 = state[3];
    internal->initial_Ev2 = state[4];
    internal->initial_Iv2 = state[5];
    internal->initial_PL1 = state[6];
    internal->initial_LL1 = state[7];
    internal->initial_EL1 = state[8];
    internal->initial_PL2 = state[9];
    internal->initial_LL2 = state[10];
    internal->initial_EL2 = state[11];
    memcpy(internal->initial_S, state + 12, internal->dim_S * sizeof(double));
    memcpy(internal->initial_T, state + internal->offset_variable_T, internal->dim_T * sizeof(double));
    memcpy(internal->initial_D, state + internal->offset_variable_D, internal->dim_D * sizeof(double));
    memcpy(internal->initial_A, state + internal->offset_variable_A, internal->dim_A * sizeof(double));
    memcpy(internal->initial_U, state + internal->offset_variable_U, internal->dim_U * sizeof(double));
    memcpy(internal->initial_P, state + internal->offset_variable_P, internal->dim_P * sizeof(double));
    memcpy(internal->initial_ICM, state + internal->offset_variable_ICM, internal->dim_ICM * sizeof(double));
    memcpy(internal->initial_ICA, state + internal->offset_variable_ICA, internal->dim_ICA * sizeof(double));
    memcpy(internal->initial_IB, state + internal->offset_variable_IB, internal->dim_IB * sizeof(double));
    memcpy(internal->initial_ID, state + internal->offset_variable_ID, internal->dim_ID * sizeof(double));
  }
  return R_NilValue;
}
SEXP odin_model_2sp_tv1_metadata(SEXP internal_p) {
  odin_model_2sp_tv1_internal *internal = odin_model_2sp_tv1_get_internal(internal_p, 1);
  SEXP ret = PROTECT(allocVector(VECSXP, 4));
  SEXP nms = PROTECT(allocVector(STRSXP, 4));
  SET_STRING_ELT(nms, 0, mkChar("variable_order"));
  SET_STRING_ELT(nms, 1, mkChar("output_order"));
  SET_STRING_ELT(nms, 2, mkChar("n_out"));
  SET_STRING_ELT(nms, 3, mkChar("interpolate_t"));
  setAttrib(ret, R_NamesSymbol, nms);
  SEXP variable_length = PROTECT(allocVector(VECSXP, 22));
  SEXP variable_names = PROTECT(allocVector(STRSXP, 22));
  setAttrib(variable_length, R_NamesSymbol, variable_names);
  SET_VECTOR_ELT(variable_length, 0, R_NilValue);
  SET_VECTOR_ELT(variable_length, 1, R_NilValue);
  SET_VECTOR_ELT(variable_length, 2, R_NilValue);
  SET_VECTOR_ELT(variable_length, 3, R_NilValue);
  SET_VECTOR_ELT(variable_length, 4, R_NilValue);
  SET_VECTOR_ELT(variable_length, 5, R_NilValue);
  SET_VECTOR_ELT(variable_length, 6, R_NilValue);
  SET_VECTOR_ELT(variable_length, 7, R_NilValue);
  SET_VECTOR_ELT(variable_length, 8, R_NilValue);
  SET_VECTOR_ELT(variable_length, 9, R_NilValue);
  SET_VECTOR_ELT(variable_length, 10, R_NilValue);
  SET_VECTOR_ELT(variable_length, 11, R_NilValue);
  SET_VECTOR_ELT(variable_length, 12, allocVector(INTSXP, 3));
  int * dim_S = INTEGER(VECTOR_ELT(variable_length, 12));
  dim_S[0] = internal->dim_S_1;
  dim_S[1] = internal->dim_S_2;
  dim_S[2] = internal->dim_S_3;
  SET_VECTOR_ELT(variable_length, 13, allocVector(INTSXP, 3));
  int * dim_T = INTEGER(VECTOR_ELT(variable_length, 13));
  dim_T[0] = internal->dim_T_1;
  dim_T[1] = internal->dim_T_2;
  dim_T[2] = internal->dim_T_3;
  SET_VECTOR_ELT(variable_length, 14, allocVector(INTSXP, 3));
  int * dim_D = INTEGER(VECTOR_ELT(variable_length, 14));
  dim_D[0] = internal->dim_D_1;
  dim_D[1] = internal->dim_D_2;
  dim_D[2] = internal->dim_D_3;
  SET_VECTOR_ELT(variable_length, 15, allocVector(INTSXP, 3));
  int * dim_A = INTEGER(VECTOR_ELT(variable_length, 15));
  dim_A[0] = internal->dim_A_1;
  dim_A[1] = internal->dim_A_2;
  dim_A[2] = internal->dim_A_3;
  SET_VECTOR_ELT(variable_length, 16, allocVector(INTSXP, 3));
  int * dim_U = INTEGER(VECTOR_ELT(variable_length, 16));
  dim_U[0] = internal->dim_U_1;
  dim_U[1] = internal->dim_U_2;
  dim_U[2] = internal->dim_U_3;
  SET_VECTOR_ELT(variable_length, 17, allocVector(INTSXP, 3));
  int * dim_P = INTEGER(VECTOR_ELT(variable_length, 17));
  dim_P[0] = internal->dim_P_1;
  dim_P[1] = internal->dim_P_2;
  dim_P[2] = internal->dim_P_3;
  SET_VECTOR_ELT(variable_length, 18, allocVector(INTSXP, 3));
  int * dim_ICM = INTEGER(VECTOR_ELT(variable_length, 18));
  dim_ICM[0] = internal->dim_ICM_1;
  dim_ICM[1] = internal->dim_ICM_2;
  dim_ICM[2] = internal->dim_ICM_3;
  SET_VECTOR_ELT(variable_length, 19, allocVector(INTSXP, 3));
  int * dim_ICA = INTEGER(VECTOR_ELT(variable_length, 19));
  dim_ICA[0] = internal->dim_ICA_1;
  dim_ICA[1] = internal->dim_ICA_2;
  dim_ICA[2] = internal->dim_ICA_3;
  SET_VECTOR_ELT(variable_length, 20, allocVector(INTSXP, 3));
  int * dim_IB = INTEGER(VECTOR_ELT(variable_length, 20));
  dim_IB[0] = internal->dim_IB_1;
  dim_IB[1] = internal->dim_IB_2;
  dim_IB[2] = internal->dim_IB_3;
  SET_VECTOR_ELT(variable_length, 21, allocVector(INTSXP, 3));
  int * dim_ID = INTEGER(VECTOR_ELT(variable_length, 21));
  dim_ID[0] = internal->dim_ID_1;
  dim_ID[1] = internal->dim_ID_2;
  dim_ID[2] = internal->dim_ID_3;
  SET_STRING_ELT(variable_names, 0, mkChar("Sv1"));
  SET_STRING_ELT(variable_names, 1, mkChar("Ev1"));
  SET_STRING_ELT(variable_names, 2, mkChar("Iv1"));
  SET_STRING_ELT(variable_names, 3, mkChar("Sv2"));
  SET_STRING_ELT(variable_names, 4, mkChar("Ev2"));
  SET_STRING_ELT(variable_names, 5, mkChar("Iv2"));
  SET_STRING_ELT(variable_names, 6, mkChar("PL1"));
  SET_STRING_ELT(variable_names, 7, mkChar("LL1"));
  SET_STRING_ELT(variable_names, 8, mkChar("EL1"));
  SET_STRING_ELT(variable_names, 9, mkChar("PL2"));
  SET_STRING_ELT(variable_names, 10, mkChar("LL2"));
  SET_STRING_ELT(variable_names, 11, mkChar("EL2"));
  SET_STRING_ELT(variable_names, 12, mkChar("S"));
  SET_STRING_ELT(variable_names, 13, mkChar("T"));
  SET_STRING_ELT(variable_names, 14, mkChar("D"));
  SET_STRING_ELT(variable_names, 15, mkChar("A"));
  SET_STRING_ELT(variable_names, 16, mkChar("U"));
  SET_STRING_ELT(variable_names, 17, mkChar("P"));
  SET_STRING_ELT(variable_names, 18, mkChar("ICM"));
  SET_STRING_ELT(variable_names, 19, mkChar("ICA"));
  SET_STRING_ELT(variable_names, 20, mkChar("IB"));
  SET_STRING_ELT(variable_names, 21, mkChar("ID"));
  SET_VECTOR_ELT(ret, 0, variable_length);
  UNPROTECT(2);
  SEXP output_length = PROTECT(allocVector(VECSXP, 60));
  SEXP output_names = PROTECT(allocVector(STRSXP, 60));
  setAttrib(output_length, R_NamesSymbol, output_names);
  SET_VECTOR_ELT(output_length, 0, R_NilValue);
  SET_VECTOR_ELT(output_length, 1, R_NilValue);
  SET_VECTOR_ELT(output_length, 2, R_NilValue);
  SET_VECTOR_ELT(output_length, 3, R_NilValue);
  SET_VECTOR_ELT(output_length, 4, R_NilValue);
  SET_VECTOR_ELT(output_length, 5, R_NilValue);
  SET_VECTOR_ELT(output_length, 6, R_NilValue);
  SET_VECTOR_ELT(output_length, 7, R_NilValue);
  SET_VECTOR_ELT(output_length, 8, R_NilValue);
  SET_VECTOR_ELT(output_length, 9, R_NilValue);
  SET_VECTOR_ELT(output_length, 10, R_NilValue);
  SET_VECTOR_ELT(output_length, 11, R_NilValue);
  SET_VECTOR_ELT(output_length, 12, R_NilValue);
  SET_VECTOR_ELT(output_length, 13, R_NilValue);
  SET_VECTOR_ELT(output_length, 14, R_NilValue);
  SET_VECTOR_ELT(output_length, 15, R_NilValue);
  SET_VECTOR_ELT(output_length, 16, R_NilValue);
  SET_VECTOR_ELT(output_length, 17, R_NilValue);
  SET_VECTOR_ELT(output_length, 18, R_NilValue);
  SET_VECTOR_ELT(output_length, 19, R_NilValue);
  SET_VECTOR_ELT(output_length, 20, R_NilValue);
  SET_VECTOR_ELT(output_length, 21, R_NilValue);
  SET_VECTOR_ELT(output_length, 22, R_NilValue);
  SET_VECTOR_ELT(output_length, 23, R_NilValue);
  SET_VECTOR_ELT(output_length, 24, R_NilValue);
  SET_VECTOR_ELT(output_length, 25, R_NilValue);
  SET_VECTOR_ELT(output_length, 26, R_NilValue);
  SET_VECTOR_ELT(output_length, 27, R_NilValue);
  SET_VECTOR_ELT(output_length, 28, R_NilValue);
  SET_VECTOR_ELT(output_length, 29, R_NilValue);
  SET_VECTOR_ELT(output_length, 30, R_NilValue);
  SET_VECTOR_ELT(output_length, 31, R_NilValue);
  SET_VECTOR_ELT(output_length, 32, R_NilValue);
  SET_VECTOR_ELT(output_length, 33, R_NilValue);
  SET_VECTOR_ELT(output_length, 34, R_NilValue);
  SET_VECTOR_ELT(output_length, 35, R_NilValue);
  SET_VECTOR_ELT(output_length, 36, R_NilValue);
  SET_VECTOR_ELT(output_length, 37, R_NilValue);
  SET_VECTOR_ELT(output_length, 38, R_NilValue);
  SET_VECTOR_ELT(output_length, 39, R_NilValue);
  SET_VECTOR_ELT(output_length, 40, R_NilValue);
  SET_VECTOR_ELT(output_length, 41, R_NilValue);
  SET_VECTOR_ELT(output_length, 42, R_NilValue);
  SET_VECTOR_ELT(output_length, 43, R_NilValue);
  SET_VECTOR_ELT(output_length, 44, R_NilValue);
  SET_VECTOR_ELT(output_length, 45, R_NilValue);
  SET_VECTOR_ELT(output_length, 46, R_NilValue);
  SET_VECTOR_ELT(output_length, 47, R_NilValue);
  SET_VECTOR_ELT(output_length, 48, R_NilValue);
  SET_VECTOR_ELT(output_length, 49, R_NilValue);
  SET_VECTOR_ELT(output_length, 50, R_NilValue);
  SET_VECTOR_ELT(output_length, 51, R_NilValue);
  SET_VECTOR_ELT(output_length, 52, R_NilValue);
  SET_VECTOR_ELT(output_length, 53, R_NilValue);
  SET_VECTOR_ELT(output_length, 54, R_NilValue);
  SET_VECTOR_ELT(output_length, 55, R_NilValue);
  SET_VECTOR_ELT(output_length, 56, ScalarInteger(internal->dim_cov));
  SET_VECTOR_ELT(output_length, 57, allocVector(INTSXP, 3));
  int * dim_EIR_species1 = INTEGER(VECTOR_ELT(output_length, 57));
  dim_EIR_species1[0] = internal->dim_EIR_species1_1;
  dim_EIR_species1[1] = internal->dim_EIR_species1_2;
  dim_EIR_species1[2] = internal->dim_EIR_species1_3;
  SET_VECTOR_ELT(output_length, 58, allocVector(INTSXP, 3));
  int * dim_EIR_species2 = INTEGER(VECTOR_ELT(output_length, 58));
  dim_EIR_species2[0] = internal->dim_EIR_species2_1;
  dim_EIR_species2[1] = internal->dim_EIR_species2_2;
  dim_EIR_species2[2] = internal->dim_EIR_species2_3;
  SET_VECTOR_ELT(output_length, 59, allocVector(INTSXP, 3));
  int * dim_EIR = INTEGER(VECTOR_ELT(output_length, 59));
  dim_EIR[0] = internal->dim_EIR_1;
  dim_EIR[1] = internal->dim_EIR_2;
  dim_EIR[2] = internal->dim_EIR_3;
  SET_STRING_ELT(output_names, 0, mkChar("all_pop"));
  SET_STRING_ELT(output_names, 1, mkChar("Ivout1"));
  SET_STRING_ELT(output_names, 2, mkChar("Ivout2"));
  SET_STRING_ELT(output_names, 3, mkChar("omega"));
  SET_STRING_ELT(output_names, 4, mkChar("theta_species1"));
  SET_STRING_ELT(output_names, 5, mkChar("theta_species2"));
  SET_STRING_ELT(output_names, 6, mkChar("Iv"));
  SET_STRING_ELT(output_names, 7, mkChar("sporozoite_rate_species1"));
  SET_STRING_ELT(output_names, 8, mkChar("sporozoite_rate_species2"));
  SET_STRING_ELT(output_names, 9, mkChar("Sout"));
  SET_STRING_ELT(output_names, 10, mkChar("Tout"));
  SET_STRING_ELT(output_names, 11, mkChar("Dout"));
  SET_STRING_ELT(output_names, 12, mkChar("Aout"));
  SET_STRING_ELT(output_names, 13, mkChar("Uout"));
  SET_STRING_ELT(output_names, 14, mkChar("Pout"));
  SET_STRING_ELT(output_names, 15, mkChar("prev"));
  SET_STRING_ELT(output_names, 16, mkChar("prev05"));
  SET_STRING_ELT(output_names, 17, mkChar("inc05"));
  SET_STRING_ELT(output_names, 18, mkChar("inc"));
  SET_STRING_ELT(output_names, 19, mkChar("mu1"));
  SET_STRING_ELT(output_names, 20, mkChar("mu2"));
  SET_STRING_ELT(output_names, 21, mkChar("beta_larval1"));
  SET_STRING_ELT(output_names, 22, mkChar("beta_larval2"));
  SET_STRING_ELT(output_names, 23, mkChar("mv"));
  SET_STRING_ELT(output_names, 24, mkChar("mv1"));
  SET_STRING_ELT(output_names, 25, mkChar("mv2"));
  SET_STRING_ELT(output_names, 26, mkChar("wh1"));
  SET_STRING_ELT(output_names, 27, mkChar("wh2"));
  SET_STRING_ELT(output_names, 28, mkChar("d_ITN_1"));
  SET_STRING_ELT(output_names, 29, mkChar("r_ITN_1"));
  SET_STRING_ELT(output_names, 30, mkChar("s_ITN_1"));
  SET_STRING_ELT(output_names, 31, mkChar("d_ITN_2"));
  SET_STRING_ELT(output_names, 32, mkChar("r_ITN_2"));
  SET_STRING_ELT(output_names, 33, mkChar("s_ITN_2"));
  SET_STRING_ELT(output_names, 34, mkChar("d_IRS_1"));
  SET_STRING_ELT(output_names, 35, mkChar("r_IRS_1"));
  SET_STRING_ELT(output_names, 36, mkChar("s_IRS_1"));
  SET_STRING_ELT(output_names, 37, mkChar("d_IRS_2"));
  SET_STRING_ELT(output_names, 38, mkChar("r_IRS_2"));
  SET_STRING_ELT(output_names, 39, mkChar("s_IRS_2"));
  SET_STRING_ELT(output_names, 40, mkChar("p1_1"));
  SET_STRING_ELT(output_names, 41, mkChar("p1_2"));
  SET_STRING_ELT(output_names, 42, mkChar("wbar1"));
  SET_STRING_ELT(output_names, 43, mkChar("wbar2"));
  SET_STRING_ELT(output_names, 44, mkChar("zbar1"));
  SET_STRING_ELT(output_names, 45, mkChar("zbar2"));
  SET_STRING_ELT(output_names, 46, mkChar("Q_1"));
  SET_STRING_ELT(output_names, 47, mkChar("Q_2"));
  SET_STRING_ELT(output_names, 48, mkChar("av1"));
  SET_STRING_ELT(output_names, 49, mkChar("av2"));
  SET_STRING_ELT(output_names, 50, mkChar("K0_species1"));
  SET_STRING_ELT(output_names, 51, mkChar("K0_species2"));
  SET_STRING_ELT(output_names, 52, mkChar("KL_species1"));
  SET_STRING_ELT(output_names, 53, mkChar("KL_species2"));
  SET_STRING_ELT(output_names, 54, mkChar("FOIv_species1"));
  SET_STRING_ELT(output_names, 55, mkChar("FOIv_species2"));
  SET_STRING_ELT(output_names, 56, mkChar("cov"));
  SET_STRING_ELT(output_names, 57, mkChar("EIR_species1"));
  SET_STRING_ELT(output_names, 58, mkChar("EIR_species2"));
  SET_STRING_ELT(output_names, 59, mkChar("EIR"));
  SET_VECTOR_ELT(ret, 1, output_length);
  UNPROTECT(2);
  SET_VECTOR_ELT(ret, 2, ScalarInteger(internal->dim_cov + internal->dim_EIR + internal->dim_EIR_species1 + internal->dim_EIR_species2 + 56));
  UNPROTECT(2);
  return ret;
}
SEXP odin_model_2sp_tv1_initial_conditions(SEXP internal_p, SEXP t_ptr) {
  double t = scalar_real(t_ptr, "t");
  odin_model_2sp_tv1_internal *internal = odin_model_2sp_tv1_get_internal(internal_p, 1);
  SEXP r_state = PROTECT(allocVector(REALSXP, internal->dim_A + internal->dim_D + internal->dim_IB + internal->dim_ICA + internal->dim_ICM + internal->dim_ID + internal->dim_P + internal->dim_S + internal->dim_T + internal->dim_U + 12));
  double * state = REAL(r_state);
  state[0] = internal->initial_Sv1;
  state[1] = internal->initial_Ev1;
  state[2] = internal->initial_Iv1;
  state[3] = internal->initial_Sv2;
  state[4] = internal->initial_Ev2;
  state[5] = internal->initial_Iv2;
  state[6] = internal->initial_PL1;
  state[7] = internal->initial_LL1;
  state[8] = internal->initial_EL1;
  state[9] = internal->initial_PL2;
  state[10] = internal->initial_LL2;
  state[11] = internal->initial_EL2;
  memcpy(state + 12, internal->initial_S, internal->dim_S * sizeof(double));
  memcpy(state + internal->offset_variable_T, internal->initial_T, internal->dim_T * sizeof(double));
  memcpy(state + internal->offset_variable_D, internal->initial_D, internal->dim_D * sizeof(double));
  memcpy(state + internal->offset_variable_A, internal->initial_A, internal->dim_A * sizeof(double));
  memcpy(state + internal->offset_variable_U, internal->initial_U, internal->dim_U * sizeof(double));
  memcpy(state + internal->offset_variable_P, internal->initial_P, internal->dim_P * sizeof(double));
  memcpy(state + internal->offset_variable_ICM, internal->initial_ICM, internal->dim_ICM * sizeof(double));
  memcpy(state + internal->offset_variable_ICA, internal->initial_ICA, internal->dim_ICA * sizeof(double));
  memcpy(state + internal->offset_variable_IB, internal->initial_IB, internal->dim_IB * sizeof(double));
  memcpy(state + internal->offset_variable_ID, internal->initial_ID, internal->dim_ID * sizeof(double));
  UNPROTECT(1);
  return r_state;
}
void odin_model_2sp_tv1_rhs(odin_model_2sp_tv1_internal* internal, double t, double * state, double * dstatedt, double * output) {
  double * S = state + 12;
  double * T = state + internal->offset_variable_T;
  double * D = state + internal->offset_variable_D;
  double * A = state + internal->offset_variable_A;
  double * U = state + internal->offset_variable_U;
  double * P = state + internal->offset_variable_P;
  double * ICM = state + internal->offset_variable_ICM;
  double * ICA = state + internal->offset_variable_ICA;
  double * IB = state + internal->offset_variable_IB;
  double * ID = state + internal->offset_variable_ID;
  double Sv1 = state[0];
  double Ev1 = state[1];
  double Iv1 = state[2];
  double Sv2 = state[3];
  double Ev2 = state[4];
  double Iv2 = state[5];
  double EL1 = state[8];
  double LL1 = state[7];
  double PL1 = state[6];
  double EL2 = state[11];
  double LL2 = state[10];
  double PL2 = state[9];
  double betaa1 = 0.5 * PL1 / (double) internal->dPL;
  double betaa2 = 0.5 * PL2 / (double) internal->dPL;
  dstatedt[6] = LL1 / (double) internal->dLL - internal->muPL * PL1 - PL1 / (double) internal->dPL;
  dstatedt[9] = LL2 / (double) internal->dLL - internal->muPL * PL2 - PL2 / (double) internal->dPL;
  double IRS_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->IRS_interval))) * internal->irs_loss));
  double ITN_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->ITN_interval))) * internal->itn_loss));
  double mv1 = Sv1 + Ev1 + Iv1;
  double mv2 = Sv2 + Ev2 + Iv2;
  double theta_species1 = (internal->ssa0 == 0 && internal->ssa1 == 0 && internal->ssa2 == 0 && internal->ssb1 == 0 && internal->ssb2 == 0 && internal->ssb3 == 0 && internal->theta_c == 0 ? 1 : fmax((internal->ssa0 + internal->ssa1 * cos(2 * internal->pi * t / (double) 365) + internal->ssa2 * cos(2 * 2 * internal->pi * t / (double) 365) + internal->ssa3 * cos(3 * 2 * internal->pi * t / (double) 365) + internal->ssb1 * sin(2 * internal->pi * t / (double) 365) + internal->ssb2 * sin(2 * 2 * internal->pi * t / (double) 365) + internal->ssb3 * sin(3 * 2 * internal->pi * t / (double) 365)) / (double) internal->theta_c, 0.001));
  double d_IRS_1 = (t < internal->ITN_IRS_on ? 0 : internal->chi_species1 * internal->d_IRS0_1 * IRS_decay);
  double d_IRS_2 = (t < internal->ITN_IRS_on ? 0 : internal->chi_species2 * internal->d_IRS0_2 * IRS_decay);
  double d_ITN_1 = (t < internal->ITN_IRS_on ? 0 : internal->d_ITN0_1 * ITN_decay);
  double d_ITN_2 = (t < internal->ITN_IRS_on ? 0 : internal->d_ITN0_2 * ITN_decay);
  double r_IRS_1 = (t < internal->ITN_IRS_on ? 0 : internal->r_IRS0_1 * IRS_decay);
  double r_IRS_2 = (t < internal->ITN_IRS_on ? 0 : internal->r_IRS0_2 * IRS_decay);
  double r_ITN_1 = (t < internal->ITN_IRS_on ? 0 : internal->r_ITN1 + (internal->r_ITN0_1 - internal->r_ITN1) * ITN_decay);
  double r_ITN_2 = (t < internal->ITN_IRS_on ? 0 : internal->r_ITN2 + (internal->r_ITN0_2 - internal->r_ITN2) * ITN_decay);
  double Ah = odin_sum3(A, 0, internal->dim_A_1, 0, internal->dim_A_2, 0, internal->dim_A_3, internal->dim_A_1, internal->dim_A_12);
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         dstatedt[internal->offset_variable_P + i - 1 + internal->dim_P_1 * (j - 1) + internal->dim_P_12 * (k - 1)] = internal->rT * T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] - internal->rP * P[internal->dim_P_12 * (k - 1) + internal->dim_P_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * P[internal->dim_P_12 * (k - 1) + internal->dim_P_1 * (j - 1) + i - 1];
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        dstatedt[internal->offset_variable_P + i - 1 + internal->dim_P_1 * (j - 1) + internal->dim_P_12 * (k - 1)] = internal->rT * T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] - internal->rP * P[internal->dim_P_12 * (k - 1) + internal->dim_P_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * P[internal->dim_P_12 * (k - 1) + internal->dim_P_1 * (j - 1) + i - 1] + internal->age_rate[i - 1 - 1] * P[internal->dim_P_12 * (k - 1) + internal->dim_P_1 * (j - 1) + i - 1 - 1];
      }
    }
  }
  double Dh = odin_sum3(D, 0, internal->dim_D_1, 0, internal->dim_D_2, 0, internal->dim_D_3, internal->dim_D_1, internal->dim_D_12);
  // delay block for incv1
  double incv1;
  {
    const double t_true = t;
    const double t = t_true - internal->delayMos;
    double Sv1;
    if (t <= internal->initial_t) {
      Sv1 = internal->initial_Sv1;
    } else {
      lagvalue(t, internal->odin_model_2sp_tv1_use_dde, internal->delay_index_incv1, 1, internal->delay_state_incv1);
      Sv1 = internal->delay_state_incv1[0];
    }
    double ITN_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->ITN_interval))) * internal->itn_loss));
    double IRS_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->IRS_interval))) * internal->irs_loss));
    double r_ITN_1 = (t < internal->ITN_IRS_on ? 0 : internal->r_ITN1 + (internal->r_ITN0_1 - internal->r_ITN1) * ITN_decay);
    double r_IRS_1 = (t < internal->ITN_IRS_on ? 0 : internal->r_IRS0_1 * IRS_decay);
    double d_ITN_1 = (t < internal->ITN_IRS_on ? 0 : internal->d_ITN0_1 * ITN_decay);
    double d_IRS_1 = (t < internal->ITN_IRS_on ? 0 : internal->chi_species1 * internal->d_IRS0_1 * IRS_decay);
    {
       int i = 1;
       internal->delay_array_z1_[i - 1] = 0;
    }
    {
       int i = 2;
       internal->delay_array_z1_[i - 1] = internal->bites_Bed_species1 * r_ITN_1;
    }
    {
       int i = 3;
       internal->delay_array_z1_[i - 1] = internal->bites_Indoors_species1 * r_IRS_1;
    }
    {
       int i = 4;
       internal->delay_array_z1_[i - 1] = internal->bites_Bed_species1 * (r_IRS_1 + (1 - r_IRS_1) * r_ITN_1) + (internal->bites_Indoors_species1 - internal->bites_Bed_species1) * r_IRS_1;
    }
    double s_ITN_1 = (t < internal->ITN_IRS_on ? 1 : 1 - d_ITN_1 - r_ITN_1);
    double s_IRS_1 = (t < internal->ITN_IRS_on ? 1 : 1 - d_IRS_1);
    // delay block for FOIv_species1
    double FOIv_species1;
    {
      const double t_true = t;
      const double t = t_true - internal->delayGam;
      double *T;
      double *D;
      double *A;
      double *U;
      double *ID;
      if (t <= internal->initial_t) {
        T = internal->initial_T;
        D = internal->initial_D;
        A = internal->initial_A;
        U = internal->initial_U;
        ID = internal->initial_ID;
      } else {
        lagvalue(t, internal->odin_model_2sp_tv1_use_dde, internal->delay_index_FOIv_species1, internal->dim_delay_FOIv_species1, internal->delay_state_FOIv_species1);
        T = internal->delay_state_FOIv_species1 + 0;
        D = internal->delay_state_FOIv_species1 + internal->dim_T;
        A = internal->delay_state_FOIv_species1 + internal->offset_FOIv_species1_A;
        U = internal->delay_state_FOIv_species1 + internal->offset_FOIv_species1_U;
        ID = internal->delay_state_FOIv_species1 + internal->offset_FOIv_species1_ID;
      }
      double IRS_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->IRS_interval))) * internal->irs_loss));
      double ITN_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->ITN_interval))) * internal->itn_loss));
      double r_IRS_1 = (t < internal->ITN_IRS_on ? 0 : internal->r_IRS0_1 * IRS_decay);
      double d_ITN_1 = (t < internal->ITN_IRS_on ? 0 : internal->d_ITN0_1 * ITN_decay);
      double r_ITN_1 = (t < internal->ITN_IRS_on ? 0 : internal->r_ITN1 + (internal->r_ITN0_1 - internal->r_ITN1) * ITN_decay);
      double d_IRS_1 = (t < internal->ITN_IRS_on ? 0 : internal->chi_species1 * internal->d_IRS0_1 * IRS_decay);
      double s_ITN_1 = (t < internal->ITN_IRS_on ? 1 : 1 - d_ITN_1 - r_ITN_1);
      double s_IRS_1 = (t < internal->ITN_IRS_on ? 1 : 1 - d_IRS_1);
      {
         int i = 1;
         internal->delay_array_z1_[i - 1] = 0;
      }
      {
         int i = 2;
         internal->delay_array_z1_[i - 1] = internal->bites_Bed_species1 * r_ITN_1;
      }
      {
         int i = 3;
         internal->delay_array_z1_[i - 1] = internal->bites_Indoors_species1 * r_IRS_1;
      }
      {
         int i = 4;
         internal->delay_array_z1_[i - 1] = internal->bites_Bed_species1 * (r_IRS_1 + (1 - r_IRS_1) * r_ITN_1) + (internal->bites_Indoors_species1 - internal->bites_Bed_species1) * r_IRS_1;
      }
      for (int i = 1; i <= internal->dim_p_det_1; ++i) {
        for (int j = 1; j <= internal->dim_p_det_2; ++j) {
          for (int k = 1; k <= internal->dim_p_det_3; ++k) {
            internal->delay_array_p_det[i - 1 + internal->dim_p_det_1 * (j - 1) + internal->dim_p_det_12 * (k - 1)] = internal->d1 + (1 - internal->d1) / (double) (1 + internal->fd[i - 1] * pow((ID[internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1] / (double) internal->ID0), internal->kD));
          }
        }
      }
      {
         int i = 1;
         internal->delay_array_w1_[i - 1] = 1;
      }
      {
         int i = 2;
         internal->delay_array_w1_[i - 1] = 1 - internal->bites_Bed_species1 + internal->bites_Bed_species1 * s_ITN_1;
      }
      {
         int i = 3;
         internal->delay_array_w1_[i - 1] = 1 - internal->bites_Indoors_species1 + internal->bites_Indoors_species1 * (1 - r_IRS_1) * s_IRS_1;
      }
      {
         int i = 4;
         internal->delay_array_w1_[i - 1] = 1 - internal->bites_Indoors_species1 + internal->bites_Bed_species1 * (1 - r_IRS_1) * s_ITN_1 * s_IRS_1 + (internal->bites_Indoors_species1 - internal->bites_Bed_species1) * (1 - r_IRS_1) * s_IRS_1;
      }
      for (int i = 1; i <= internal->dim_z1; ++i) {
        internal->delay_array_z1[i - 1] = internal->delay_array_z1_[i - 1];
      }
      for (int i = 1; i <= internal->dim_cA_1; ++i) {
        for (int j = 1; j <= internal->dim_cA_2; ++j) {
          for (int k = 1; k <= internal->dim_cA_3; ++k) {
            internal->delay_array_cA[i - 1 + internal->dim_cA_1 * (j - 1) + internal->dim_cA_12 * (k - 1)] = internal->cU + (internal->cD - internal->cU) * pow(internal->delay_array_p_det[internal->dim_p_det_12 * (k - 1) + internal->dim_p_det_1 * (j - 1) + i - 1], internal->gamma1);
          }
        }
      }
      for (int i = 1; i <= internal->dim_w1; ++i) {
        internal->delay_array_w1[i - 1] = internal->delay_array_w1_[i - 1];
      }
      for (int i = 1; i <= internal->num_int; ++i) {
        internal->delay_array_zhi1[i - 1] = internal->cov[i - 1] * internal->delay_array_z1[i - 1];
      }
      for (int i = 1; i <= internal->num_int; ++i) {
        internal->delay_array_whi1[i - 1] = internal->cov[i - 1] * internal->delay_array_w1[i - 1];
      }
      double zh1 = (t < internal->ITN_IRS_on ? 0 : odin_sum1(internal->delay_array_zhi1, 0, internal->dim_zhi1));
      double wh1 = (t < internal->ITN_IRS_on ? 1 : odin_sum1(internal->delay_array_whi1, 0, internal->dim_whi1));
      double zbar1 = internal->Q0_species1 * zh1;
      double fv1 = 1 / (double) (internal->tau1 / (double) (1 - zbar1) + internal->tau2);
      double wbar1 = 1 - internal->Q0_species1 + internal->Q0_species1 * wh1;
      double Q_1 = 1 - (1 - internal->Q0_species1) / (double) wbar1;
      double av1 = fv1 * Q_1;
      for (int i = 1; i <= internal->num_int; ++i) {
        internal->delay_array_av_mosq1[i - 1] = av1 * internal->delay_array_w1[i - 1] / (double) wh1;
      }
      for (int i = 1; i <= internal->na; ++i) {
        for (int j = 1; j <= internal->nh; ++j) {
          for (int k = 1; k <= internal->num_int; ++k) {
            internal->delay_array_FOIvijk_species1[i - 1 + internal->dim_FOIvijk_species1_1 * (j - 1) + internal->dim_FOIvijk_species1_12 * (k - 1)] = (internal->cT * T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] + internal->cD * D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] + internal->delay_array_cA[internal->dim_cA_12 * (k - 1) + internal->dim_cA_1 * (j - 1) + i - 1] * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] + internal->cU * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1]) * internal->rel_foi[j - 1] * internal->delay_array_av_mosq1[k - 1] * internal->foi_age[i - 1] / (double) internal->omega;
          }
        }
      }
      double lag_FOIv_species1 = odin_sum1(internal->delay_array_FOIvijk_species1, 0, internal->dim_FOIvijk_species1);
      FOIv_species1 = lag_FOIv_species1;
    }
    for (int i = 1; i <= internal->dim_z1; ++i) {
      internal->delay_array_z1[i - 1] = internal->delay_array_z1_[i - 1];
    }
    {
       int i = 1;
       internal->delay_array_w1_[i - 1] = 1;
    }
    {
       int i = 2;
       internal->delay_array_w1_[i - 1] = 1 - internal->bites_Bed_species1 + internal->bites_Bed_species1 * s_ITN_1;
    }
    {
       int i = 3;
       internal->delay_array_w1_[i - 1] = 1 - internal->bites_Indoors_species1 + internal->bites_Indoors_species1 * (1 - r_IRS_1) * s_IRS_1;
    }
    {
       int i = 4;
       internal->delay_array_w1_[i - 1] = 1 - internal->bites_Indoors_species1 + internal->bites_Bed_species1 * (1 - r_IRS_1) * s_ITN_1 * s_IRS_1 + (internal->bites_Indoors_species1 - internal->bites_Bed_species1) * (1 - r_IRS_1) * s_IRS_1;
    }
    double ince1 = FOIv_species1 * Sv1;
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_zhi1[i - 1] = internal->cov[i - 1] * internal->delay_array_z1[i - 1];
    }
    for (int i = 1; i <= internal->dim_w1; ++i) {
      internal->delay_array_w1[i - 1] = internal->delay_array_w1_[i - 1];
    }
    double zh1 = (t < internal->ITN_IRS_on ? 0 : odin_sum1(internal->delay_array_zhi1, 0, internal->dim_zhi1));
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_whi1[i - 1] = internal->cov[i - 1] * internal->delay_array_w1[i - 1];
    }
    double zbar1 = internal->Q0_species1 * zh1;
    double wh1 = (t < internal->ITN_IRS_on ? 1 : odin_sum1(internal->delay_array_whi1, 0, internal->dim_whi1));
    double fv1 = 1 / (double) (internal->tau1 / (double) (1 - zbar1) + internal->tau2);
    double wbar1 = 1 - internal->Q0_species1 + internal->Q0_species1 * wh1;
    double p1_1 = wbar1 * internal->p10 / (double) (1 - zbar1 * internal->p10);
    double mu1 = -(fv1) * log(p1_1 * internal->p2);
    double surv1 = exp(-(mu1) * internal->delayMos);
    double lag_incv1 = ince1 * surv1;
    incv1 = lag_incv1;
  }
  // delay block for incv2
  double incv2;
  {
    const double t_true = t;
    const double t = t_true - internal->delayMos;
    double Sv2;
    if (t <= internal->initial_t) {
      Sv2 = internal->initial_Sv2;
    } else {
      lagvalue(t, internal->odin_model_2sp_tv1_use_dde, internal->delay_index_incv2, 1, internal->delay_state_incv2);
      Sv2 = internal->delay_state_incv2[0];
    }
    double ITN_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->ITN_interval))) * internal->itn_loss));
    double IRS_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->IRS_interval))) * internal->irs_loss));
    double r_ITN_2 = (t < internal->ITN_IRS_on ? 0 : internal->r_ITN2 + (internal->r_ITN0_2 - internal->r_ITN2) * ITN_decay);
    double r_IRS_2 = (t < internal->ITN_IRS_on ? 0 : internal->r_IRS0_2 * IRS_decay);
    double d_ITN_2 = (t < internal->ITN_IRS_on ? 0 : internal->d_ITN0_2 * ITN_decay);
    double d_IRS_2 = (t < internal->ITN_IRS_on ? 0 : internal->chi_species2 * internal->d_IRS0_2 * IRS_decay);
    {
       int i = 1;
       internal->delay_array_z2_[i - 1] = 0;
    }
    {
       int i = 2;
       internal->delay_array_z2_[i - 1] = internal->bites_Bed_species2 * r_ITN_2;
    }
    {
       int i = 3;
       internal->delay_array_z2_[i - 1] = internal->bites_Indoors_species2 * r_IRS_2;
    }
    {
       int i = 4;
       internal->delay_array_z2_[i - 1] = internal->bites_Bed_species2 * (r_IRS_2 + (1 - r_IRS_2) * r_ITN_2) + (internal->bites_Indoors_species2 - internal->bites_Bed_species2) * r_IRS_2;
    }
    double s_ITN_2 = (t < internal->ITN_IRS_on ? 1 : 1 - d_ITN_2 - r_ITN_2);
    double s_IRS_2 = (t < internal->ITN_IRS_on ? 1 : 1 - d_IRS_2);
    // delay block for FOIv_species2
    double FOIv_species2;
    {
      const double t_true = t;
      const double t = t_true - internal->delayGam;
      double *T;
      double *D;
      double *A;
      double *U;
      double *ID;
      if (t <= internal->initial_t) {
        T = internal->initial_T;
        D = internal->initial_D;
        A = internal->initial_A;
        U = internal->initial_U;
        ID = internal->initial_ID;
      } else {
        lagvalue(t, internal->odin_model_2sp_tv1_use_dde, internal->delay_index_FOIv_species2, internal->dim_delay_FOIv_species2, internal->delay_state_FOIv_species2);
        T = internal->delay_state_FOIv_species2 + 0;
        D = internal->delay_state_FOIv_species2 + internal->dim_T;
        A = internal->delay_state_FOIv_species2 + internal->offset_FOIv_species2_A;
        U = internal->delay_state_FOIv_species2 + internal->offset_FOIv_species2_U;
        ID = internal->delay_state_FOIv_species2 + internal->offset_FOIv_species2_ID;
      }
      double IRS_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->IRS_interval))) * internal->irs_loss));
      double ITN_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->ITN_interval))) * internal->itn_loss));
      double r_IRS_2 = (t < internal->ITN_IRS_on ? 0 : internal->r_IRS0_2 * IRS_decay);
      double d_ITN_2 = (t < internal->ITN_IRS_on ? 0 : internal->d_ITN0_2 * ITN_decay);
      double r_ITN_2 = (t < internal->ITN_IRS_on ? 0 : internal->r_ITN2 + (internal->r_ITN0_2 - internal->r_ITN2) * ITN_decay);
      double d_IRS_2 = (t < internal->ITN_IRS_on ? 0 : internal->chi_species2 * internal->d_IRS0_2 * IRS_decay);
      double s_ITN_2 = (t < internal->ITN_IRS_on ? 1 : 1 - d_ITN_2 - r_ITN_2);
      double s_IRS_2 = (t < internal->ITN_IRS_on ? 1 : 1 - d_IRS_2);
      {
         int i = 1;
         internal->delay_array_z2_[i - 1] = 0;
      }
      {
         int i = 2;
         internal->delay_array_z2_[i - 1] = internal->bites_Bed_species2 * r_ITN_2;
      }
      {
         int i = 3;
         internal->delay_array_z2_[i - 1] = internal->bites_Indoors_species2 * r_IRS_2;
      }
      {
         int i = 4;
         internal->delay_array_z2_[i - 1] = internal->bites_Bed_species2 * (r_IRS_2 + (1 - r_IRS_2) * r_ITN_2) + (internal->bites_Indoors_species2 - internal->bites_Bed_species2) * r_IRS_2;
      }
      for (int i = 1; i <= internal->dim_p_det_1; ++i) {
        for (int j = 1; j <= internal->dim_p_det_2; ++j) {
          for (int k = 1; k <= internal->dim_p_det_3; ++k) {
            internal->delay_array_p_det[i - 1 + internal->dim_p_det_1 * (j - 1) + internal->dim_p_det_12 * (k - 1)] = internal->d1 + (1 - internal->d1) / (double) (1 + internal->fd[i - 1] * pow((ID[internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1] / (double) internal->ID0), internal->kD));
          }
        }
      }
      {
         int i = 1;
         internal->delay_array_w2_[i - 1] = 1;
      }
      {
         int i = 2;
         internal->delay_array_w2_[i - 1] = 1 - internal->bites_Bed_species2 + internal->bites_Bed_species2 * s_ITN_2;
      }
      {
         int i = 3;
         internal->delay_array_w2_[i - 1] = 1 - internal->bites_Indoors_species2 + internal->bites_Indoors_species2 * (1 - r_IRS_2) * s_IRS_2;
      }
      {
         int i = 4;
         internal->delay_array_w2_[i - 1] = 1 - internal->bites_Indoors_species2 + internal->bites_Bed_species2 * (1 - r_IRS_2) * s_ITN_2 * s_IRS_2 + (internal->bites_Indoors_species2 - internal->bites_Bed_species2) * (1 - r_IRS_2) * s_IRS_2;
      }
      for (int i = 1; i <= internal->dim_z2; ++i) {
        internal->delay_array_z2[i - 1] = internal->delay_array_z2_[i - 1];
      }
      for (int i = 1; i <= internal->dim_cA_1; ++i) {
        for (int j = 1; j <= internal->dim_cA_2; ++j) {
          for (int k = 1; k <= internal->dim_cA_3; ++k) {
            internal->delay_array_cA[i - 1 + internal->dim_cA_1 * (j - 1) + internal->dim_cA_12 * (k - 1)] = internal->cU + (internal->cD - internal->cU) * pow(internal->delay_array_p_det[internal->dim_p_det_12 * (k - 1) + internal->dim_p_det_1 * (j - 1) + i - 1], internal->gamma1);
          }
        }
      }
      for (int i = 1; i <= internal->dim_w2; ++i) {
        internal->delay_array_w2[i - 1] = internal->delay_array_w2_[i - 1];
      }
      for (int i = 1; i <= internal->num_int; ++i) {
        internal->delay_array_zhi2[i - 1] = internal->cov[i - 1] * internal->delay_array_z2[i - 1];
      }
      for (int i = 1; i <= internal->num_int; ++i) {
        internal->delay_array_whi2[i - 1] = internal->cov[i - 1] * internal->delay_array_w2[i - 1];
      }
      double zh2 = (t < internal->ITN_IRS_on ? 0 : odin_sum1(internal->delay_array_zhi2, 0, internal->dim_zhi2));
      double wh2 = (t < internal->ITN_IRS_on ? 1 : odin_sum1(internal->delay_array_whi2, 0, internal->dim_whi2));
      double zbar2 = internal->Q0_species2 * zh2;
      double fv2 = 1 / (double) (internal->tau1 / (double) (1 - zbar2) + internal->tau2);
      double wbar2 = 1 - internal->Q0_species2 + internal->Q0_species2 * wh2;
      double Q_2 = 1 - (1 - internal->Q0_species2) / (double) wbar2;
      double av2 = fv2 * Q_2;
      for (int i = 1; i <= internal->num_int; ++i) {
        internal->delay_array_av_mosq2[i - 1] = av2 * internal->delay_array_w2[i - 1] / (double) wh2;
      }
      for (int i = 1; i <= internal->na; ++i) {
        for (int j = 1; j <= internal->nh; ++j) {
          for (int k = 1; k <= internal->num_int; ++k) {
            internal->delay_array_FOIvijk_species2[i - 1 + internal->dim_FOIvijk_species2_1 * (j - 1) + internal->dim_FOIvijk_species2_12 * (k - 1)] = (internal->cT * T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] + internal->cD * D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] + internal->delay_array_cA[internal->dim_cA_12 * (k - 1) + internal->dim_cA_1 * (j - 1) + i - 1] * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] + internal->cU * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1]) * internal->rel_foi[j - 1] * internal->delay_array_av_mosq2[k - 1] * internal->foi_age[i - 1] / (double) internal->omega;
          }
        }
      }
      double lag_FOIv_species2 = odin_sum1(internal->delay_array_FOIvijk_species2, 0, internal->dim_FOIvijk_species2);
      FOIv_species2 = lag_FOIv_species2;
    }
    for (int i = 1; i <= internal->dim_z2; ++i) {
      internal->delay_array_z2[i - 1] = internal->delay_array_z2_[i - 1];
    }
    {
       int i = 1;
       internal->delay_array_w2_[i - 1] = 1;
    }
    {
       int i = 2;
       internal->delay_array_w2_[i - 1] = 1 - internal->bites_Bed_species2 + internal->bites_Bed_species2 * s_ITN_2;
    }
    {
       int i = 3;
       internal->delay_array_w2_[i - 1] = 1 - internal->bites_Indoors_species2 + internal->bites_Indoors_species2 * (1 - r_IRS_2) * s_IRS_2;
    }
    {
       int i = 4;
       internal->delay_array_w2_[i - 1] = 1 - internal->bites_Indoors_species2 + internal->bites_Bed_species2 * (1 - r_IRS_2) * s_ITN_2 * s_IRS_2 + (internal->bites_Indoors_species2 - internal->bites_Bed_species2) * (1 - r_IRS_2) * s_IRS_2;
    }
    double ince2 = FOIv_species2 * Sv2;
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_zhi2[i - 1] = internal->cov[i - 1] * internal->delay_array_z2[i - 1];
    }
    for (int i = 1; i <= internal->dim_w2; ++i) {
      internal->delay_array_w2[i - 1] = internal->delay_array_w2_[i - 1];
    }
    double zh2 = (t < internal->ITN_IRS_on ? 0 : odin_sum1(internal->delay_array_zhi2, 0, internal->dim_zhi2));
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_whi2[i - 1] = internal->cov[i - 1] * internal->delay_array_w2[i - 1];
    }
    double zbar2 = internal->Q0_species2 * zh2;
    double wh2 = (t < internal->ITN_IRS_on ? 1 : odin_sum1(internal->delay_array_whi2, 0, internal->dim_whi2));
    double fv2 = 1 / (double) (internal->tau1 / (double) (1 - zbar2) + internal->tau2);
    double wbar2 = 1 - internal->Q0_species2 + internal->Q0_species2 * wh2;
    double p1_2 = wbar2 * internal->p10 / (double) (1 - zbar2 * internal->p10);
    double mu2 = -(fv2) * log(p1_2 * internal->p2);
    double surv2 = exp(-(mu2) * internal->delayMos);
    double lag_incv2 = ince2 * surv2;
    incv2 = lag_incv2;
  }
  double Ph = odin_sum3(P, 0, internal->dim_P_1, 0, internal->dim_P_2, 0, internal->dim_P_3, internal->dim_P_1, internal->dim_P_12);
  double s_IRS_1 = (t < internal->ITN_IRS_on ? 1 : 1 - d_IRS_1);
  double s_IRS_2 = (t < internal->ITN_IRS_on ? 1 : 1 - d_IRS_2);
  double s_ITN_1 = (t < internal->ITN_IRS_on ? 1 : 1 - d_ITN_1 - r_ITN_1);
  double s_ITN_2 = (t < internal->ITN_IRS_on ? 1 : 1 - d_ITN_2 - r_ITN_2);
  double Sh = odin_sum3(S, 0, internal->dim_S_1, 0, internal->dim_S_2, 0, internal->dim_S_3, internal->dim_S_1, internal->dim_S_12);
  double Th = odin_sum3(T, 0, internal->dim_T_1, 0, internal->dim_T_2, 0, internal->dim_T_3, internal->dim_T_1, internal->dim_T_12);
  double theta_species2 = ((int) (t) == 0 ? internal->custom_seasonality[(int) (1) - 1] : internal->custom_seasonality[(int) (t) - 1]);
  double Uh = odin_sum3(U, 0, internal->dim_U_1, 0, internal->dim_U_2, 0, internal->dim_U_3, internal->dim_U_1, internal->dim_U_12);
  {
     int i = 1;
     internal->z1_[i - 1] = 0;
  }
  {
     int i = 2;
     internal->z1_[i - 1] = internal->bites_Bed_species1 * r_ITN_1;
  }
  {
     int i = 3;
     internal->z1_[i - 1] = internal->bites_Indoors_species1 * r_IRS_1;
  }
  {
     int i = 4;
     internal->z1_[i - 1] = internal->bites_Bed_species1 * (r_IRS_1 + (1 - r_IRS_1) * r_ITN_1) + (internal->bites_Indoors_species1 - internal->bites_Bed_species1) * r_IRS_1;
  }
  {
     int i = 1;
     internal->z2_[i - 1] = 0;
  }
  {
     int i = 2;
     internal->z2_[i - 1] = internal->bites_Bed_species2 * r_ITN_2;
  }
  {
     int i = 3;
     internal->z2_[i - 1] = internal->bites_Indoors_species2 * r_IRS_2;
  }
  {
     int i = 4;
     internal->z2_[i - 1] = internal->bites_Bed_species2 * (r_IRS_2 + (1 - r_IRS_2) * r_ITN_2) + (internal->bites_Indoors_species2 - internal->bites_Bed_species2) * r_IRS_2;
  }
  // delay block for FOI
  {
    const double t_true = t;
    const double t = t_true - internal->dE;
    double Iv1;
    double Iv2;
    double *IB;
    if (t <= internal->initial_t) {
      Iv1 = internal->initial_Iv1;
      Iv2 = internal->initial_Iv2;
      IB = internal->initial_IB;
    } else {
      lagvalue(t, internal->odin_model_2sp_tv1_use_dde, internal->delay_index_FOI, internal->dim_delay_FOI, internal->delay_state_FOI);
      Iv1 = internal->delay_state_FOI[0];
      Iv2 = internal->delay_state_FOI[1];
      IB = internal->delay_state_FOI + 2;
    }
    double IRS_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->IRS_interval))) * internal->irs_loss));
    double ITN_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->ITN_interval))) * internal->itn_loss));
    double r_IRS_1 = (t < internal->ITN_IRS_on ? 0 : internal->r_IRS0_1 * IRS_decay);
    double r_IRS_2 = (t < internal->ITN_IRS_on ? 0 : internal->r_IRS0_2 * IRS_decay);
    double d_ITN_1 = (t < internal->ITN_IRS_on ? 0 : internal->d_ITN0_1 * ITN_decay);
    double r_ITN_1 = (t < internal->ITN_IRS_on ? 0 : internal->r_ITN1 + (internal->r_ITN0_1 - internal->r_ITN1) * ITN_decay);
    double d_ITN_2 = (t < internal->ITN_IRS_on ? 0 : internal->d_ITN0_2 * ITN_decay);
    double r_ITN_2 = (t < internal->ITN_IRS_on ? 0 : internal->r_ITN2 + (internal->r_ITN0_2 - internal->r_ITN2) * ITN_decay);
    double d_IRS_1 = (t < internal->ITN_IRS_on ? 0 : internal->chi_species1 * internal->d_IRS0_1 * IRS_decay);
    double d_IRS_2 = (t < internal->ITN_IRS_on ? 0 : internal->chi_species2 * internal->d_IRS0_2 * IRS_decay);
    double s_ITN_1 = (t < internal->ITN_IRS_on ? 1 : 1 - d_ITN_1 - r_ITN_1);
    double s_ITN_2 = (t < internal->ITN_IRS_on ? 1 : 1 - d_ITN_2 - r_ITN_2);
    double s_IRS_1 = (t < internal->ITN_IRS_on ? 1 : 1 - d_IRS_1);
    double s_IRS_2 = (t < internal->ITN_IRS_on ? 1 : 1 - d_IRS_2);
    {
       int i = 1;
       internal->delay_array_z1_[i - 1] = 0;
    }
    {
       int i = 2;
       internal->delay_array_z1_[i - 1] = internal->bites_Bed_species1 * r_ITN_1;
    }
    {
       int i = 3;
       internal->delay_array_z1_[i - 1] = internal->bites_Indoors_species1 * r_IRS_1;
    }
    {
       int i = 4;
       internal->delay_array_z1_[i - 1] = internal->bites_Bed_species1 * (r_IRS_1 + (1 - r_IRS_1) * r_ITN_1) + (internal->bites_Indoors_species1 - internal->bites_Bed_species1) * r_IRS_1;
    }
    {
       int i = 1;
       internal->delay_array_z2_[i - 1] = 0;
    }
    {
       int i = 2;
       internal->delay_array_z2_[i - 1] = internal->bites_Bed_species2 * r_ITN_2;
    }
    {
       int i = 3;
       internal->delay_array_z2_[i - 1] = internal->bites_Indoors_species2 * r_IRS_2;
    }
    {
       int i = 4;
       internal->delay_array_z2_[i - 1] = internal->bites_Bed_species2 * (r_IRS_2 + (1 - r_IRS_2) * r_ITN_2) + (internal->bites_Indoors_species2 - internal->bites_Bed_species2) * r_IRS_2;
    }
    for (int i = 1; i <= internal->na; ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        for (int k = 1; k <= internal->num_int; ++k) {
          internal->delay_array_b[i - 1 + internal->dim_b_1 * (j - 1) + internal->dim_b_12 * (k - 1)] = internal->b0 * ((1 - internal->b1) / (double) (1 + pow((IB[internal->dim_IB_12 * (k - 1) + internal->dim_IB_1 * (j - 1) + i - 1] / (double) internal->IB0), internal->kB)) + internal->b1);
        }
      }
    }
    {
       int i = 1;
       internal->delay_array_w1_[i - 1] = 1;
    }
    {
       int i = 2;
       internal->delay_array_w1_[i - 1] = 1 - internal->bites_Bed_species1 + internal->bites_Bed_species1 * s_ITN_1;
    }
    {
       int i = 3;
       internal->delay_array_w1_[i - 1] = 1 - internal->bites_Indoors_species1 + internal->bites_Indoors_species1 * (1 - r_IRS_1) * s_IRS_1;
    }
    {
       int i = 4;
       internal->delay_array_w1_[i - 1] = 1 - internal->bites_Indoors_species1 + internal->bites_Bed_species1 * (1 - r_IRS_1) * s_ITN_1 * s_IRS_1 + (internal->bites_Indoors_species1 - internal->bites_Bed_species1) * (1 - r_IRS_1) * s_IRS_1;
    }
    {
       int i = 1;
       internal->delay_array_w2_[i - 1] = 1;
    }
    {
       int i = 2;
       internal->delay_array_w2_[i - 1] = 1 - internal->bites_Bed_species2 + internal->bites_Bed_species2 * s_ITN_2;
    }
    {
       int i = 3;
       internal->delay_array_w2_[i - 1] = 1 - internal->bites_Indoors_species2 + internal->bites_Indoors_species2 * (1 - r_IRS_2) * s_IRS_2;
    }
    {
       int i = 4;
       internal->delay_array_w2_[i - 1] = 1 - internal->bites_Indoors_species2 + internal->bites_Bed_species2 * (1 - r_IRS_2) * s_ITN_2 * s_IRS_2 + (internal->bites_Indoors_species2 - internal->bites_Bed_species2) * (1 - r_IRS_2) * s_IRS_2;
    }
    for (int i = 1; i <= internal->dim_z1; ++i) {
      internal->delay_array_z1[i - 1] = internal->delay_array_z1_[i - 1];
    }
    for (int i = 1; i <= internal->dim_z2; ++i) {
      internal->delay_array_z2[i - 1] = internal->delay_array_z2_[i - 1];
    }
    {
       int i = 1;
       internal->delay_array_yy1_[i - 1] = 1;
    }
    {
       int i = 2;
       internal->delay_array_yy1_[i - 1] = internal->delay_array_w1_[1];
    }
    {
       int i = 3;
       internal->delay_array_yy1_[i - 1] = 1 - internal->bites_Indoors_species1 + internal->bites_Indoors_species1 * (1 - r_IRS_1);
    }
    {
       int i = 4;
       internal->delay_array_yy1_[i - 1] = 1 - internal->bites_Indoors_species1 + internal->bites_Bed_species1 * (1 - r_IRS_1) * s_ITN_1 + (internal->bites_Indoors_species1 - internal->bites_Bed_species1) * (1 - r_IRS_1);
    }
    {
       int i = 1;
       internal->delay_array_yy2_[i - 1] = 1;
    }
    {
       int i = 2;
       internal->delay_array_yy2_[i - 1] = internal->delay_array_w2_[1];
    }
    {
       int i = 3;
       internal->delay_array_yy2_[i - 1] = 1 - internal->bites_Indoors_species2 + internal->bites_Indoors_species2 * (1 - r_IRS_2);
    }
    {
       int i = 4;
       internal->delay_array_yy2_[i - 1] = 1 - internal->bites_Indoors_species2 + internal->bites_Bed_species2 * (1 - r_IRS_2) * s_ITN_2 + (internal->bites_Indoors_species2 - internal->bites_Bed_species2) * (1 - r_IRS_2);
    }
    for (int i = 1; i <= internal->dim_w1; ++i) {
      internal->delay_array_w1[i - 1] = internal->delay_array_w1_[i - 1];
    }
    for (int i = 1; i <= internal->dim_w2; ++i) {
      internal->delay_array_w2[i - 1] = internal->delay_array_w2_[i - 1];
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_zhi1[i - 1] = internal->cov[i - 1] * internal->delay_array_z1[i - 1];
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_zhi2[i - 1] = internal->cov[i - 1] * internal->delay_array_z2[i - 1];
    }
    for (int i = 1; i <= internal->dim_yy1; ++i) {
      internal->delay_array_yy1[i - 1] = internal->delay_array_yy1_[i - 1];
    }
    for (int i = 1; i <= internal->dim_yy2; ++i) {
      internal->delay_array_yy2[i - 1] = internal->delay_array_yy2_[i - 1];
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_whi1[i - 1] = internal->cov[i - 1] * internal->delay_array_w1[i - 1];
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_whi2[i - 1] = internal->cov[i - 1] * internal->delay_array_w2[i - 1];
    }
    double zh1 = (t < internal->ITN_IRS_on ? 0 : odin_sum1(internal->delay_array_zhi1, 0, internal->dim_zhi1));
    double zh2 = (t < internal->ITN_IRS_on ? 0 : odin_sum1(internal->delay_array_zhi2, 0, internal->dim_zhi2));
    double wh1 = (t < internal->ITN_IRS_on ? 1 : odin_sum1(internal->delay_array_whi1, 0, internal->dim_whi1));
    double wh2 = (t < internal->ITN_IRS_on ? 1 : odin_sum1(internal->delay_array_whi2, 0, internal->dim_whi2));
    double zbar1 = internal->Q0_species1 * zh1;
    double zbar2 = internal->Q0_species2 * zh2;
    double fv1 = 1 / (double) (internal->tau1 / (double) (1 - zbar1) + internal->tau2);
    double fv2 = 1 / (double) (internal->tau1 / (double) (1 - zbar2) + internal->tau2);
    double wbar1 = 1 - internal->Q0_species1 + internal->Q0_species1 * wh1;
    double wbar2 = 1 - internal->Q0_species2 + internal->Q0_species2 * wh2;
    double Q_1 = 1 - (1 - internal->Q0_species1) / (double) wbar1;
    double Q_2 = 1 - (1 - internal->Q0_species2) / (double) wbar2;
    double av1 = fv1 * Q_1;
    double av2 = fv2 * Q_2;
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_av_human1[i - 1] = av1 * internal->delay_array_yy1[i - 1] / (double) wh1;
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_av_human2[i - 1] = av2 * internal->delay_array_yy2[i - 1] / (double) wh2;
    }
    for (int i = 1; i <= internal->dim_EIR_species1_1; ++i) {
      for (int j = 1; j <= internal->dim_EIR_species1_2; ++j) {
        for (int k = 1; k <= internal->dim_EIR_species1_3; ++k) {
          internal->delay_array_EIR_species1[i - 1 + internal->dim_EIR_species1_1 * (j - 1) + internal->dim_EIR_species1_12 * (k - 1)] = internal->delay_array_av_human1[k - 1] * internal->rel_foi[j - 1] * internal->foi_age[i - 1] * Iv1 / (double) internal->omega;
        }
      }
    }
    for (int i = 1; i <= internal->dim_EIR_species2_1; ++i) {
      for (int j = 1; j <= internal->dim_EIR_species2_2; ++j) {
        for (int k = 1; k <= internal->dim_EIR_species2_3; ++k) {
          internal->delay_array_EIR_species2[i - 1 + internal->dim_EIR_species2_1 * (j - 1) + internal->dim_EIR_species2_12 * (k - 1)] = internal->delay_array_av_human2[k - 1] * internal->rel_foi[j - 1] * internal->foi_age[i - 1] * Iv2 / (double) internal->omega;
        }
      }
    }
    for (int i = 1; i <= internal->dim_EIR_1; ++i) {
      for (int j = 1; j <= internal->dim_EIR_2; ++j) {
        for (int k = 1; k <= internal->dim_EIR_3; ++k) {
          internal->delay_array_EIR[i - 1 + internal->dim_EIR_1 * (j - 1) + internal->dim_EIR_12 * (k - 1)] = internal->delay_array_EIR_species1[internal->dim_EIR_species1_12 * (k - 1) + internal->dim_EIR_species1_1 * (j - 1) + i - 1] + internal->delay_array_EIR_species2[internal->dim_EIR_species2_12 * (k - 1) + internal->dim_EIR_species2_1 * (j - 1) + i - 1];
        }
      }
    }
    for (int i = 1; i <= internal->na; ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        for (int k = 1; k <= internal->num_int; ++k) {
          internal->delay_array_FOI_lag[i - 1 + internal->dim_FOI_lag_1 * (j - 1) + internal->dim_FOI_lag_12 * (k - 1)] = internal->delay_array_EIR[internal->dim_EIR_12 * (k - 1) + internal->dim_EIR_1 * (j - 1) + i - 1] * ((IB[internal->dim_IB_12 * (k - 1) + internal->dim_IB_1 * (j - 1) + i - 1] == 0 ? internal->b0 : internal->delay_array_b[internal->dim_b_12 * (k - 1) + internal->dim_b_1 * (j - 1) + i - 1]));
        }
      }
    }
    for (int i = 1; i <= internal->dim_FOI_1; ++i) {
      for (int j = 1; j <= internal->dim_FOI_2; ++j) {
        for (int k = 1; k <= internal->dim_FOI_3; ++k) {
          internal->FOI[i - 1 + internal->dim_FOI_1 * (j - 1) + internal->dim_FOI_12 * (k - 1)] = internal->delay_array_FOI_lag[internal->dim_FOI_lag_12 * (k - 1) + internal->dim_FOI_lag_1 * (j - 1) + i - 1];
        }
      }
    }
  }
  // delay block for FOIv_species1
  double FOIv_species1;
  {
    const double t_true = t;
    const double t = t_true - internal->delayGam;
    double *T;
    double *D;
    double *A;
    double *U;
    double *ID;
    if (t <= internal->initial_t) {
      T = internal->initial_T;
      D = internal->initial_D;
      A = internal->initial_A;
      U = internal->initial_U;
      ID = internal->initial_ID;
    } else {
      lagvalue(t, internal->odin_model_2sp_tv1_use_dde, internal->delay_index_FOIv_species1, internal->dim_delay_FOIv_species1, internal->delay_state_FOIv_species1);
      T = internal->delay_state_FOIv_species1 + 0;
      D = internal->delay_state_FOIv_species1 + internal->dim_T;
      A = internal->delay_state_FOIv_species1 + internal->offset_FOIv_species1_A;
      U = internal->delay_state_FOIv_species1 + internal->offset_FOIv_species1_U;
      ID = internal->delay_state_FOIv_species1 + internal->offset_FOIv_species1_ID;
    }
    double IRS_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->IRS_interval))) * internal->irs_loss));
    double ITN_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->ITN_interval))) * internal->itn_loss));
    double r_IRS_1 = (t < internal->ITN_IRS_on ? 0 : internal->r_IRS0_1 * IRS_decay);
    double d_ITN_1 = (t < internal->ITN_IRS_on ? 0 : internal->d_ITN0_1 * ITN_decay);
    double r_ITN_1 = (t < internal->ITN_IRS_on ? 0 : internal->r_ITN1 + (internal->r_ITN0_1 - internal->r_ITN1) * ITN_decay);
    double d_IRS_1 = (t < internal->ITN_IRS_on ? 0 : internal->chi_species1 * internal->d_IRS0_1 * IRS_decay);
    double s_ITN_1 = (t < internal->ITN_IRS_on ? 1 : 1 - d_ITN_1 - r_ITN_1);
    double s_IRS_1 = (t < internal->ITN_IRS_on ? 1 : 1 - d_IRS_1);
    {
       int i = 1;
       internal->delay_array_z1_[i - 1] = 0;
    }
    {
       int i = 2;
       internal->delay_array_z1_[i - 1] = internal->bites_Bed_species1 * r_ITN_1;
    }
    {
       int i = 3;
       internal->delay_array_z1_[i - 1] = internal->bites_Indoors_species1 * r_IRS_1;
    }
    {
       int i = 4;
       internal->delay_array_z1_[i - 1] = internal->bites_Bed_species1 * (r_IRS_1 + (1 - r_IRS_1) * r_ITN_1) + (internal->bites_Indoors_species1 - internal->bites_Bed_species1) * r_IRS_1;
    }
    for (int i = 1; i <= internal->dim_p_det_1; ++i) {
      for (int j = 1; j <= internal->dim_p_det_2; ++j) {
        for (int k = 1; k <= internal->dim_p_det_3; ++k) {
          internal->delay_array_p_det[i - 1 + internal->dim_p_det_1 * (j - 1) + internal->dim_p_det_12 * (k - 1)] = internal->d1 + (1 - internal->d1) / (double) (1 + internal->fd[i - 1] * pow((ID[internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1] / (double) internal->ID0), internal->kD));
        }
      }
    }
    {
       int i = 1;
       internal->delay_array_w1_[i - 1] = 1;
    }
    {
       int i = 2;
       internal->delay_array_w1_[i - 1] = 1 - internal->bites_Bed_species1 + internal->bites_Bed_species1 * s_ITN_1;
    }
    {
       int i = 3;
       internal->delay_array_w1_[i - 1] = 1 - internal->bites_Indoors_species1 + internal->bites_Indoors_species1 * (1 - r_IRS_1) * s_IRS_1;
    }
    {
       int i = 4;
       internal->delay_array_w1_[i - 1] = 1 - internal->bites_Indoors_species1 + internal->bites_Bed_species1 * (1 - r_IRS_1) * s_ITN_1 * s_IRS_1 + (internal->bites_Indoors_species1 - internal->bites_Bed_species1) * (1 - r_IRS_1) * s_IRS_1;
    }
    for (int i = 1; i <= internal->dim_z1; ++i) {
      internal->delay_array_z1[i - 1] = internal->delay_array_z1_[i - 1];
    }
    for (int i = 1; i <= internal->dim_cA_1; ++i) {
      for (int j = 1; j <= internal->dim_cA_2; ++j) {
        for (int k = 1; k <= internal->dim_cA_3; ++k) {
          internal->delay_array_cA[i - 1 + internal->dim_cA_1 * (j - 1) + internal->dim_cA_12 * (k - 1)] = internal->cU + (internal->cD - internal->cU) * pow(internal->delay_array_p_det[internal->dim_p_det_12 * (k - 1) + internal->dim_p_det_1 * (j - 1) + i - 1], internal->gamma1);
        }
      }
    }
    for (int i = 1; i <= internal->dim_w1; ++i) {
      internal->delay_array_w1[i - 1] = internal->delay_array_w1_[i - 1];
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_zhi1[i - 1] = internal->cov[i - 1] * internal->delay_array_z1[i - 1];
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_whi1[i - 1] = internal->cov[i - 1] * internal->delay_array_w1[i - 1];
    }
    double zh1 = (t < internal->ITN_IRS_on ? 0 : odin_sum1(internal->delay_array_zhi1, 0, internal->dim_zhi1));
    double wh1 = (t < internal->ITN_IRS_on ? 1 : odin_sum1(internal->delay_array_whi1, 0, internal->dim_whi1));
    double zbar1 = internal->Q0_species1 * zh1;
    double fv1 = 1 / (double) (internal->tau1 / (double) (1 - zbar1) + internal->tau2);
    double wbar1 = 1 - internal->Q0_species1 + internal->Q0_species1 * wh1;
    double Q_1 = 1 - (1 - internal->Q0_species1) / (double) wbar1;
    double av1 = fv1 * Q_1;
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_av_mosq1[i - 1] = av1 * internal->delay_array_w1[i - 1] / (double) wh1;
    }
    for (int i = 1; i <= internal->na; ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        for (int k = 1; k <= internal->num_int; ++k) {
          internal->delay_array_FOIvijk_species1[i - 1 + internal->dim_FOIvijk_species1_1 * (j - 1) + internal->dim_FOIvijk_species1_12 * (k - 1)] = (internal->cT * T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] + internal->cD * D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] + internal->delay_array_cA[internal->dim_cA_12 * (k - 1) + internal->dim_cA_1 * (j - 1) + i - 1] * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] + internal->cU * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1]) * internal->rel_foi[j - 1] * internal->delay_array_av_mosq1[k - 1] * internal->foi_age[i - 1] / (double) internal->omega;
        }
      }
    }
    double lag_FOIv_species1 = odin_sum1(internal->delay_array_FOIvijk_species1, 0, internal->dim_FOIvijk_species1);
    FOIv_species1 = lag_FOIv_species1;
  }
  // delay block for FOIv_species2
  double FOIv_species2;
  {
    const double t_true = t;
    const double t = t_true - internal->delayGam;
    double *T;
    double *D;
    double *A;
    double *U;
    double *ID;
    if (t <= internal->initial_t) {
      T = internal->initial_T;
      D = internal->initial_D;
      A = internal->initial_A;
      U = internal->initial_U;
      ID = internal->initial_ID;
    } else {
      lagvalue(t, internal->odin_model_2sp_tv1_use_dde, internal->delay_index_FOIv_species2, internal->dim_delay_FOIv_species2, internal->delay_state_FOIv_species2);
      T = internal->delay_state_FOIv_species2 + 0;
      D = internal->delay_state_FOIv_species2 + internal->dim_T;
      A = internal->delay_state_FOIv_species2 + internal->offset_FOIv_species2_A;
      U = internal->delay_state_FOIv_species2 + internal->offset_FOIv_species2_U;
      ID = internal->delay_state_FOIv_species2 + internal->offset_FOIv_species2_ID;
    }
    double IRS_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->IRS_interval))) * internal->irs_loss));
    double ITN_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->ITN_interval))) * internal->itn_loss));
    double r_IRS_2 = (t < internal->ITN_IRS_on ? 0 : internal->r_IRS0_2 * IRS_decay);
    double d_ITN_2 = (t < internal->ITN_IRS_on ? 0 : internal->d_ITN0_2 * ITN_decay);
    double r_ITN_2 = (t < internal->ITN_IRS_on ? 0 : internal->r_ITN2 + (internal->r_ITN0_2 - internal->r_ITN2) * ITN_decay);
    double d_IRS_2 = (t < internal->ITN_IRS_on ? 0 : internal->chi_species2 * internal->d_IRS0_2 * IRS_decay);
    double s_ITN_2 = (t < internal->ITN_IRS_on ? 1 : 1 - d_ITN_2 - r_ITN_2);
    double s_IRS_2 = (t < internal->ITN_IRS_on ? 1 : 1 - d_IRS_2);
    {
       int i = 1;
       internal->delay_array_z2_[i - 1] = 0;
    }
    {
       int i = 2;
       internal->delay_array_z2_[i - 1] = internal->bites_Bed_species2 * r_ITN_2;
    }
    {
       int i = 3;
       internal->delay_array_z2_[i - 1] = internal->bites_Indoors_species2 * r_IRS_2;
    }
    {
       int i = 4;
       internal->delay_array_z2_[i - 1] = internal->bites_Bed_species2 * (r_IRS_2 + (1 - r_IRS_2) * r_ITN_2) + (internal->bites_Indoors_species2 - internal->bites_Bed_species2) * r_IRS_2;
    }
    for (int i = 1; i <= internal->dim_p_det_1; ++i) {
      for (int j = 1; j <= internal->dim_p_det_2; ++j) {
        for (int k = 1; k <= internal->dim_p_det_3; ++k) {
          internal->delay_array_p_det[i - 1 + internal->dim_p_det_1 * (j - 1) + internal->dim_p_det_12 * (k - 1)] = internal->d1 + (1 - internal->d1) / (double) (1 + internal->fd[i - 1] * pow((ID[internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1] / (double) internal->ID0), internal->kD));
        }
      }
    }
    {
       int i = 1;
       internal->delay_array_w2_[i - 1] = 1;
    }
    {
       int i = 2;
       internal->delay_array_w2_[i - 1] = 1 - internal->bites_Bed_species2 + internal->bites_Bed_species2 * s_ITN_2;
    }
    {
       int i = 3;
       internal->delay_array_w2_[i - 1] = 1 - internal->bites_Indoors_species2 + internal->bites_Indoors_species2 * (1 - r_IRS_2) * s_IRS_2;
    }
    {
       int i = 4;
       internal->delay_array_w2_[i - 1] = 1 - internal->bites_Indoors_species2 + internal->bites_Bed_species2 * (1 - r_IRS_2) * s_ITN_2 * s_IRS_2 + (internal->bites_Indoors_species2 - internal->bites_Bed_species2) * (1 - r_IRS_2) * s_IRS_2;
    }
    for (int i = 1; i <= internal->dim_z2; ++i) {
      internal->delay_array_z2[i - 1] = internal->delay_array_z2_[i - 1];
    }
    for (int i = 1; i <= internal->dim_cA_1; ++i) {
      for (int j = 1; j <= internal->dim_cA_2; ++j) {
        for (int k = 1; k <= internal->dim_cA_3; ++k) {
          internal->delay_array_cA[i - 1 + internal->dim_cA_1 * (j - 1) + internal->dim_cA_12 * (k - 1)] = internal->cU + (internal->cD - internal->cU) * pow(internal->delay_array_p_det[internal->dim_p_det_12 * (k - 1) + internal->dim_p_det_1 * (j - 1) + i - 1], internal->gamma1);
        }
      }
    }
    for (int i = 1; i <= internal->dim_w2; ++i) {
      internal->delay_array_w2[i - 1] = internal->delay_array_w2_[i - 1];
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_zhi2[i - 1] = internal->cov[i - 1] * internal->delay_array_z2[i - 1];
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_whi2[i - 1] = internal->cov[i - 1] * internal->delay_array_w2[i - 1];
    }
    double zh2 = (t < internal->ITN_IRS_on ? 0 : odin_sum1(internal->delay_array_zhi2, 0, internal->dim_zhi2));
    double wh2 = (t < internal->ITN_IRS_on ? 1 : odin_sum1(internal->delay_array_whi2, 0, internal->dim_whi2));
    double zbar2 = internal->Q0_species2 * zh2;
    double fv2 = 1 / (double) (internal->tau1 / (double) (1 - zbar2) + internal->tau2);
    double wbar2 = 1 - internal->Q0_species2 + internal->Q0_species2 * wh2;
    double Q_2 = 1 - (1 - internal->Q0_species2) / (double) wbar2;
    double av2 = fv2 * Q_2;
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_av_mosq2[i - 1] = av2 * internal->delay_array_w2[i - 1] / (double) wh2;
    }
    for (int i = 1; i <= internal->na; ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        for (int k = 1; k <= internal->num_int; ++k) {
          internal->delay_array_FOIvijk_species2[i - 1 + internal->dim_FOIvijk_species2_1 * (j - 1) + internal->dim_FOIvijk_species2_12 * (k - 1)] = (internal->cT * T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] + internal->cD * D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] + internal->delay_array_cA[internal->dim_cA_12 * (k - 1) + internal->dim_cA_1 * (j - 1) + i - 1] * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] + internal->cU * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1]) * internal->rel_foi[j - 1] * internal->delay_array_av_mosq2[k - 1] * internal->foi_age[i - 1] / (double) internal->omega;
        }
      }
    }
    double lag_FOIv_species2 = odin_sum1(internal->delay_array_FOIvijk_species2, 0, internal->dim_FOIvijk_species2);
    FOIv_species2 = lag_FOIv_species2;
  }
  double H = Sh + Th + Dh + Ah + Uh + Ph;
  for (int i = 1; i <= internal->dim_IC_1; ++i) {
    for (int j = 1; j <= internal->dim_IC_2; ++j) {
      for (int k = 1; k <= internal->dim_IC_3; ++k) {
        internal->IC[i - 1 + internal->dim_IC_1 * (j - 1) + internal->dim_IC_12 * (k - 1)] = ICM[internal->dim_ICM_12 * (k - 1) + internal->dim_ICM_1 * (j - 1) + i - 1] + ICA[internal->dim_ICA_12 * (k - 1) + internal->dim_ICA_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->nh; ++i) {
    for (int j = 1; j <= internal->num_int; ++j) {
      internal->init_ICM_pre[i - 1 + internal->dim_init_ICM_pre_1 * (j - 1)] = internal->PM * (ICA[internal->dim_ICA_12 * (j - 1) + internal->dim_ICA_1 * (i - 1) + internal->age20l - 1] + internal->age_20_factor * (ICA[internal->dim_ICA_12 * (j - 1) + internal->dim_ICA_1 * (i - 1) + internal->age20u - 1] - ICA[internal->dim_ICA_12 * (j - 1) + internal->dim_ICA_1 * (i - 1) + internal->age20l - 1]));
    }
  }
  {
     int i = 1;
     internal->w1_[i - 1] = 1;
  }
  {
     int i = 2;
     internal->w1_[i - 1] = 1 - internal->bites_Bed_species1 + internal->bites_Bed_species1 * s_ITN_1;
  }
  {
     int i = 3;
     internal->w1_[i - 1] = 1 - internal->bites_Indoors_species1 + internal->bites_Indoors_species1 * (1 - r_IRS_1) * s_IRS_1;
  }
  {
     int i = 4;
     internal->w1_[i - 1] = 1 - internal->bites_Indoors_species1 + internal->bites_Bed_species1 * (1 - r_IRS_1) * s_ITN_1 * s_IRS_1 + (internal->bites_Indoors_species1 - internal->bites_Bed_species1) * (1 - r_IRS_1) * s_IRS_1;
  }
  {
     int i = 1;
     internal->w2_[i - 1] = 1;
  }
  {
     int i = 2;
     internal->w2_[i - 1] = 1 - internal->bites_Bed_species2 + internal->bites_Bed_species2 * s_ITN_2;
  }
  {
     int i = 3;
     internal->w2_[i - 1] = 1 - internal->bites_Indoors_species2 + internal->bites_Indoors_species2 * (1 - r_IRS_2) * s_IRS_2;
  }
  {
     int i = 4;
     internal->w2_[i - 1] = 1 - internal->bites_Indoors_species2 + internal->bites_Bed_species2 * (1 - r_IRS_2) * s_ITN_2 * s_IRS_2 + (internal->bites_Indoors_species2 - internal->bites_Bed_species2) * (1 - r_IRS_2) * s_IRS_2;
  }
  for (int i = 1; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        internal->Y[i - 1 + internal->dim_Y_1 * (j - 1) + internal->dim_Y_12 * (k - 1)] = S[internal->dim_S_12 * (k - 1) + internal->dim_S_1 * (j - 1) + i - 1] + A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] + U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_z1; ++i) {
    internal->z1[i - 1] = internal->z1_[i - 1];
  }
  for (int i = 1; i <= internal->dim_z2; ++i) {
    internal->z2[i - 1] = internal->z2_[i - 1];
  }
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         dstatedt[internal->offset_variable_ICA + i - 1 + internal->dim_ICA_1 * (j - 1) + internal->dim_ICA_12 * (k - 1)] = internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] / (double) (internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * internal->uCA + 1) - 1 / (double) internal->dCA * ICA[internal->dim_ICA_12 * (k - 1) + internal->dim_ICA_1 * (j - 1) + i - 1] - ICA[internal->dim_ICA_12 * (k - 1) + internal->dim_ICA_1 * (j - 1) + i - 1] / (double) internal->x_I[i - 1];
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        dstatedt[internal->offset_variable_ICA + i - 1 + internal->dim_ICA_1 * (j - 1) + internal->dim_ICA_12 * (k - 1)] = internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] / (double) (internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * internal->uCA + 1) - 1 / (double) internal->dCA * ICA[internal->dim_ICA_12 * (k - 1) + internal->dim_ICA_1 * (j - 1) + i - 1] - (ICA[internal->dim_ICA_12 * (k - 1) + internal->dim_ICA_1 * (j - 1) + i - 1] - ICA[internal->dim_ICA_12 * (k - 1) + internal->dim_ICA_1 * (j - 1) + i - 1 - 1]) / (double) internal->x_I[i - 1];
      }
    }
  }
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         dstatedt[internal->offset_variable_ICM + i - 1 + internal->dim_ICM_1 * (j - 1) + internal->dim_ICM_12 * (k - 1)] = -(1) / (double) internal->dCM * ICM[internal->dim_ICM_12 * (k - 1) + internal->dim_ICM_1 * (j - 1) + i - 1] + (internal->init_ICM_pre[internal->dim_init_ICM_pre_1 * (k - 1) + j - 1] - ICM[internal->dim_ICM_12 * (k - 1) + internal->dim_ICM_1 * (j - 1) + i - 1]) / (double) internal->x_I[i - 1];
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        dstatedt[internal->offset_variable_ICM + i - 1 + internal->dim_ICM_1 * (j - 1) + internal->dim_ICM_12 * (k - 1)] = -(1) / (double) internal->dCM * ICM[internal->dim_ICM_12 * (k - 1) + internal->dim_ICM_1 * (j - 1) + i - 1] - (ICM[internal->dim_ICM_12 * (k - 1) + internal->dim_ICM_1 * (j - 1) + i - 1] - ICM[internal->dim_ICM_12 * (k - 1) + internal->dim_ICM_1 * (j - 1) + i - 1 - 1]) / (double) internal->x_I[i - 1];
      }
    }
  }
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         dstatedt[internal->offset_variable_ID + i - 1 + internal->dim_ID_1 * (j - 1) + internal->dim_ID_12 * (k - 1)] = internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] / (double) (internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * internal->uD + 1) - ID[internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1] / (double) internal->dID - ID[internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1] / (double) internal->x_I[i - 1];
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        dstatedt[internal->offset_variable_ID + i - 1 + internal->dim_ID_1 * (j - 1) + internal->dim_ID_12 * (k - 1)] = internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] / (double) (internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * internal->uD + 1) - ID[internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1] / (double) internal->dID - (ID[internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1] - ID[internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1 - 1]) / (double) internal->x_I[i - 1];
      }
    }
  }
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         dstatedt[12 + i - 1 + internal->dim_S_1 * (j - 1) + internal->dim_S_12 * (k - 1)] = -(internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1]) * S[internal->dim_S_12 * (k - 1) + internal->dim_S_1 * (j - 1) + i - 1] + internal->rP * P[internal->dim_P_12 * (k - 1) + internal->dim_P_1 * (j - 1) + i - 1] + internal->rU * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1] + internal->cov[k - 1] * internal->eta * H * internal->het_wt[j - 1] - (internal->eta + internal->age_rate[i - 1]) * S[internal->dim_S_12 * (k - 1) + internal->dim_S_1 * (j - 1) + i - 1];
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        dstatedt[12 + i - 1 + internal->dim_S_1 * (j - 1) + internal->dim_S_12 * (k - 1)] = -(internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1]) * S[internal->dim_S_12 * (k - 1) + internal->dim_S_1 * (j - 1) + i - 1] + internal->rP * P[internal->dim_P_12 * (k - 1) + internal->dim_P_1 * (j - 1) + i - 1] + internal->rU * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * S[internal->dim_S_12 * (k - 1) + internal->dim_S_1 * (j - 1) + i - 1] + internal->age_rate[i - 1 - 1] * S[internal->dim_S_12 * (k - 1) + internal->dim_S_1 * (j - 1) + i - 1 - 1];
      }
    }
  }
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         dstatedt[internal->offset_variable_U + i - 1 + internal->dim_U_1 * (j - 1) + internal->dim_U_12 * (k - 1)] = internal->rA * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] - internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1] - internal->rU * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1];
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        dstatedt[internal->offset_variable_U + i - 1 + internal->dim_U_1 * (j - 1) + internal->dim_U_12 * (k - 1)] = internal->rA * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] - internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1] - internal->rU * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1] + internal->age_rate[i - 1 - 1] * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1 - 1];
      }
    }
  }
  double ince1 = FOIv_species1 * Sv1;
  double ince2 = FOIv_species2 * Sv2;
  for (int i = 1; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        internal->phi[i - 1 + internal->dim_phi_1 * (j - 1) + internal->dim_phi_12 * (k - 1)] = internal->phi0 * ((1 - internal->phi1) / (double) (1 + pow((internal->IC[internal->dim_IC_12 * (k - 1) + internal->dim_IC_1 * (j - 1) + i - 1] / (double) internal->IC0), internal->kC)) + internal->phi1);
      }
    }
  }
  for (int i = 1; i <= internal->dim_w1; ++i) {
    internal->w1[i - 1] = internal->w1_[i - 1];
  }
  for (int i = 1; i <= internal->dim_w2; ++i) {
    internal->w2[i - 1] = internal->w2_[i - 1];
  }
  {
     int i = 1;
     internal->yy1_[i - 1] = 1;
  }
  {
     int i = 2;
     internal->yy1_[i - 1] = internal->w1_[1];
  }
  {
     int i = 3;
     internal->yy1_[i - 1] = 1 - internal->bites_Indoors_species1 + internal->bites_Indoors_species1 * (1 - r_IRS_1);
  }
  {
     int i = 4;
     internal->yy1_[i - 1] = 1 - internal->bites_Indoors_species1 + internal->bites_Bed_species1 * (1 - r_IRS_1) * s_ITN_1 + (internal->bites_Indoors_species1 - internal->bites_Bed_species1) * (1 - r_IRS_1);
  }
  {
     int i = 1;
     internal->yy2_[i - 1] = 1;
  }
  {
     int i = 2;
     internal->yy2_[i - 1] = internal->w2_[1];
  }
  {
     int i = 3;
     internal->yy2_[i - 1] = 1 - internal->bites_Indoors_species2 + internal->bites_Indoors_species2 * (1 - r_IRS_2);
  }
  {
     int i = 4;
     internal->yy2_[i - 1] = 1 - internal->bites_Indoors_species2 + internal->bites_Bed_species2 * (1 - r_IRS_2) * s_ITN_2 + (internal->bites_Indoors_species2 - internal->bites_Bed_species2) * (1 - r_IRS_2);
  }
  for (int i = 1; i <= internal->num_int; ++i) {
    internal->zhi1[i - 1] = internal->cov[i - 1] * internal->z1[i - 1];
  }
  for (int i = 1; i <= internal->num_int; ++i) {
    internal->zhi2[i - 1] = internal->cov[i - 1] * internal->z2[i - 1];
  }
  for (int i = 1; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        internal->clin_inc[i - 1 + internal->dim_clin_inc_1 * (j - 1) + internal->dim_clin_inc_12 * (k - 1)] = internal->phi[internal->dim_phi_12 * (k - 1) + internal->dim_phi_1 * (j - 1) + i - 1] * internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * internal->Y[internal->dim_Y_12 * (k - 1) + internal->dim_Y_1 * (j - 1) + i - 1];
      }
    }
  }
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         dstatedt[internal->offset_variable_A + i - 1 + internal->dim_A_1 * (j - 1) + internal->dim_A_12 * (k - 1)] = (1 - internal->phi[internal->dim_phi_12 * (k - 1) + internal->dim_phi_1 * (j - 1) + i - 1]) * internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * internal->Y[internal->dim_Y_12 * (k - 1) + internal->dim_Y_1 * (j - 1) + i - 1] - internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] + internal->rD * D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] - internal->rA * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1];
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        dstatedt[internal->offset_variable_A + i - 1 + internal->dim_A_1 * (j - 1) + internal->dim_A_12 * (k - 1)] = (1 - internal->phi[internal->dim_phi_12 * (k - 1) + internal->dim_phi_1 * (j - 1) + i - 1]) * internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * internal->Y[internal->dim_Y_12 * (k - 1) + internal->dim_Y_1 * (j - 1) + i - 1] - internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] + internal->rD * D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] - internal->rA * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] + internal->age_rate[i - 1 - 1] * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1 - 1];
      }
    }
  }
  for (int i = 1; i <= internal->num_int; ++i) {
    internal->whi1[i - 1] = internal->cov[i - 1] * internal->w1[i - 1];
  }
  for (int i = 1; i <= internal->num_int; ++i) {
    internal->whi2[i - 1] = internal->cov[i - 1] * internal->w2[i - 1];
  }
  for (int i = 1; i <= internal->dim_yy1; ++i) {
    internal->yy1[i - 1] = internal->yy1_[i - 1];
  }
  for (int i = 1; i <= internal->dim_yy2; ++i) {
    internal->yy2[i - 1] = internal->yy2_[i - 1];
  }
  double zh1 = (t < internal->ITN_IRS_on ? 0 : odin_sum1(internal->zhi1, 0, internal->dim_zhi1));
  double zh2 = (t < internal->ITN_IRS_on ? 0 : odin_sum1(internal->zhi2, 0, internal->dim_zhi2));
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         dstatedt[internal->offset_variable_D + i - 1 + internal->dim_D_1 * (j - 1) + internal->dim_D_12 * (k - 1)] = (1 - internal->ft) * internal->clin_inc[internal->dim_clin_inc_12 * (k - 1) + internal->dim_clin_inc_1 * (j - 1) + i - 1] - internal->rD * D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1];
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        dstatedt[internal->offset_variable_D + i - 1 + internal->dim_D_1 * (j - 1) + internal->dim_D_12 * (k - 1)] = (1 - internal->ft) * internal->clin_inc[internal->dim_clin_inc_12 * (k - 1) + internal->dim_clin_inc_1 * (j - 1) + i - 1] - internal->rD * D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] + internal->age_rate[i - 1 - 1] * D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1 - 1];
      }
    }
  }
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         dstatedt[internal->offset_variable_T + i - 1 + internal->dim_T_1 * (j - 1) + internal->dim_T_12 * (k - 1)] = internal->ft * internal->clin_inc[internal->dim_clin_inc_12 * (k - 1) + internal->dim_clin_inc_1 * (j - 1) + i - 1] - internal->rT * T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1];
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        dstatedt[internal->offset_variable_T + i - 1 + internal->dim_T_1 * (j - 1) + internal->dim_T_12 * (k - 1)] = internal->ft * internal->clin_inc[internal->dim_clin_inc_12 * (k - 1) + internal->dim_clin_inc_1 * (j - 1) + i - 1] - internal->rT * T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] + internal->age_rate[i - 1 - 1] * T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1 - 1];
      }
    }
  }
  double wh1 = (t < internal->ITN_IRS_on ? 1 : odin_sum1(internal->whi1, 0, internal->dim_whi1));
  double wh2 = (t < internal->ITN_IRS_on ? 1 : odin_sum1(internal->whi2, 0, internal->dim_whi2));
  double zbar1 = internal->Q0_species1 * zh1;
  double zbar2 = internal->Q0_species2 * zh2;
  double fv1 = 1 / (double) (internal->tau1 / (double) (1 - zbar1) + internal->tau2);
  double fv2 = 1 / (double) (internal->tau1 / (double) (1 - zbar2) + internal->tau2);
  double wbar1 = 1 - internal->Q0_species1 + internal->Q0_species1 * wh1;
  double wbar2 = 1 - internal->Q0_species2 + internal->Q0_species2 * wh2;
  double p1_1 = wbar1 * internal->p10 / (double) (1 - zbar1 * internal->p10);
  double p1_2 = wbar2 * internal->p10 / (double) (1 - zbar2 * internal->p10);
  double Q_1 = 1 - (1 - internal->Q0_species1) / (double) wbar1;
  double Q_2 = 1 - (1 - internal->Q0_species2) / (double) wbar2;
  double av1 = fv1 * Q_1;
  double av2 = fv2 * Q_2;
  double mu1 = -(fv1) * log(p1_1 * internal->p2);
  double mu2 = -(fv2) * log(p1_2 * internal->p2);
  for (int i = 1; i <= internal->num_int; ++i) {
    internal->av_human1[i - 1] = av1 * internal->yy1[i - 1] / (double) wh1;
  }
  for (int i = 1; i <= internal->num_int; ++i) {
    internal->av_human2[i - 1] = av2 * internal->yy2[i - 1] / (double) wh2;
  }
  dstatedt[1] = ince1 - incv1 - mu1 * Ev1;
  dstatedt[4] = ince2 - incv2 - mu2 * Ev2;
  dstatedt[2] = incv1 - mu1 * Iv1;
  dstatedt[5] = incv2 - mu2 * Iv2;
  dstatedt[0] = -(ince1) - mu1 * Sv1 + betaa1;
  dstatedt[3] = -(ince2) - mu2 * Sv2 + betaa2;
  double eov1 = internal->betaL / (double) mu1 * (exp(mu1 / (double) fv1) - 1);
  double eov2 = internal->betaL / (double) mu2 * (exp(mu2 / (double) fv2) - 1);
  double beta_larval1 = eov1 * mu1 * exp(-(mu1) / (double) fv1) / (double) (1 - exp(-(mu1) / (double) fv1));
  double beta_larval2 = eov2 * mu2 * exp(-(mu2) / (double) fv2) / (double) (1 - exp(-(mu2) / (double) fv2));
  for (int i = 1; i <= internal->dim_EIR_species1_1; ++i) {
    for (int j = 1; j <= internal->dim_EIR_species1_2; ++j) {
      for (int k = 1; k <= internal->dim_EIR_species1_3; ++k) {
        internal->EIR_species1[i - 1 + internal->dim_EIR_species1_1 * (j - 1) + internal->dim_EIR_species1_12 * (k - 1)] = internal->av_human1[k - 1] * internal->rel_foi[j - 1] * internal->foi_age[i - 1] * Iv1 / (double) internal->omega;
      }
    }
  }
  for (int i = 1; i <= internal->dim_EIR_species2_1; ++i) {
    for (int j = 1; j <= internal->dim_EIR_species2_2; ++j) {
      for (int k = 1; k <= internal->dim_EIR_species2_3; ++k) {
        internal->EIR_species2[i - 1 + internal->dim_EIR_species2_1 * (j - 1) + internal->dim_EIR_species2_12 * (k - 1)] = internal->av_human2[k - 1] * internal->rel_foi[j - 1] * internal->foi_age[i - 1] * Iv2 / (double) internal->omega;
      }
    }
  }
  for (int i = 1; i <= internal->dim_EIR_1; ++i) {
    for (int j = 1; j <= internal->dim_EIR_2; ++j) {
      for (int k = 1; k <= internal->dim_EIR_3; ++k) {
        internal->EIR[i - 1 + internal->dim_EIR_1 * (j - 1) + internal->dim_EIR_12 * (k - 1)] = internal->EIR_species1[internal->dim_EIR_species1_12 * (k - 1) + internal->dim_EIR_species1_1 * (j - 1) + i - 1] + internal->EIR_species2[internal->dim_EIR_species2_12 * (k - 1) + internal->dim_EIR_species2_1 * (j - 1) + i - 1];
      }
    }
  }
  double lambda_species1 = -(0.5) * internal->b_lambda + sqrt(0.25 * pow(internal->b_lambda, 2) + internal->gammaL * beta_larval1 * internal->muLL * internal->dEL / (double) (2 * internal->muEL * internal->mu0 * internal->dLL * (1 + internal->dPL * internal->muPL)));
  double lambda_species2 = -(0.5) * internal->b_lambda + sqrt(0.25 * pow(internal->b_lambda, 2) + internal->gammaL * beta_larval2 * internal->muLL * internal->dEL / (double) (2 * internal->muEL * internal->mu0 * internal->dLL * (1 + internal->dPL * internal->muPL)));
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         dstatedt[internal->offset_variable_IB + i - 1 + internal->dim_IB_1 * (j - 1) + internal->dim_IB_12 * (k - 1)] = internal->EIR[internal->dim_EIR_12 * (k - 1) + internal->dim_EIR_1 * (j - 1) + i - 1] / (double) (internal->EIR[internal->dim_EIR_12 * (k - 1) + internal->dim_EIR_1 * (j - 1) + i - 1] * internal->uB + 1) - IB[internal->dim_IB_12 * (k - 1) + internal->dim_IB_1 * (j - 1) + i - 1] / (double) internal->dB - IB[internal->dim_IB_12 * (k - 1) + internal->dim_IB_1 * (j - 1) + i - 1] / (double) internal->x_I[i - 1];
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        dstatedt[internal->offset_variable_IB + i - 1 + internal->dim_IB_1 * (j - 1) + internal->dim_IB_12 * (k - 1)] = internal->EIR[internal->dim_EIR_12 * (k - 1) + internal->dim_EIR_1 * (j - 1) + i - 1] / (double) (internal->EIR[internal->dim_EIR_12 * (k - 1) + internal->dim_EIR_1 * (j - 1) + i - 1] * internal->uB + 1) - IB[internal->dim_IB_12 * (k - 1) + internal->dim_IB_1 * (j - 1) + i - 1] / (double) internal->dB - (IB[internal->dim_IB_12 * (k - 1) + internal->dim_IB_1 * (j - 1) + i - 1] - IB[internal->dim_IB_12 * (k - 1) + internal->dim_IB_1 * (j - 1) + i - 1 - 1]) / (double) internal->x_I[i - 1];
      }
    }
  }
  double K0_species1 = ((int) (t) == 0 ? 2 * internal->density_vec_sp1[(int) (1) - 1] * internal->dLL * internal->mu0 * (1 + internal->dPL * internal->muPL) * internal->gammaL * (lambda_species1 + 1) / (double) (lambda_species1 / (double) (internal->muLL * internal->dEL) - 1 / (double) (internal->muLL * internal->dLL) - 1) : 2 * internal->density_vec_sp1[(int) (t) - 1] * internal->dLL * internal->mu0 * (1 + internal->dPL * internal->muPL) * internal->gammaL * (lambda_species1 + 1) / (double) (lambda_species1 / (double) (internal->muLL * internal->dEL) - 1 / (double) (internal->muLL * internal->dLL) - 1));
  double K0_species2 = ((int) (t) == 0 ? 2 * internal->density_vec[(int) (1) - 1] * internal->dLL * internal->mu0 * (1 + internal->dPL * internal->muPL) * internal->gammaL * (lambda_species2 + 1) / (double) (lambda_species2 / (double) (internal->muLL * internal->dEL) - 1 / (double) (internal->muLL * internal->dLL) - 1) : 2 * internal->density_vec[(int) (t) - 1] * internal->dLL * internal->mu0 * (1 + internal->dPL * internal->muPL) * internal->gammaL * (lambda_species2 + 1) / (double) (lambda_species2 / (double) (internal->muLL * internal->dEL) - 1 / (double) (internal->muLL * internal->dLL) - 1));
  double KL_species1 = K0_species1 * theta_species1;
  double KL_species2 = K0_species2 * theta_species2;
  dstatedt[8] = beta_larval1 * mv1 - internal->muEL * (1 + (EL1 + LL1) / (double) KL_species1) * EL1 - EL1 / (double) internal->dEL;
  dstatedt[11] = beta_larval2 * mv2 - internal->muEL * (1 + (EL2 + LL2) / (double) KL_species2) * EL2 - EL2 / (double) internal->dEL;
  dstatedt[7] = EL1 / (double) internal->dEL - internal->muLL * (1 + internal->gammaL * (EL1 + LL1) / (double) KL_species1) * LL1 - LL1 / (double) internal->dLL;
  dstatedt[10] = EL2 / (double) internal->dEL - internal->muLL * (1 + internal->gammaL * (EL2 + LL2) / (double) KL_species2) * LL2 - LL2 / (double) internal->dLL;
  if (output) {
    double Iv = Iv1 + Iv2;
    output[1] = Iv1;
    output[2] = Iv2;
    output[3] = internal->omega;
    double mv = mv1 + mv2;
    output[6] = Iv;
    output[24] = mv1;
    output[25] = mv2;
    output[4] = theta_species1;
    double sp_rate_species1 = Iv1 / (double) mv1;
    double sp_rate_species2 = Iv2 / (double) mv2;
    output[12] = odin_sum3(A, 0, internal->dim_A_1, 0, internal->dim_A_2, 0, internal->dim_A_3, internal->dim_A_1, internal->dim_A_12);
    output[34] = d_IRS_1;
    output[37] = d_IRS_2;
    output[28] = d_ITN_1;
    output[31] = d_ITN_2;
    output[11] = odin_sum3(D, 0, internal->dim_D_1, 0, internal->dim_D_2, 0, internal->dim_D_3, internal->dim_D_1, internal->dim_D_12);
    output[23] = mv;
    output[14] = odin_sum3(P, 0, internal->dim_P_1, 0, internal->dim_P_2, 0, internal->dim_P_3, internal->dim_P_1, internal->dim_P_12);
    output[35] = r_IRS_1;
    output[38] = r_IRS_2;
    output[29] = r_ITN_1;
    output[32] = r_ITN_2;
    output[9] = odin_sum3(S, 0, internal->dim_S_1, 0, internal->dim_S_2, 0, internal->dim_S_3, internal->dim_S_1, internal->dim_S_12);
    output[7] = sp_rate_species1;
    output[8] = sp_rate_species2;
    output[10] = odin_sum3(T, 0, internal->dim_T_1, 0, internal->dim_T_2, 0, internal->dim_T_3, internal->dim_T_1, internal->dim_T_12);
    output[13] = odin_sum3(U, 0, internal->dim_U_1, 0, internal->dim_U_2, 0, internal->dim_U_3, internal->dim_U_1, internal->dim_U_12);
    memcpy(output + 56, internal->cov, internal->dim_cov * sizeof(double));
    output[36] = s_IRS_1;
    output[39] = s_IRS_2;
    output[30] = s_ITN_1;
    output[33] = s_ITN_2;
    output[5] = theta_species2;
    for (int i = 1; i <= internal->dim_p_det_1; ++i) {
      for (int j = 1; j <= internal->dim_p_det_2; ++j) {
        for (int k = 1; k <= internal->dim_p_det_3; ++k) {
          internal->p_det[i - 1 + internal->dim_p_det_1 * (j - 1) + internal->dim_p_det_12 * (k - 1)] = internal->d1 + (1 - internal->d1) / (double) (1 + internal->fd[i - 1] * pow((ID[internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1] / (double) internal->ID0), internal->kD));
        }
      }
    }
    output[0] = H;
    output[54] = FOIv_species1;
    output[55] = FOIv_species2;
    for (int i = 1; i <= internal->age05; ++i) {
      for (int j = 1; j <= internal->dim_prev0to5_2; ++j) {
        for (int k = 1; k <= internal->dim_prev0to5_3; ++k) {
          internal->prev0to5[i - 1 + internal->dim_prev0to5_1 * (j - 1) + internal->dim_prev0to5_12 * (k - 1)] = T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] + D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] + A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] * internal->p_det[internal->dim_p_det_12 * (k - 1) + internal->dim_p_det_1 * (j - 1) + i - 1];
        }
      }
    }
    for (int i = 1; i <= internal->age59; ++i) {
      for (int j = 1; j <= internal->dim_prev0to59_2; ++j) {
        for (int k = 1; k <= internal->dim_prev0to59_3; ++k) {
          internal->prev0to59[i - 1 + internal->dim_prev0to59_1 * (j - 1) + internal->dim_prev0to59_12 * (k - 1)] = T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] + D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] + A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] * internal->p_det[internal->dim_p_det_12 * (k - 1) + internal->dim_p_det_1 * (j - 1) + i - 1];
        }
      }
    }
    output[15] = odin_sum3(internal->prev0to59, 0, internal->dim_prev0to59_1, 0, internal->dim_prev0to59_2, 0, internal->dim_prev0to59_3, internal->dim_prev0to59_1, internal->dim_prev0to59_12) / (double) odin_sum1(internal->den, 0, internal->age59);
    output[16] = odin_sum3(internal->prev0to5, 0, internal->dim_prev0to5_1, 0, internal->dim_prev0to5_2, 0, internal->dim_prev0to5_3, internal->dim_prev0to5_1, internal->dim_prev0to5_12) / (double) odin_sum1(internal->den, 0, internal->age05);
    for (int i = 1; i <= internal->age05; ++i) {
      for (int j = 1; j <= internal->dim_clin_inc0to5_2; ++j) {
        for (int k = 1; k <= internal->dim_clin_inc0to5_3; ++k) {
          internal->clin_inc0to5[i - 1 + internal->dim_clin_inc0to5_1 * (j - 1) + internal->dim_clin_inc0to5_12 * (k - 1)] = internal->clin_inc[internal->dim_clin_inc_12 * (k - 1) + internal->dim_clin_inc_1 * (j - 1) + i - 1];
        }
      }
    }
    output[18] = odin_sum3(internal->clin_inc, 0, internal->dim_clin_inc_1, 0, internal->dim_clin_inc_2, 0, internal->dim_clin_inc_3, internal->dim_clin_inc_1, internal->dim_clin_inc_12);
    output[17] = odin_sum1(internal->clin_inc0to5, 0, internal->dim_clin_inc0to5) / (double) odin_sum1(internal->den, 0, internal->age05);
    output[26] = wh1;
    output[27] = wh2;
    output[44] = zbar1;
    output[45] = zbar2;
    output[42] = wbar1;
    output[43] = wbar2;
    output[40] = p1_1;
    output[41] = p1_2;
    output[46] = Q_1;
    output[47] = Q_2;
    output[48] = av1;
    output[49] = av2;
    output[19] = mu1;
    output[20] = mu2;
    output[21] = beta_larval1;
    output[22] = beta_larval2;
    memcpy(output + internal->offset_output_EIR_species1, internal->EIR_species1, internal->dim_EIR_species1 * sizeof(double));
    memcpy(output + internal->offset_output_EIR_species2, internal->EIR_species2, internal->dim_EIR_species2 * sizeof(double));
    memcpy(output + internal->offset_output_EIR, internal->EIR, internal->dim_EIR * sizeof(double));
    output[50] = K0_species1;
    output[51] = K0_species2;
    output[52] = KL_species1;
    output[53] = KL_species2;
  }
}
void odin_model_2sp_tv1_rhs_dde(size_t neq, double t, double * state, double * dstatedt, void * internal) {
  odin_model_2sp_tv1_rhs((odin_model_2sp_tv1_internal*)internal, t, state, dstatedt, NULL);
}
void odin_model_2sp_tv1_rhs_desolve(int * neq, double * t, double * state, double * dstatedt, double * output, int * np) {
  odin_model_2sp_tv1_rhs(odin_model_2sp_tv1_internal_ds, *t, state, dstatedt, output);
}
void odin_model_2sp_tv1_output_dde(size_t n_eq, double t, double * state, size_t n_output, double * output, void * internal_p) {
  odin_model_2sp_tv1_internal *internal = (odin_model_2sp_tv1_internal*) internal_p;
  double * S = state + 12;
  double * T = state + internal->offset_variable_T;
  double * D = state + internal->offset_variable_D;
  double * A = state + internal->offset_variable_A;
  double * U = state + internal->offset_variable_U;
  double * P = state + internal->offset_variable_P;
  double * ICM = state + internal->offset_variable_ICM;
  double * ICA = state + internal->offset_variable_ICA;
  double * ID = state + internal->offset_variable_ID;
  double Sv1 = state[0];
  double Ev1 = state[1];
  double Iv1 = state[2];
  double Sv2 = state[3];
  double Ev2 = state[4];
  double Iv2 = state[5];
  double IRS_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->IRS_interval))) * internal->irs_loss));
  double ITN_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->ITN_interval))) * internal->itn_loss));
  double Iv = Iv1 + Iv2;
  double mv1 = Sv1 + Ev1 + Iv1;
  double mv2 = Sv2 + Ev2 + Iv2;
  output[1] = Iv1;
  output[2] = Iv2;
  output[3] = internal->omega;
  double theta_species1 = (internal->ssa0 == 0 && internal->ssa1 == 0 && internal->ssa2 == 0 && internal->ssb1 == 0 && internal->ssb2 == 0 && internal->ssb3 == 0 && internal->theta_c == 0 ? 1 : fmax((internal->ssa0 + internal->ssa1 * cos(2 * internal->pi * t / (double) 365) + internal->ssa2 * cos(2 * 2 * internal->pi * t / (double) 365) + internal->ssa3 * cos(3 * 2 * internal->pi * t / (double) 365) + internal->ssb1 * sin(2 * internal->pi * t / (double) 365) + internal->ssb2 * sin(2 * 2 * internal->pi * t / (double) 365) + internal->ssb3 * sin(3 * 2 * internal->pi * t / (double) 365)) / (double) internal->theta_c, 0.001));
  double d_IRS_1 = (t < internal->ITN_IRS_on ? 0 : internal->chi_species1 * internal->d_IRS0_1 * IRS_decay);
  double d_IRS_2 = (t < internal->ITN_IRS_on ? 0 : internal->chi_species2 * internal->d_IRS0_2 * IRS_decay);
  double d_ITN_1 = (t < internal->ITN_IRS_on ? 0 : internal->d_ITN0_1 * ITN_decay);
  double d_ITN_2 = (t < internal->ITN_IRS_on ? 0 : internal->d_ITN0_2 * ITN_decay);
  double mv = mv1 + mv2;
  output[6] = Iv;
  output[24] = mv1;
  output[25] = mv2;
  output[4] = theta_species1;
  double r_IRS_1 = (t < internal->ITN_IRS_on ? 0 : internal->r_IRS0_1 * IRS_decay);
  double r_IRS_2 = (t < internal->ITN_IRS_on ? 0 : internal->r_IRS0_2 * IRS_decay);
  double r_ITN_1 = (t < internal->ITN_IRS_on ? 0 : internal->r_ITN1 + (internal->r_ITN0_1 - internal->r_ITN1) * ITN_decay);
  double r_ITN_2 = (t < internal->ITN_IRS_on ? 0 : internal->r_ITN2 + (internal->r_ITN0_2 - internal->r_ITN2) * ITN_decay);
  double sp_rate_species1 = Iv1 / (double) mv1;
  double sp_rate_species2 = Iv2 / (double) mv2;
  double Ah = odin_sum3(A, 0, internal->dim_A_1, 0, internal->dim_A_2, 0, internal->dim_A_3, internal->dim_A_1, internal->dim_A_12);
  double Dh = odin_sum3(D, 0, internal->dim_D_1, 0, internal->dim_D_2, 0, internal->dim_D_3, internal->dim_D_1, internal->dim_D_12);
  output[12] = odin_sum3(A, 0, internal->dim_A_1, 0, internal->dim_A_2, 0, internal->dim_A_3, internal->dim_A_1, internal->dim_A_12);
  output[34] = d_IRS_1;
  output[37] = d_IRS_2;
  output[28] = d_ITN_1;
  output[31] = d_ITN_2;
  output[11] = odin_sum3(D, 0, internal->dim_D_1, 0, internal->dim_D_2, 0, internal->dim_D_3, internal->dim_D_1, internal->dim_D_12);
  output[23] = mv;
  output[14] = odin_sum3(P, 0, internal->dim_P_1, 0, internal->dim_P_2, 0, internal->dim_P_3, internal->dim_P_1, internal->dim_P_12);
  output[35] = r_IRS_1;
  output[38] = r_IRS_2;
  output[29] = r_ITN_1;
  output[32] = r_ITN_2;
  output[9] = odin_sum3(S, 0, internal->dim_S_1, 0, internal->dim_S_2, 0, internal->dim_S_3, internal->dim_S_1, internal->dim_S_12);
  output[7] = sp_rate_species1;
  output[8] = sp_rate_species2;
  output[10] = odin_sum3(T, 0, internal->dim_T_1, 0, internal->dim_T_2, 0, internal->dim_T_3, internal->dim_T_1, internal->dim_T_12);
  output[13] = odin_sum3(U, 0, internal->dim_U_1, 0, internal->dim_U_2, 0, internal->dim_U_3, internal->dim_U_1, internal->dim_U_12);
  double Ph = odin_sum3(P, 0, internal->dim_P_1, 0, internal->dim_P_2, 0, internal->dim_P_3, internal->dim_P_1, internal->dim_P_12);
  double s_IRS_1 = (t < internal->ITN_IRS_on ? 1 : 1 - d_IRS_1);
  double s_IRS_2 = (t < internal->ITN_IRS_on ? 1 : 1 - d_IRS_2);
  double s_ITN_1 = (t < internal->ITN_IRS_on ? 1 : 1 - d_ITN_1 - r_ITN_1);
  double s_ITN_2 = (t < internal->ITN_IRS_on ? 1 : 1 - d_ITN_2 - r_ITN_2);
  double Sh = odin_sum3(S, 0, internal->dim_S_1, 0, internal->dim_S_2, 0, internal->dim_S_3, internal->dim_S_1, internal->dim_S_12);
  double Th = odin_sum3(T, 0, internal->dim_T_1, 0, internal->dim_T_2, 0, internal->dim_T_3, internal->dim_T_1, internal->dim_T_12);
  double theta_species2 = ((int) (t) == 0 ? internal->custom_seasonality[(int) (1) - 1] : internal->custom_seasonality[(int) (t) - 1]);
  double Uh = odin_sum3(U, 0, internal->dim_U_1, 0, internal->dim_U_2, 0, internal->dim_U_3, internal->dim_U_1, internal->dim_U_12);
  {
     int i = 1;
     internal->z1_[i - 1] = 0;
  }
  {
     int i = 2;
     internal->z1_[i - 1] = internal->bites_Bed_species1 * r_ITN_1;
  }
  {
     int i = 3;
     internal->z1_[i - 1] = internal->bites_Indoors_species1 * r_IRS_1;
  }
  {
     int i = 4;
     internal->z1_[i - 1] = internal->bites_Bed_species1 * (r_IRS_1 + (1 - r_IRS_1) * r_ITN_1) + (internal->bites_Indoors_species1 - internal->bites_Bed_species1) * r_IRS_1;
  }
  {
     int i = 1;
     internal->z2_[i - 1] = 0;
  }
  {
     int i = 2;
     internal->z2_[i - 1] = internal->bites_Bed_species2 * r_ITN_2;
  }
  {
     int i = 3;
     internal->z2_[i - 1] = internal->bites_Indoors_species2 * r_IRS_2;
  }
  {
     int i = 4;
     internal->z2_[i - 1] = internal->bites_Bed_species2 * (r_IRS_2 + (1 - r_IRS_2) * r_ITN_2) + (internal->bites_Indoors_species2 - internal->bites_Bed_species2) * r_IRS_2;
  }
  // delay block for FOI
  {
    const double t_true = t;
    const double t = t_true - internal->dE;
    double Iv1;
    double Iv2;
    double *IB;
    if (t <= internal->initial_t) {
      Iv1 = internal->initial_Iv1;
      Iv2 = internal->initial_Iv2;
      IB = internal->initial_IB;
    } else {
      lagvalue(t, internal->odin_model_2sp_tv1_use_dde, internal->delay_index_FOI, internal->dim_delay_FOI, internal->delay_state_FOI);
      Iv1 = internal->delay_state_FOI[0];
      Iv2 = internal->delay_state_FOI[1];
      IB = internal->delay_state_FOI + 2;
    }
    double IRS_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->IRS_interval))) * internal->irs_loss));
    double ITN_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->ITN_interval))) * internal->itn_loss));
    double r_IRS_1 = (t < internal->ITN_IRS_on ? 0 : internal->r_IRS0_1 * IRS_decay);
    double r_IRS_2 = (t < internal->ITN_IRS_on ? 0 : internal->r_IRS0_2 * IRS_decay);
    double d_ITN_1 = (t < internal->ITN_IRS_on ? 0 : internal->d_ITN0_1 * ITN_decay);
    double r_ITN_1 = (t < internal->ITN_IRS_on ? 0 : internal->r_ITN1 + (internal->r_ITN0_1 - internal->r_ITN1) * ITN_decay);
    double d_ITN_2 = (t < internal->ITN_IRS_on ? 0 : internal->d_ITN0_2 * ITN_decay);
    double r_ITN_2 = (t < internal->ITN_IRS_on ? 0 : internal->r_ITN2 + (internal->r_ITN0_2 - internal->r_ITN2) * ITN_decay);
    double d_IRS_1 = (t < internal->ITN_IRS_on ? 0 : internal->chi_species1 * internal->d_IRS0_1 * IRS_decay);
    double d_IRS_2 = (t < internal->ITN_IRS_on ? 0 : internal->chi_species2 * internal->d_IRS0_2 * IRS_decay);
    double s_ITN_1 = (t < internal->ITN_IRS_on ? 1 : 1 - d_ITN_1 - r_ITN_1);
    double s_ITN_2 = (t < internal->ITN_IRS_on ? 1 : 1 - d_ITN_2 - r_ITN_2);
    double s_IRS_1 = (t < internal->ITN_IRS_on ? 1 : 1 - d_IRS_1);
    double s_IRS_2 = (t < internal->ITN_IRS_on ? 1 : 1 - d_IRS_2);
    {
       int i = 1;
       internal->delay_array_z1_[i - 1] = 0;
    }
    {
       int i = 2;
       internal->delay_array_z1_[i - 1] = internal->bites_Bed_species1 * r_ITN_1;
    }
    {
       int i = 3;
       internal->delay_array_z1_[i - 1] = internal->bites_Indoors_species1 * r_IRS_1;
    }
    {
       int i = 4;
       internal->delay_array_z1_[i - 1] = internal->bites_Bed_species1 * (r_IRS_1 + (1 - r_IRS_1) * r_ITN_1) + (internal->bites_Indoors_species1 - internal->bites_Bed_species1) * r_IRS_1;
    }
    {
       int i = 1;
       internal->delay_array_z2_[i - 1] = 0;
    }
    {
       int i = 2;
       internal->delay_array_z2_[i - 1] = internal->bites_Bed_species2 * r_ITN_2;
    }
    {
       int i = 3;
       internal->delay_array_z2_[i - 1] = internal->bites_Indoors_species2 * r_IRS_2;
    }
    {
       int i = 4;
       internal->delay_array_z2_[i - 1] = internal->bites_Bed_species2 * (r_IRS_2 + (1 - r_IRS_2) * r_ITN_2) + (internal->bites_Indoors_species2 - internal->bites_Bed_species2) * r_IRS_2;
    }
    for (int i = 1; i <= internal->na; ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        for (int k = 1; k <= internal->num_int; ++k) {
          internal->delay_array_b[i - 1 + internal->dim_b_1 * (j - 1) + internal->dim_b_12 * (k - 1)] = internal->b0 * ((1 - internal->b1) / (double) (1 + pow((IB[internal->dim_IB_12 * (k - 1) + internal->dim_IB_1 * (j - 1) + i - 1] / (double) internal->IB0), internal->kB)) + internal->b1);
        }
      }
    }
    {
       int i = 1;
       internal->delay_array_w1_[i - 1] = 1;
    }
    {
       int i = 2;
       internal->delay_array_w1_[i - 1] = 1 - internal->bites_Bed_species1 + internal->bites_Bed_species1 * s_ITN_1;
    }
    {
       int i = 3;
       internal->delay_array_w1_[i - 1] = 1 - internal->bites_Indoors_species1 + internal->bites_Indoors_species1 * (1 - r_IRS_1) * s_IRS_1;
    }
    {
       int i = 4;
       internal->delay_array_w1_[i - 1] = 1 - internal->bites_Indoors_species1 + internal->bites_Bed_species1 * (1 - r_IRS_1) * s_ITN_1 * s_IRS_1 + (internal->bites_Indoors_species1 - internal->bites_Bed_species1) * (1 - r_IRS_1) * s_IRS_1;
    }
    {
       int i = 1;
       internal->delay_array_w2_[i - 1] = 1;
    }
    {
       int i = 2;
       internal->delay_array_w2_[i - 1] = 1 - internal->bites_Bed_species2 + internal->bites_Bed_species2 * s_ITN_2;
    }
    {
       int i = 3;
       internal->delay_array_w2_[i - 1] = 1 - internal->bites_Indoors_species2 + internal->bites_Indoors_species2 * (1 - r_IRS_2) * s_IRS_2;
    }
    {
       int i = 4;
       internal->delay_array_w2_[i - 1] = 1 - internal->bites_Indoors_species2 + internal->bites_Bed_species2 * (1 - r_IRS_2) * s_ITN_2 * s_IRS_2 + (internal->bites_Indoors_species2 - internal->bites_Bed_species2) * (1 - r_IRS_2) * s_IRS_2;
    }
    for (int i = 1; i <= internal->dim_z1; ++i) {
      internal->delay_array_z1[i - 1] = internal->delay_array_z1_[i - 1];
    }
    for (int i = 1; i <= internal->dim_z2; ++i) {
      internal->delay_array_z2[i - 1] = internal->delay_array_z2_[i - 1];
    }
    {
       int i = 1;
       internal->delay_array_yy1_[i - 1] = 1;
    }
    {
       int i = 2;
       internal->delay_array_yy1_[i - 1] = internal->delay_array_w1_[1];
    }
    {
       int i = 3;
       internal->delay_array_yy1_[i - 1] = 1 - internal->bites_Indoors_species1 + internal->bites_Indoors_species1 * (1 - r_IRS_1);
    }
    {
       int i = 4;
       internal->delay_array_yy1_[i - 1] = 1 - internal->bites_Indoors_species1 + internal->bites_Bed_species1 * (1 - r_IRS_1) * s_ITN_1 + (internal->bites_Indoors_species1 - internal->bites_Bed_species1) * (1 - r_IRS_1);
    }
    {
       int i = 1;
       internal->delay_array_yy2_[i - 1] = 1;
    }
    {
       int i = 2;
       internal->delay_array_yy2_[i - 1] = internal->delay_array_w2_[1];
    }
    {
       int i = 3;
       internal->delay_array_yy2_[i - 1] = 1 - internal->bites_Indoors_species2 + internal->bites_Indoors_species2 * (1 - r_IRS_2);
    }
    {
       int i = 4;
       internal->delay_array_yy2_[i - 1] = 1 - internal->bites_Indoors_species2 + internal->bites_Bed_species2 * (1 - r_IRS_2) * s_ITN_2 + (internal->bites_Indoors_species2 - internal->bites_Bed_species2) * (1 - r_IRS_2);
    }
    for (int i = 1; i <= internal->dim_w1; ++i) {
      internal->delay_array_w1[i - 1] = internal->delay_array_w1_[i - 1];
    }
    for (int i = 1; i <= internal->dim_w2; ++i) {
      internal->delay_array_w2[i - 1] = internal->delay_array_w2_[i - 1];
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_zhi1[i - 1] = internal->cov[i - 1] * internal->delay_array_z1[i - 1];
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_zhi2[i - 1] = internal->cov[i - 1] * internal->delay_array_z2[i - 1];
    }
    for (int i = 1; i <= internal->dim_yy1; ++i) {
      internal->delay_array_yy1[i - 1] = internal->delay_array_yy1_[i - 1];
    }
    for (int i = 1; i <= internal->dim_yy2; ++i) {
      internal->delay_array_yy2[i - 1] = internal->delay_array_yy2_[i - 1];
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_whi1[i - 1] = internal->cov[i - 1] * internal->delay_array_w1[i - 1];
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_whi2[i - 1] = internal->cov[i - 1] * internal->delay_array_w2[i - 1];
    }
    double zh1 = (t < internal->ITN_IRS_on ? 0 : odin_sum1(internal->delay_array_zhi1, 0, internal->dim_zhi1));
    double zh2 = (t < internal->ITN_IRS_on ? 0 : odin_sum1(internal->delay_array_zhi2, 0, internal->dim_zhi2));
    double wh1 = (t < internal->ITN_IRS_on ? 1 : odin_sum1(internal->delay_array_whi1, 0, internal->dim_whi1));
    double wh2 = (t < internal->ITN_IRS_on ? 1 : odin_sum1(internal->delay_array_whi2, 0, internal->dim_whi2));
    double zbar1 = internal->Q0_species1 * zh1;
    double zbar2 = internal->Q0_species2 * zh2;
    double fv1 = 1 / (double) (internal->tau1 / (double) (1 - zbar1) + internal->tau2);
    double fv2 = 1 / (double) (internal->tau1 / (double) (1 - zbar2) + internal->tau2);
    double wbar1 = 1 - internal->Q0_species1 + internal->Q0_species1 * wh1;
    double wbar2 = 1 - internal->Q0_species2 + internal->Q0_species2 * wh2;
    double Q_1 = 1 - (1 - internal->Q0_species1) / (double) wbar1;
    double Q_2 = 1 - (1 - internal->Q0_species2) / (double) wbar2;
    double av1 = fv1 * Q_1;
    double av2 = fv2 * Q_2;
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_av_human1[i - 1] = av1 * internal->delay_array_yy1[i - 1] / (double) wh1;
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_av_human2[i - 1] = av2 * internal->delay_array_yy2[i - 1] / (double) wh2;
    }
    for (int i = 1; i <= internal->dim_EIR_species1_1; ++i) {
      for (int j = 1; j <= internal->dim_EIR_species1_2; ++j) {
        for (int k = 1; k <= internal->dim_EIR_species1_3; ++k) {
          internal->delay_array_EIR_species1[i - 1 + internal->dim_EIR_species1_1 * (j - 1) + internal->dim_EIR_species1_12 * (k - 1)] = internal->delay_array_av_human1[k - 1] * internal->rel_foi[j - 1] * internal->foi_age[i - 1] * Iv1 / (double) internal->omega;
        }
      }
    }
    for (int i = 1; i <= internal->dim_EIR_species2_1; ++i) {
      for (int j = 1; j <= internal->dim_EIR_species2_2; ++j) {
        for (int k = 1; k <= internal->dim_EIR_species2_3; ++k) {
          internal->delay_array_EIR_species2[i - 1 + internal->dim_EIR_species2_1 * (j - 1) + internal->dim_EIR_species2_12 * (k - 1)] = internal->delay_array_av_human2[k - 1] * internal->rel_foi[j - 1] * internal->foi_age[i - 1] * Iv2 / (double) internal->omega;
        }
      }
    }
    for (int i = 1; i <= internal->dim_EIR_1; ++i) {
      for (int j = 1; j <= internal->dim_EIR_2; ++j) {
        for (int k = 1; k <= internal->dim_EIR_3; ++k) {
          internal->delay_array_EIR[i - 1 + internal->dim_EIR_1 * (j - 1) + internal->dim_EIR_12 * (k - 1)] = internal->delay_array_EIR_species1[internal->dim_EIR_species1_12 * (k - 1) + internal->dim_EIR_species1_1 * (j - 1) + i - 1] + internal->delay_array_EIR_species2[internal->dim_EIR_species2_12 * (k - 1) + internal->dim_EIR_species2_1 * (j - 1) + i - 1];
        }
      }
    }
    for (int i = 1; i <= internal->na; ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        for (int k = 1; k <= internal->num_int; ++k) {
          internal->delay_array_FOI_lag[i - 1 + internal->dim_FOI_lag_1 * (j - 1) + internal->dim_FOI_lag_12 * (k - 1)] = internal->delay_array_EIR[internal->dim_EIR_12 * (k - 1) + internal->dim_EIR_1 * (j - 1) + i - 1] * ((IB[internal->dim_IB_12 * (k - 1) + internal->dim_IB_1 * (j - 1) + i - 1] == 0 ? internal->b0 : internal->delay_array_b[internal->dim_b_12 * (k - 1) + internal->dim_b_1 * (j - 1) + i - 1]));
        }
      }
    }
    for (int i = 1; i <= internal->dim_FOI_1; ++i) {
      for (int j = 1; j <= internal->dim_FOI_2; ++j) {
        for (int k = 1; k <= internal->dim_FOI_3; ++k) {
          internal->FOI[i - 1 + internal->dim_FOI_1 * (j - 1) + internal->dim_FOI_12 * (k - 1)] = internal->delay_array_FOI_lag[internal->dim_FOI_lag_12 * (k - 1) + internal->dim_FOI_lag_1 * (j - 1) + i - 1];
        }
      }
    }
  }
  // delay block for FOIv_species1
  double FOIv_species1;
  {
    const double t_true = t;
    const double t = t_true - internal->delayGam;
    double *T;
    double *D;
    double *A;
    double *U;
    double *ID;
    if (t <= internal->initial_t) {
      T = internal->initial_T;
      D = internal->initial_D;
      A = internal->initial_A;
      U = internal->initial_U;
      ID = internal->initial_ID;
    } else {
      lagvalue(t, internal->odin_model_2sp_tv1_use_dde, internal->delay_index_FOIv_species1, internal->dim_delay_FOIv_species1, internal->delay_state_FOIv_species1);
      T = internal->delay_state_FOIv_species1 + 0;
      D = internal->delay_state_FOIv_species1 + internal->dim_T;
      A = internal->delay_state_FOIv_species1 + internal->offset_FOIv_species1_A;
      U = internal->delay_state_FOIv_species1 + internal->offset_FOIv_species1_U;
      ID = internal->delay_state_FOIv_species1 + internal->offset_FOIv_species1_ID;
    }
    double IRS_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->IRS_interval))) * internal->irs_loss));
    double ITN_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->ITN_interval))) * internal->itn_loss));
    double r_IRS_1 = (t < internal->ITN_IRS_on ? 0 : internal->r_IRS0_1 * IRS_decay);
    double d_ITN_1 = (t < internal->ITN_IRS_on ? 0 : internal->d_ITN0_1 * ITN_decay);
    double r_ITN_1 = (t < internal->ITN_IRS_on ? 0 : internal->r_ITN1 + (internal->r_ITN0_1 - internal->r_ITN1) * ITN_decay);
    double d_IRS_1 = (t < internal->ITN_IRS_on ? 0 : internal->chi_species1 * internal->d_IRS0_1 * IRS_decay);
    double s_ITN_1 = (t < internal->ITN_IRS_on ? 1 : 1 - d_ITN_1 - r_ITN_1);
    double s_IRS_1 = (t < internal->ITN_IRS_on ? 1 : 1 - d_IRS_1);
    {
       int i = 1;
       internal->delay_array_z1_[i - 1] = 0;
    }
    {
       int i = 2;
       internal->delay_array_z1_[i - 1] = internal->bites_Bed_species1 * r_ITN_1;
    }
    {
       int i = 3;
       internal->delay_array_z1_[i - 1] = internal->bites_Indoors_species1 * r_IRS_1;
    }
    {
       int i = 4;
       internal->delay_array_z1_[i - 1] = internal->bites_Bed_species1 * (r_IRS_1 + (1 - r_IRS_1) * r_ITN_1) + (internal->bites_Indoors_species1 - internal->bites_Bed_species1) * r_IRS_1;
    }
    for (int i = 1; i <= internal->dim_p_det_1; ++i) {
      for (int j = 1; j <= internal->dim_p_det_2; ++j) {
        for (int k = 1; k <= internal->dim_p_det_3; ++k) {
          internal->delay_array_p_det[i - 1 + internal->dim_p_det_1 * (j - 1) + internal->dim_p_det_12 * (k - 1)] = internal->d1 + (1 - internal->d1) / (double) (1 + internal->fd[i - 1] * pow((ID[internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1] / (double) internal->ID0), internal->kD));
        }
      }
    }
    {
       int i = 1;
       internal->delay_array_w1_[i - 1] = 1;
    }
    {
       int i = 2;
       internal->delay_array_w1_[i - 1] = 1 - internal->bites_Bed_species1 + internal->bites_Bed_species1 * s_ITN_1;
    }
    {
       int i = 3;
       internal->delay_array_w1_[i - 1] = 1 - internal->bites_Indoors_species1 + internal->bites_Indoors_species1 * (1 - r_IRS_1) * s_IRS_1;
    }
    {
       int i = 4;
       internal->delay_array_w1_[i - 1] = 1 - internal->bites_Indoors_species1 + internal->bites_Bed_species1 * (1 - r_IRS_1) * s_ITN_1 * s_IRS_1 + (internal->bites_Indoors_species1 - internal->bites_Bed_species1) * (1 - r_IRS_1) * s_IRS_1;
    }
    for (int i = 1; i <= internal->dim_z1; ++i) {
      internal->delay_array_z1[i - 1] = internal->delay_array_z1_[i - 1];
    }
    for (int i = 1; i <= internal->dim_cA_1; ++i) {
      for (int j = 1; j <= internal->dim_cA_2; ++j) {
        for (int k = 1; k <= internal->dim_cA_3; ++k) {
          internal->delay_array_cA[i - 1 + internal->dim_cA_1 * (j - 1) + internal->dim_cA_12 * (k - 1)] = internal->cU + (internal->cD - internal->cU) * pow(internal->delay_array_p_det[internal->dim_p_det_12 * (k - 1) + internal->dim_p_det_1 * (j - 1) + i - 1], internal->gamma1);
        }
      }
    }
    for (int i = 1; i <= internal->dim_w1; ++i) {
      internal->delay_array_w1[i - 1] = internal->delay_array_w1_[i - 1];
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_zhi1[i - 1] = internal->cov[i - 1] * internal->delay_array_z1[i - 1];
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_whi1[i - 1] = internal->cov[i - 1] * internal->delay_array_w1[i - 1];
    }
    double zh1 = (t < internal->ITN_IRS_on ? 0 : odin_sum1(internal->delay_array_zhi1, 0, internal->dim_zhi1));
    double wh1 = (t < internal->ITN_IRS_on ? 1 : odin_sum1(internal->delay_array_whi1, 0, internal->dim_whi1));
    double zbar1 = internal->Q0_species1 * zh1;
    double fv1 = 1 / (double) (internal->tau1 / (double) (1 - zbar1) + internal->tau2);
    double wbar1 = 1 - internal->Q0_species1 + internal->Q0_species1 * wh1;
    double Q_1 = 1 - (1 - internal->Q0_species1) / (double) wbar1;
    double av1 = fv1 * Q_1;
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_av_mosq1[i - 1] = av1 * internal->delay_array_w1[i - 1] / (double) wh1;
    }
    for (int i = 1; i <= internal->na; ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        for (int k = 1; k <= internal->num_int; ++k) {
          internal->delay_array_FOIvijk_species1[i - 1 + internal->dim_FOIvijk_species1_1 * (j - 1) + internal->dim_FOIvijk_species1_12 * (k - 1)] = (internal->cT * T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] + internal->cD * D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] + internal->delay_array_cA[internal->dim_cA_12 * (k - 1) + internal->dim_cA_1 * (j - 1) + i - 1] * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] + internal->cU * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1]) * internal->rel_foi[j - 1] * internal->delay_array_av_mosq1[k - 1] * internal->foi_age[i - 1] / (double) internal->omega;
        }
      }
    }
    double lag_FOIv_species1 = odin_sum1(internal->delay_array_FOIvijk_species1, 0, internal->dim_FOIvijk_species1);
    FOIv_species1 = lag_FOIv_species1;
  }
  // delay block for FOIv_species2
  double FOIv_species2;
  {
    const double t_true = t;
    const double t = t_true - internal->delayGam;
    double *T;
    double *D;
    double *A;
    double *U;
    double *ID;
    if (t <= internal->initial_t) {
      T = internal->initial_T;
      D = internal->initial_D;
      A = internal->initial_A;
      U = internal->initial_U;
      ID = internal->initial_ID;
    } else {
      lagvalue(t, internal->odin_model_2sp_tv1_use_dde, internal->delay_index_FOIv_species2, internal->dim_delay_FOIv_species2, internal->delay_state_FOIv_species2);
      T = internal->delay_state_FOIv_species2 + 0;
      D = internal->delay_state_FOIv_species2 + internal->dim_T;
      A = internal->delay_state_FOIv_species2 + internal->offset_FOIv_species2_A;
      U = internal->delay_state_FOIv_species2 + internal->offset_FOIv_species2_U;
      ID = internal->delay_state_FOIv_species2 + internal->offset_FOIv_species2_ID;
    }
    double IRS_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->IRS_interval))) * internal->irs_loss));
    double ITN_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->ITN_interval))) * internal->itn_loss));
    double r_IRS_2 = (t < internal->ITN_IRS_on ? 0 : internal->r_IRS0_2 * IRS_decay);
    double d_ITN_2 = (t < internal->ITN_IRS_on ? 0 : internal->d_ITN0_2 * ITN_decay);
    double r_ITN_2 = (t < internal->ITN_IRS_on ? 0 : internal->r_ITN2 + (internal->r_ITN0_2 - internal->r_ITN2) * ITN_decay);
    double d_IRS_2 = (t < internal->ITN_IRS_on ? 0 : internal->chi_species2 * internal->d_IRS0_2 * IRS_decay);
    double s_ITN_2 = (t < internal->ITN_IRS_on ? 1 : 1 - d_ITN_2 - r_ITN_2);
    double s_IRS_2 = (t < internal->ITN_IRS_on ? 1 : 1 - d_IRS_2);
    {
       int i = 1;
       internal->delay_array_z2_[i - 1] = 0;
    }
    {
       int i = 2;
       internal->delay_array_z2_[i - 1] = internal->bites_Bed_species2 * r_ITN_2;
    }
    {
       int i = 3;
       internal->delay_array_z2_[i - 1] = internal->bites_Indoors_species2 * r_IRS_2;
    }
    {
       int i = 4;
       internal->delay_array_z2_[i - 1] = internal->bites_Bed_species2 * (r_IRS_2 + (1 - r_IRS_2) * r_ITN_2) + (internal->bites_Indoors_species2 - internal->bites_Bed_species2) * r_IRS_2;
    }
    for (int i = 1; i <= internal->dim_p_det_1; ++i) {
      for (int j = 1; j <= internal->dim_p_det_2; ++j) {
        for (int k = 1; k <= internal->dim_p_det_3; ++k) {
          internal->delay_array_p_det[i - 1 + internal->dim_p_det_1 * (j - 1) + internal->dim_p_det_12 * (k - 1)] = internal->d1 + (1 - internal->d1) / (double) (1 + internal->fd[i - 1] * pow((ID[internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1] / (double) internal->ID0), internal->kD));
        }
      }
    }
    {
       int i = 1;
       internal->delay_array_w2_[i - 1] = 1;
    }
    {
       int i = 2;
       internal->delay_array_w2_[i - 1] = 1 - internal->bites_Bed_species2 + internal->bites_Bed_species2 * s_ITN_2;
    }
    {
       int i = 3;
       internal->delay_array_w2_[i - 1] = 1 - internal->bites_Indoors_species2 + internal->bites_Indoors_species2 * (1 - r_IRS_2) * s_IRS_2;
    }
    {
       int i = 4;
       internal->delay_array_w2_[i - 1] = 1 - internal->bites_Indoors_species2 + internal->bites_Bed_species2 * (1 - r_IRS_2) * s_ITN_2 * s_IRS_2 + (internal->bites_Indoors_species2 - internal->bites_Bed_species2) * (1 - r_IRS_2) * s_IRS_2;
    }
    for (int i = 1; i <= internal->dim_z2; ++i) {
      internal->delay_array_z2[i - 1] = internal->delay_array_z2_[i - 1];
    }
    for (int i = 1; i <= internal->dim_cA_1; ++i) {
      for (int j = 1; j <= internal->dim_cA_2; ++j) {
        for (int k = 1; k <= internal->dim_cA_3; ++k) {
          internal->delay_array_cA[i - 1 + internal->dim_cA_1 * (j - 1) + internal->dim_cA_12 * (k - 1)] = internal->cU + (internal->cD - internal->cU) * pow(internal->delay_array_p_det[internal->dim_p_det_12 * (k - 1) + internal->dim_p_det_1 * (j - 1) + i - 1], internal->gamma1);
        }
      }
    }
    for (int i = 1; i <= internal->dim_w2; ++i) {
      internal->delay_array_w2[i - 1] = internal->delay_array_w2_[i - 1];
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_zhi2[i - 1] = internal->cov[i - 1] * internal->delay_array_z2[i - 1];
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_whi2[i - 1] = internal->cov[i - 1] * internal->delay_array_w2[i - 1];
    }
    double zh2 = (t < internal->ITN_IRS_on ? 0 : odin_sum1(internal->delay_array_zhi2, 0, internal->dim_zhi2));
    double wh2 = (t < internal->ITN_IRS_on ? 1 : odin_sum1(internal->delay_array_whi2, 0, internal->dim_whi2));
    double zbar2 = internal->Q0_species2 * zh2;
    double fv2 = 1 / (double) (internal->tau1 / (double) (1 - zbar2) + internal->tau2);
    double wbar2 = 1 - internal->Q0_species2 + internal->Q0_species2 * wh2;
    double Q_2 = 1 - (1 - internal->Q0_species2) / (double) wbar2;
    double av2 = fv2 * Q_2;
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_av_mosq2[i - 1] = av2 * internal->delay_array_w2[i - 1] / (double) wh2;
    }
    for (int i = 1; i <= internal->na; ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        for (int k = 1; k <= internal->num_int; ++k) {
          internal->delay_array_FOIvijk_species2[i - 1 + internal->dim_FOIvijk_species2_1 * (j - 1) + internal->dim_FOIvijk_species2_12 * (k - 1)] = (internal->cT * T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] + internal->cD * D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] + internal->delay_array_cA[internal->dim_cA_12 * (k - 1) + internal->dim_cA_1 * (j - 1) + i - 1] * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] + internal->cU * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1]) * internal->rel_foi[j - 1] * internal->delay_array_av_mosq2[k - 1] * internal->foi_age[i - 1] / (double) internal->omega;
        }
      }
    }
    double lag_FOIv_species2 = odin_sum1(internal->delay_array_FOIvijk_species2, 0, internal->dim_FOIvijk_species2);
    FOIv_species2 = lag_FOIv_species2;
  }
  double H = Sh + Th + Dh + Ah + Uh + Ph;
  for (int i = 1; i <= internal->dim_IC_1; ++i) {
    for (int j = 1; j <= internal->dim_IC_2; ++j) {
      for (int k = 1; k <= internal->dim_IC_3; ++k) {
        internal->IC[i - 1 + internal->dim_IC_1 * (j - 1) + internal->dim_IC_12 * (k - 1)] = ICM[internal->dim_ICM_12 * (k - 1) + internal->dim_ICM_1 * (j - 1) + i - 1] + ICA[internal->dim_ICA_12 * (k - 1) + internal->dim_ICA_1 * (j - 1) + i - 1];
      }
    }
  }
  memcpy(output + 56, internal->cov, internal->dim_cov * sizeof(double));
  output[36] = s_IRS_1;
  output[39] = s_IRS_2;
  output[30] = s_ITN_1;
  output[33] = s_ITN_2;
  output[5] = theta_species2;
  for (int i = 1; i <= internal->dim_p_det_1; ++i) {
    for (int j = 1; j <= internal->dim_p_det_2; ++j) {
      for (int k = 1; k <= internal->dim_p_det_3; ++k) {
        internal->p_det[i - 1 + internal->dim_p_det_1 * (j - 1) + internal->dim_p_det_12 * (k - 1)] = internal->d1 + (1 - internal->d1) / (double) (1 + internal->fd[i - 1] * pow((ID[internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1] / (double) internal->ID0), internal->kD));
      }
    }
  }
  {
     int i = 1;
     internal->w1_[i - 1] = 1;
  }
  {
     int i = 2;
     internal->w1_[i - 1] = 1 - internal->bites_Bed_species1 + internal->bites_Bed_species1 * s_ITN_1;
  }
  {
     int i = 3;
     internal->w1_[i - 1] = 1 - internal->bites_Indoors_species1 + internal->bites_Indoors_species1 * (1 - r_IRS_1) * s_IRS_1;
  }
  {
     int i = 4;
     internal->w1_[i - 1] = 1 - internal->bites_Indoors_species1 + internal->bites_Bed_species1 * (1 - r_IRS_1) * s_ITN_1 * s_IRS_1 + (internal->bites_Indoors_species1 - internal->bites_Bed_species1) * (1 - r_IRS_1) * s_IRS_1;
  }
  {
     int i = 1;
     internal->w2_[i - 1] = 1;
  }
  {
     int i = 2;
     internal->w2_[i - 1] = 1 - internal->bites_Bed_species2 + internal->bites_Bed_species2 * s_ITN_2;
  }
  {
     int i = 3;
     internal->w2_[i - 1] = 1 - internal->bites_Indoors_species2 + internal->bites_Indoors_species2 * (1 - r_IRS_2) * s_IRS_2;
  }
  {
     int i = 4;
     internal->w2_[i - 1] = 1 - internal->bites_Indoors_species2 + internal->bites_Bed_species2 * (1 - r_IRS_2) * s_ITN_2 * s_IRS_2 + (internal->bites_Indoors_species2 - internal->bites_Bed_species2) * (1 - r_IRS_2) * s_IRS_2;
  }
  for (int i = 1; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        internal->Y[i - 1 + internal->dim_Y_1 * (j - 1) + internal->dim_Y_12 * (k - 1)] = S[internal->dim_S_12 * (k - 1) + internal->dim_S_1 * (j - 1) + i - 1] + A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] + U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_z1; ++i) {
    internal->z1[i - 1] = internal->z1_[i - 1];
  }
  for (int i = 1; i <= internal->dim_z2; ++i) {
    internal->z2[i - 1] = internal->z2_[i - 1];
  }
  output[0] = H;
  output[54] = FOIv_species1;
  output[55] = FOIv_species2;
  for (int i = 1; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        internal->phi[i - 1 + internal->dim_phi_1 * (j - 1) + internal->dim_phi_12 * (k - 1)] = internal->phi0 * ((1 - internal->phi1) / (double) (1 + pow((internal->IC[internal->dim_IC_12 * (k - 1) + internal->dim_IC_1 * (j - 1) + i - 1] / (double) internal->IC0), internal->kC)) + internal->phi1);
      }
    }
  }
  for (int i = 1; i <= internal->age05; ++i) {
    for (int j = 1; j <= internal->dim_prev0to5_2; ++j) {
      for (int k = 1; k <= internal->dim_prev0to5_3; ++k) {
        internal->prev0to5[i - 1 + internal->dim_prev0to5_1 * (j - 1) + internal->dim_prev0to5_12 * (k - 1)] = T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] + D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] + A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] * internal->p_det[internal->dim_p_det_12 * (k - 1) + internal->dim_p_det_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->age59; ++i) {
    for (int j = 1; j <= internal->dim_prev0to59_2; ++j) {
      for (int k = 1; k <= internal->dim_prev0to59_3; ++k) {
        internal->prev0to59[i - 1 + internal->dim_prev0to59_1 * (j - 1) + internal->dim_prev0to59_12 * (k - 1)] = T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] + D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] + A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] * internal->p_det[internal->dim_p_det_12 * (k - 1) + internal->dim_p_det_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_w1; ++i) {
    internal->w1[i - 1] = internal->w1_[i - 1];
  }
  for (int i = 1; i <= internal->dim_w2; ++i) {
    internal->w2[i - 1] = internal->w2_[i - 1];
  }
  {
     int i = 1;
     internal->yy1_[i - 1] = 1;
  }
  {
     int i = 2;
     internal->yy1_[i - 1] = internal->w1_[1];
  }
  {
     int i = 3;
     internal->yy1_[i - 1] = 1 - internal->bites_Indoors_species1 + internal->bites_Indoors_species1 * (1 - r_IRS_1);
  }
  {
     int i = 4;
     internal->yy1_[i - 1] = 1 - internal->bites_Indoors_species1 + internal->bites_Bed_species1 * (1 - r_IRS_1) * s_ITN_1 + (internal->bites_Indoors_species1 - internal->bites_Bed_species1) * (1 - r_IRS_1);
  }
  {
     int i = 1;
     internal->yy2_[i - 1] = 1;
  }
  {
     int i = 2;
     internal->yy2_[i - 1] = internal->w2_[1];
  }
  {
     int i = 3;
     internal->yy2_[i - 1] = 1 - internal->bites_Indoors_species2 + internal->bites_Indoors_species2 * (1 - r_IRS_2);
  }
  {
     int i = 4;
     internal->yy2_[i - 1] = 1 - internal->bites_Indoors_species2 + internal->bites_Bed_species2 * (1 - r_IRS_2) * s_ITN_2 + (internal->bites_Indoors_species2 - internal->bites_Bed_species2) * (1 - r_IRS_2);
  }
  for (int i = 1; i <= internal->num_int; ++i) {
    internal->zhi1[i - 1] = internal->cov[i - 1] * internal->z1[i - 1];
  }
  for (int i = 1; i <= internal->num_int; ++i) {
    internal->zhi2[i - 1] = internal->cov[i - 1] * internal->z2[i - 1];
  }
  for (int i = 1; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        internal->clin_inc[i - 1 + internal->dim_clin_inc_1 * (j - 1) + internal->dim_clin_inc_12 * (k - 1)] = internal->phi[internal->dim_phi_12 * (k - 1) + internal->dim_phi_1 * (j - 1) + i - 1] * internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * internal->Y[internal->dim_Y_12 * (k - 1) + internal->dim_Y_1 * (j - 1) + i - 1];
      }
    }
  }
  output[15] = odin_sum3(internal->prev0to59, 0, internal->dim_prev0to59_1, 0, internal->dim_prev0to59_2, 0, internal->dim_prev0to59_3, internal->dim_prev0to59_1, internal->dim_prev0to59_12) / (double) odin_sum1(internal->den, 0, internal->age59);
  output[16] = odin_sum3(internal->prev0to5, 0, internal->dim_prev0to5_1, 0, internal->dim_prev0to5_2, 0, internal->dim_prev0to5_3, internal->dim_prev0to5_1, internal->dim_prev0to5_12) / (double) odin_sum1(internal->den, 0, internal->age05);
  for (int i = 1; i <= internal->num_int; ++i) {
    internal->whi1[i - 1] = internal->cov[i - 1] * internal->w1[i - 1];
  }
  for (int i = 1; i <= internal->num_int; ++i) {
    internal->whi2[i - 1] = internal->cov[i - 1] * internal->w2[i - 1];
  }
  for (int i = 1; i <= internal->dim_yy1; ++i) {
    internal->yy1[i - 1] = internal->yy1_[i - 1];
  }
  for (int i = 1; i <= internal->dim_yy2; ++i) {
    internal->yy2[i - 1] = internal->yy2_[i - 1];
  }
  double zh1 = (t < internal->ITN_IRS_on ? 0 : odin_sum1(internal->zhi1, 0, internal->dim_zhi1));
  double zh2 = (t < internal->ITN_IRS_on ? 0 : odin_sum1(internal->zhi2, 0, internal->dim_zhi2));
  for (int i = 1; i <= internal->age05; ++i) {
    for (int j = 1; j <= internal->dim_clin_inc0to5_2; ++j) {
      for (int k = 1; k <= internal->dim_clin_inc0to5_3; ++k) {
        internal->clin_inc0to5[i - 1 + internal->dim_clin_inc0to5_1 * (j - 1) + internal->dim_clin_inc0to5_12 * (k - 1)] = internal->clin_inc[internal->dim_clin_inc_12 * (k - 1) + internal->dim_clin_inc_1 * (j - 1) + i - 1];
      }
    }
  }
  output[18] = odin_sum3(internal->clin_inc, 0, internal->dim_clin_inc_1, 0, internal->dim_clin_inc_2, 0, internal->dim_clin_inc_3, internal->dim_clin_inc_1, internal->dim_clin_inc_12);
  double wh1 = (t < internal->ITN_IRS_on ? 1 : odin_sum1(internal->whi1, 0, internal->dim_whi1));
  double wh2 = (t < internal->ITN_IRS_on ? 1 : odin_sum1(internal->whi2, 0, internal->dim_whi2));
  double zbar1 = internal->Q0_species1 * zh1;
  double zbar2 = internal->Q0_species2 * zh2;
  double fv1 = 1 / (double) (internal->tau1 / (double) (1 - zbar1) + internal->tau2);
  double fv2 = 1 / (double) (internal->tau1 / (double) (1 - zbar2) + internal->tau2);
  output[17] = odin_sum1(internal->clin_inc0to5, 0, internal->dim_clin_inc0to5) / (double) odin_sum1(internal->den, 0, internal->age05);
  output[26] = wh1;
  output[27] = wh2;
  output[44] = zbar1;
  output[45] = zbar2;
  double wbar1 = 1 - internal->Q0_species1 + internal->Q0_species1 * wh1;
  double wbar2 = 1 - internal->Q0_species2 + internal->Q0_species2 * wh2;
  output[42] = wbar1;
  output[43] = wbar2;
  double p1_1 = wbar1 * internal->p10 / (double) (1 - zbar1 * internal->p10);
  double p1_2 = wbar2 * internal->p10 / (double) (1 - zbar2 * internal->p10);
  double Q_1 = 1 - (1 - internal->Q0_species1) / (double) wbar1;
  double Q_2 = 1 - (1 - internal->Q0_species2) / (double) wbar2;
  double av1 = fv1 * Q_1;
  double av2 = fv2 * Q_2;
  double mu1 = -(fv1) * log(p1_1 * internal->p2);
  double mu2 = -(fv2) * log(p1_2 * internal->p2);
  output[40] = p1_1;
  output[41] = p1_2;
  output[46] = Q_1;
  output[47] = Q_2;
  for (int i = 1; i <= internal->num_int; ++i) {
    internal->av_human1[i - 1] = av1 * internal->yy1[i - 1] / (double) wh1;
  }
  for (int i = 1; i <= internal->num_int; ++i) {
    internal->av_human2[i - 1] = av2 * internal->yy2[i - 1] / (double) wh2;
  }
  double eov1 = internal->betaL / (double) mu1 * (exp(mu1 / (double) fv1) - 1);
  double eov2 = internal->betaL / (double) mu2 * (exp(mu2 / (double) fv2) - 1);
  output[48] = av1;
  output[49] = av2;
  output[19] = mu1;
  output[20] = mu2;
  double beta_larval1 = eov1 * mu1 * exp(-(mu1) / (double) fv1) / (double) (1 - exp(-(mu1) / (double) fv1));
  double beta_larval2 = eov2 * mu2 * exp(-(mu2) / (double) fv2) / (double) (1 - exp(-(mu2) / (double) fv2));
  for (int i = 1; i <= internal->dim_EIR_species1_1; ++i) {
    for (int j = 1; j <= internal->dim_EIR_species1_2; ++j) {
      for (int k = 1; k <= internal->dim_EIR_species1_3; ++k) {
        internal->EIR_species1[i - 1 + internal->dim_EIR_species1_1 * (j - 1) + internal->dim_EIR_species1_12 * (k - 1)] = internal->av_human1[k - 1] * internal->rel_foi[j - 1] * internal->foi_age[i - 1] * Iv1 / (double) internal->omega;
      }
    }
  }
  for (int i = 1; i <= internal->dim_EIR_species2_1; ++i) {
    for (int j = 1; j <= internal->dim_EIR_species2_2; ++j) {
      for (int k = 1; k <= internal->dim_EIR_species2_3; ++k) {
        internal->EIR_species2[i - 1 + internal->dim_EIR_species2_1 * (j - 1) + internal->dim_EIR_species2_12 * (k - 1)] = internal->av_human2[k - 1] * internal->rel_foi[j - 1] * internal->foi_age[i - 1] * Iv2 / (double) internal->omega;
      }
    }
  }
  for (int i = 1; i <= internal->dim_EIR_1; ++i) {
    for (int j = 1; j <= internal->dim_EIR_2; ++j) {
      for (int k = 1; k <= internal->dim_EIR_3; ++k) {
        internal->EIR[i - 1 + internal->dim_EIR_1 * (j - 1) + internal->dim_EIR_12 * (k - 1)] = internal->EIR_species1[internal->dim_EIR_species1_12 * (k - 1) + internal->dim_EIR_species1_1 * (j - 1) + i - 1] + internal->EIR_species2[internal->dim_EIR_species2_12 * (k - 1) + internal->dim_EIR_species2_1 * (j - 1) + i - 1];
      }
    }
  }
  double lambda_species1 = -(0.5) * internal->b_lambda + sqrt(0.25 * pow(internal->b_lambda, 2) + internal->gammaL * beta_larval1 * internal->muLL * internal->dEL / (double) (2 * internal->muEL * internal->mu0 * internal->dLL * (1 + internal->dPL * internal->muPL)));
  double lambda_species2 = -(0.5) * internal->b_lambda + sqrt(0.25 * pow(internal->b_lambda, 2) + internal->gammaL * beta_larval2 * internal->muLL * internal->dEL / (double) (2 * internal->muEL * internal->mu0 * internal->dLL * (1 + internal->dPL * internal->muPL)));
  output[21] = beta_larval1;
  output[22] = beta_larval2;
  memcpy(output + internal->offset_output_EIR_species1, internal->EIR_species1, internal->dim_EIR_species1 * sizeof(double));
  memcpy(output + internal->offset_output_EIR_species2, internal->EIR_species2, internal->dim_EIR_species2 * sizeof(double));
  double K0_species1 = ((int) (t) == 0 ? 2 * internal->density_vec_sp1[(int) (1) - 1] * internal->dLL * internal->mu0 * (1 + internal->dPL * internal->muPL) * internal->gammaL * (lambda_species1 + 1) / (double) (lambda_species1 / (double) (internal->muLL * internal->dEL) - 1 / (double) (internal->muLL * internal->dLL) - 1) : 2 * internal->density_vec_sp1[(int) (t) - 1] * internal->dLL * internal->mu0 * (1 + internal->dPL * internal->muPL) * internal->gammaL * (lambda_species1 + 1) / (double) (lambda_species1 / (double) (internal->muLL * internal->dEL) - 1 / (double) (internal->muLL * internal->dLL) - 1));
  double K0_species2 = ((int) (t) == 0 ? 2 * internal->density_vec[(int) (1) - 1] * internal->dLL * internal->mu0 * (1 + internal->dPL * internal->muPL) * internal->gammaL * (lambda_species2 + 1) / (double) (lambda_species2 / (double) (internal->muLL * internal->dEL) - 1 / (double) (internal->muLL * internal->dLL) - 1) : 2 * internal->density_vec[(int) (t) - 1] * internal->dLL * internal->mu0 * (1 + internal->dPL * internal->muPL) * internal->gammaL * (lambda_species2 + 1) / (double) (lambda_species2 / (double) (internal->muLL * internal->dEL) - 1 / (double) (internal->muLL * internal->dLL) - 1));
  memcpy(output + internal->offset_output_EIR, internal->EIR, internal->dim_EIR * sizeof(double));
  double KL_species1 = K0_species1 * theta_species1;
  double KL_species2 = K0_species2 * theta_species2;
  output[50] = K0_species1;
  output[51] = K0_species2;
  output[52] = KL_species1;
  output[53] = KL_species2;
}
SEXP odin_model_2sp_tv1_rhs_r(SEXP internal_p, SEXP t, SEXP state) {
  SEXP dstatedt = PROTECT(allocVector(REALSXP, LENGTH(state)));
  odin_model_2sp_tv1_internal *internal = odin_model_2sp_tv1_get_internal(internal_p, 1);
  SEXP output_ptr = PROTECT(allocVector(REALSXP, internal->dim_cov + internal->dim_EIR + internal->dim_EIR_species1 + internal->dim_EIR_species2 + 56));
  setAttrib(dstatedt, install("output"), output_ptr);
  UNPROTECT(1);
  double *output = REAL(output_ptr);
  const double initial_t = internal->initial_t;
  if (ISNA(initial_t)) {
    internal->initial_t = scalar_real(t, "t");
  }
  odin_model_2sp_tv1_rhs(internal, scalar_real(t, "t"), REAL(state), REAL(dstatedt), output);
  if (ISNA(initial_t)) {
    internal->initial_t = initial_t;
  }
  UNPROTECT(1);
  return dstatedt;
}
double user_get_scalar_double(SEXP user, const char *name,
                              double default_value, double min, double max) {
  double ret = default_value;
  SEXP el = user_list_element(user, name);
  if (el != R_NilValue) {
    if (length(el) != 1) {
      Rf_error("Expected a scalar numeric for '%s'", name);
    }
    if (TYPEOF(el) == REALSXP) {
      ret = REAL(el)[0];
    } else if (TYPEOF(el) == INTSXP) {
      ret = INTEGER(el)[0];
    } else {
      Rf_error("Expected a numeric value for '%s'", name);
    }
  }
  if (ISNA(ret)) {
    Rf_error("Expected a value for '%s'", name);
  }
  user_check_values_double(&ret, 1, min, max, name);
  return ret;
}
int user_get_scalar_int(SEXP user, const char *name,
                        int default_value, double min, double max) {
  int ret = default_value;
  SEXP el = user_list_element(user, name);
  if (el != R_NilValue) {
    if (length(el) != 1) {
      Rf_error("Expected scalar integer for '%d'", name);
    }
    if (TYPEOF(el) == REALSXP) {
      double tmp = REAL(el)[0];
      if (fabs(tmp - round(tmp)) > 2e-8) {
        Rf_error("Expected '%s' to be integer-like", name);
      }
    }
    ret = INTEGER(coerceVector(el, INTSXP))[0];
  }
  if (ret == NA_INTEGER) {
    Rf_error("Expected a value for '%s'", name);
  }
  user_check_values_int(&ret, 1, min, max, name);
  return ret;
}
void user_check_values_double(double * value, size_t len,
                                  double min, double max, const char *name) {
  for (size_t i = 0; i < len; ++i) {
    if (ISNA(value[i])) {
      Rf_error("'%s' must not contain any NA values", name);
    }
  }
  if (min != NA_REAL) {
    for (size_t i = 0; i < len; ++i) {
      if (value[i] < min) {
        Rf_error("Expected '%s' to be at least %g", name, min);
      }
    }
  }
  if (max != NA_REAL) {
    for (size_t i = 0; i < len; ++i) {
      if (value[i] > max) {
        Rf_error("Expected '%s' to be at most %g", name, max);
      }
    }
  }
}
void user_check_values_int(int * value, size_t len,
                               double min, double max, const char *name) {
  for (size_t i = 0; i < len; ++i) {
    if (ISNA(value[i])) {
      Rf_error("'%s' must not contain any NA values", name);
    }
  }
  if (min != NA_REAL) {
    for (size_t i = 0; i < len; ++i) {
      if (value[i] < min) {
        Rf_error("Expected '%s' to be at least %g", name, min);
      }
    }
  }
  if (max != NA_REAL) {
    for (size_t i = 0; i < len; ++i) {
      if (value[i] > max) {
        Rf_error("Expected '%s' to be at most %g", name, max);
      }
    }
  }
}
void user_check_values(SEXP value, double min, double max,
                           const char *name) {
  size_t len = (size_t)length(value);
  if (TYPEOF(value) == INTSXP) {
    user_check_values_int(INTEGER(value), len, min, max, name);
  } else {
    user_check_values_double(REAL(value), len, min, max, name);
  }
}
SEXP user_list_element(SEXP list, const char *name) {
  SEXP ret = R_NilValue, names = getAttrib(list, R_NamesSymbol);
  for (int i = 0; i < length(list); ++i) {
    if (strcmp(CHAR(STRING_ELT(names, i)), name) == 0) {
      ret = VECTOR_ELT(list, i);
      break;
    }
  }
  return ret;
}
void odin_set_dim(SEXP target, int rank, ...) {
  SEXP r_dim = PROTECT(allocVector(INTSXP, rank));
  int *dim = INTEGER(r_dim);

  va_list ap;
  va_start(ap, rank);
  for (size_t i = 0; i < (size_t)rank; ++i) {
    dim[i] = va_arg(ap, int);
  }
  va_end(ap);

  setAttrib(target, R_DimSymbol, r_dim);
  UNPROTECT(1);
}
void* user_get_array_dim(SEXP user, bool is_integer, void * previous,
                         const char *name, int rank,
                         double min, double max, int *dest_dim) {
  SEXP el = user_get_array_check_rank(user, name, rank, previous == NULL);
  if (el == R_NilValue) {
    return previous;
  }

  dest_dim[0] = LENGTH(el);
  if (rank > 1) {
    SEXP r_dim = PROTECT(coerceVector(getAttrib(el, R_DimSymbol), INTSXP));
    int *dim = INTEGER(r_dim);

    for (size_t i = 0; i < (size_t) rank; ++i) {
      dest_dim[i + 1] = dim[i];
    }

    UNPROTECT(1);
  }

  el = PROTECT(user_get_array_check(el, is_integer, name, min, max));

  int len = LENGTH(el);
  void *dest = NULL;
  if (is_integer) {
    dest = R_Calloc(len, int);
    memcpy(dest, INTEGER(el), len * sizeof(int));
  } else {
    dest = R_Calloc(len, double);
    memcpy(dest, REAL(el), len * sizeof(double));
  }
  R_Free(previous);

  UNPROTECT(1);

  return dest;
}
void* user_get_array(SEXP user, bool is_integer, void * previous,
                     const char *name, double min, double max,
                     int rank, ...) {
  SEXP el = user_get_array_check_rank(user, name, rank, previous == NULL);
  if (el == R_NilValue) {
    return previous;
  }

  SEXP r_dim;
  int *dim;

  size_t len = LENGTH(el);
  if (rank == 1) {
    r_dim = PROTECT(ScalarInteger(len));
  } else {
    r_dim = PROTECT(coerceVector(getAttrib(el, R_DimSymbol), INTSXP));
  }
  dim = INTEGER(r_dim);

  va_list ap;
  va_start(ap, rank);
  for (size_t i = 0; i < (size_t) rank; ++i) {
    int dim_expected = va_arg(ap, int);
    if (dim[i] != dim_expected) {
      va_end(ap); // avoid a leak
      if (rank == 1) {
        Rf_error("Expected length %d value for '%s'", dim_expected, name);
      } else {
        Rf_error("Incorrect size of dimension %d of '%s' (expected %d)",
                 i + 1, name, dim_expected);
      }
    }
  }
  va_end(ap);
  UNPROTECT(1);

  el = PROTECT(user_get_array_check(el, is_integer, name, min, max));

  void *dest = NULL;
  if (is_integer) {
    dest = R_Calloc(len, int);
    memcpy(dest, INTEGER(el), len * sizeof(int));
  } else {
    dest = R_Calloc(len, double);
    memcpy(dest, REAL(el), len * sizeof(double));
  }
  R_Free(previous);

  UNPROTECT(1);

  return dest;
}
SEXP user_get_array_check(SEXP el, bool is_integer, const char *name,
                          double min, double max) {
  size_t len = (size_t) length(el);
  if (is_integer) {
    if (TYPEOF(el) == INTSXP) {
      user_check_values_int(INTEGER(el), len, min, max, name);
    } else if (TYPEOF(el) == REALSXP) {
      el = PROTECT(coerceVector(el, INTSXP));
      user_check_values_int(INTEGER(el), len, min, max, name);
      UNPROTECT(1);
    } else {
      Rf_error("Expected a integer value for '%s'", name);
    }
  } else {
    if (TYPEOF(el) == INTSXP) {
      el = PROTECT(coerceVector(el, REALSXP));
      user_check_values_double(REAL(el), len, min, max, name);
      UNPROTECT(1);
    } else if (TYPEOF(el) == REALSXP) {
      user_check_values_double(REAL(el), len, min, max, name);
    } else {
      Rf_error("Expected a numeric value for '%s'", name);
    }
  }
  return el;
}
SEXP user_get_array_check_rank(SEXP user, const char *name, int rank,
                               bool required) {
  SEXP el = user_list_element(user, name);
  if (el == R_NilValue) {
    if (required) {
      Rf_error("Expected a value for '%s'", name);
    }
  } else {
    if (rank == 1) {
      if (isArray(el)) {
        Rf_error("Expected a numeric vector for '%s'", name);
      }
    } else {
      SEXP r_dim = getAttrib(el, R_DimSymbol);
      if (r_dim == R_NilValue || LENGTH(r_dim) != rank) {
        if (rank == 2) {
          Rf_error("Expected a numeric matrix for '%s'", name);
        } else {
          Rf_error("Expected a numeric array of rank %d for '%s'", rank, name);
        }
      }
    }
  }
  return el;
}
void lagvalue(double t, bool use_dde, int *idx, int dim_idx, double *state) {
  if (use_dde) {
    lagvalue_dde(t, idx, dim_idx, state);
  } else {
    lagvalue_ds(t, idx, dim_idx, state);
  }
}
void lagvalue_dde(double t, int *idx, size_t dim_idx, double *state) {
  typedef void (*lagvalue_type)(double, int*, size_t, double*);
  static lagvalue_type fun = NULL;
  if (fun == NULL) {
    fun = (lagvalue_type)R_GetCCallable("dde", "ylag_vec_int");
  }
  fun(t, idx, dim_idx, state);
}
void lagvalue_ds(double t, int *idx, int dim_idx, double *state) {
  typedef void (*lagvalue_type)(double, int*, int, double*);
  static lagvalue_type fun = NULL;
  if (fun == NULL) {
    fun = (lagvalue_type)R_GetCCallable("deSolve", "lagvalue");
  }
  fun(t, idx, dim_idx, state);
}
double fmodr(double x, double y) {
  double tmp = fmod(x, y);
  if (tmp * y < 0) {
    tmp += y;
  }
  return tmp;
}
double odin_sum1(double *x, size_t from, size_t to) {
  double tot = 0.0;
  for (size_t i = from; i < to; ++i) {
    tot += x[i];
  }
  return tot;
}
int odin_isum1(int *x, size_t from, size_t to) {
  int tot = 0.0;
  for (size_t i = from; i < to; ++i) {
    tot += x[i];
  }
  return tot;
}
double scalar_real(SEXP x, const char * name) {
  if (Rf_length(x) != 1) {
    Rf_error("Expected a scalar for '%s'", name);
  }
  double ret = 0.0;
  if (TYPEOF(x) == INTSXP) {
    ret = INTEGER(x)[0];
  } else if (TYPEOF(x) == REALSXP) {
    ret = REAL(x)[0];
  } else {
    Rf_error("Expected a numeric value for '%s'", name);
  }
  return ret;
}
double odin_sum2(double* x, int from_i, int to_i, int from_j, int to_j, int dim_x_1) {
  double tot = 0.0;
  for (int j = from_j; j < to_j; ++j) {
    int jj = j * dim_x_1;
    for (int i = from_i; i < to_i; ++i) {
      tot += x[i + jj];
    }
  }
  return tot;
}
double odin_sum3(double* x, int from_i, int to_i, int from_j, int to_j, int from_k, int to_k, int dim_x_1, int dim_x_12) {
  double tot = 0.0;
  for (int k = from_k; k < to_k; ++k) {
    int kk = k * dim_x_12;
    for (int j = from_j; j < to_j; ++j) {
      int jj = j * dim_x_1 + kk;
      for (int i = from_i; i < to_i; ++i) {
        tot += x[i + jj];
      }
    }
  }
  return tot;
}
